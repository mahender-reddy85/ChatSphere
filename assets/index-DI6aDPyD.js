(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Kp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Jr={exports:{}},Yi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function ey(){if(xm)return Yi;xm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:l,type:s,key:p,ref:u!==void 0?u:null,props:d}}return Yi.Fragment=n,Yi.jsx=o,Yi.jsxs=o,Yi}var Tm;function ty(){return Tm||(Tm=1,Jr.exports=ey()),Jr.exports}var g=ty(),Yr={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function ny(){if(Sm)return ge;Sm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,O={};function F(N,H,K){this.props=N,this.context=H,this.refs=O,this.updater=K||q}F.prototype.isReactComponent={},F.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function Y(N,H,K){this.props=N,this.context=H,this.refs=O,this.updater=K||q}var Z=Y.prototype=new Q;Z.constructor=Y,U(Z,F.prototype),Z.isPureReactComponent=!0;var te=Array.isArray;function J(){}var P={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ne(N,H,K){var $=K.ref;return{$$typeof:l,type:N,key:H,ref:$!==void 0?$:null,props:K}}function de(N,H){return ne(N.type,H,N.props)}function ue(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function ce(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return H[K]})}var be=/\/+/g;function j(N,H){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):H.toString(36)}function ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(J,J):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function b(N,H,K,$,he){var W=typeof N;(W==="undefined"||W==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(W){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case l:case n:me=!0;break;case x:return me=N._init,b(me(N._payload),H,K,$,he)}}if(me)return he=he(N),me=$===""?"."+j(N,0):$,te(he)?(K="",me!=null&&(K=me.replace(be,"$&/")+"/"),b(he,H,K,"",function(Jt){return Jt})):he!=null&&(ue(he)&&(he=de(he,K+(he.key==null||N&&N.key===he.key?"":(""+he.key).replace(be,"$&/")+"/")+me)),H.push(he)),1;me=0;var Le=$===""?".":$+":";if(te(N))for(var qe=0;qe<N.length;qe++)$=N[qe],W=Le+j($,qe),me+=b($,H,K,W,he);else if(qe=A(N),typeof qe=="function")for(N=qe.call(N),qe=0;!($=N.next()).done;)$=$.value,W=Le+j($,qe++),me+=b($,H,K,W,he);else if(W==="object"){if(typeof N.then=="function")return b(ee(N),H,K,$,he);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function k(N,H,K){if(N==null)return N;var $=[],he=0;return b(N,$,"","",function(W){return H.call(K,W,he++)}),$}function X(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var ie=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},pe={map:k,forEach:function(N,H,K){k(N,function(){H.apply(this,arguments)},K)},count:function(N){var H=0;return k(N,function(){H++}),H},toArray:function(N){return k(N,function(H){return H})||[]},only:function(N){if(!ue(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ge.Activity=S,ge.Children=pe,ge.Component=F,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=Y,ge.StrictMode=s,ge.Suspense=v,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},ge.cache=function(N){return function(){return N.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(N,H,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var $=U({},N.props),he=N.key;if(H!=null)for(W in H.key!==void 0&&(he=""+H.key),H)!le.call(H,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&H.ref===void 0||($[W]=H[W]);var W=arguments.length-2;if(W===1)$.children=K;else if(1<W){for(var me=Array(W),Le=0;Le<W;Le++)me[Le]=arguments[Le+2];$.children=me}return ne(N.type,he,$)},ge.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},ge.createElement=function(N,H,K){var $,he={},W=null;if(H!=null)for($ in H.key!==void 0&&(W=""+H.key),H)le.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(he[$]=H[$]);var me=arguments.length-2;if(me===1)he.children=K;else if(1<me){for(var Le=Array(me),qe=0;qe<me;qe++)Le[qe]=arguments[qe+2];he.children=Le}if(N&&N.defaultProps)for($ in me=N.defaultProps,me)he[$]===void 0&&(he[$]=me[$]);return ne(N,W,he)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:y,render:N}},ge.isValidElement=ue,ge.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:X}},ge.memo=function(N,H){return{$$typeof:h,type:N,compare:H===void 0?null:H}},ge.startTransition=function(N){var H=P.T,K={};P.T=K;try{var $=N(),he=P.S;he!==null&&he(K,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(J,ie)}catch(W){ie(W)}finally{H!==null&&K.types!==null&&(H.types=K.types),P.T=H}},ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ge.use=function(N){return P.H.use(N)},ge.useActionState=function(N,H,K){return P.H.useActionState(N,H,K)},ge.useCallback=function(N,H){return P.H.useCallback(N,H)},ge.useContext=function(N){return P.H.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N,H){return P.H.useDeferredValue(N,H)},ge.useEffect=function(N,H){return P.H.useEffect(N,H)},ge.useEffectEvent=function(N){return P.H.useEffectEvent(N)},ge.useId=function(){return P.H.useId()},ge.useImperativeHandle=function(N,H,K){return P.H.useImperativeHandle(N,H,K)},ge.useInsertionEffect=function(N,H){return P.H.useInsertionEffect(N,H)},ge.useLayoutEffect=function(N,H){return P.H.useLayoutEffect(N,H)},ge.useMemo=function(N,H){return P.H.useMemo(N,H)},ge.useOptimistic=function(N,H){return P.H.useOptimistic(N,H)},ge.useReducer=function(N,H,K){return P.H.useReducer(N,H,K)},ge.useRef=function(N){return P.H.useRef(N)},ge.useState=function(N){return P.H.useState(N)},ge.useSyncExternalStore=function(N,H,K){return P.H.useSyncExternalStore(N,H,K)},ge.useTransition=function(){return P.H.useTransition()},ge.version="19.2.0",ge}var Cm;function su(){return Cm||(Cm=1,Yr.exports=ny()),Yr.exports}var V=su();const ly=Kp(V);var Fr={exports:{}},Fi={},Xr={exports:{}},Qr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function iy(){return Em||(Em=1,(function(l){function n(b,k){var X=b.length;b.push(k);e:for(;0<X;){var ie=X-1>>>1,pe=b[ie];if(0<u(pe,k))b[ie]=k,b[X]=pe,X=ie;else break e}}function o(b){return b.length===0?null:b[0]}function s(b){if(b.length===0)return null;var k=b[0],X=b.pop();if(X!==k){b[0]=X;e:for(var ie=0,pe=b.length,N=pe>>>1;ie<N;){var H=2*(ie+1)-1,K=b[H],$=H+1,he=b[$];if(0>u(K,X))$<pe&&0>u(he,K)?(b[ie]=he,b[$]=X,ie=$):(b[ie]=K,b[H]=X,ie=H);else if($<pe&&0>u(he,X))b[ie]=he,b[$]=X,ie=$;else break e}}return k}function u(b,k){var X=b.sortIndex-k.sortIndex;return X!==0?X:b.id-k.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,y=p.now();l.unstable_now=function(){return p.now()-y}}var v=[],h=[],x=1,S=null,C=3,A=!1,q=!1,U=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Z(b){for(var k=o(h);k!==null;){if(k.callback===null)s(h);else if(k.startTime<=b)s(h),k.sortIndex=k.expirationTime,n(v,k);else break;k=o(h)}}function te(b){if(U=!1,Z(b),!q)if(o(v)!==null)q=!0,J||(J=!0,ce());else{var k=o(h);k!==null&&ee(te,k.startTime-b)}}var J=!1,P=-1,le=5,ne=-1;function de(){return O?!0:!(l.unstable_now()-ne<le)}function ue(){if(O=!1,J){var b=l.unstable_now();ne=b;var k=!0;try{e:{q=!1,U&&(U=!1,Q(P),P=-1),A=!0;var X=C;try{t:{for(Z(b),S=o(v);S!==null&&!(S.expirationTime>b&&de());){var ie=S.callback;if(typeof ie=="function"){S.callback=null,C=S.priorityLevel;var pe=ie(S.expirationTime<=b);if(b=l.unstable_now(),typeof pe=="function"){S.callback=pe,Z(b),k=!0;break t}S===o(v)&&s(v),Z(b)}else s(v);S=o(v)}if(S!==null)k=!0;else{var N=o(h);N!==null&&ee(te,N.startTime-b),k=!1}}break e}finally{S=null,C=X,A=!1}k=void 0}}finally{k?ce():J=!1}}}var ce;if(typeof Y=="function")ce=function(){Y(ue)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,j=be.port2;be.port1.onmessage=ue,ce=function(){j.postMessage(null)}}else ce=function(){F(ue,0)};function ee(b,k){P=F(function(){b(l.unstable_now())},k)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(b){b.callback=null},l.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<b?Math.floor(1e3/b):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(b){switch(C){case 1:case 2:case 3:var k=3;break;default:k=C}var X=C;C=k;try{return b()}finally{C=X}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(b,k){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var X=C;C=b;try{return k()}finally{C=X}},l.unstable_scheduleCallback=function(b,k,X){var ie=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,b){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=X+pe,b={id:x++,callback:k,priorityLevel:b,startTime:X,expirationTime:pe,sortIndex:-1},X>ie?(b.sortIndex=X,n(h,b),o(v)===null&&b===o(h)&&(U?(Q(P),P=-1):U=!0,ee(te,X-ie))):(b.sortIndex=pe,n(v,b),q||A||(q=!0,J||(J=!0,ce()))),b},l.unstable_shouldYield=de,l.unstable_wrapCallback=function(b){var k=C;return function(){var X=C;C=k;try{return b.apply(this,arguments)}finally{C=X}}}})(Qr)),Qr}var _m;function oy(){return _m||(_m=1,Xr.exports=iy()),Xr.exports}var Kr={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function ay(){if(Am)return lt;Am=1;var l=su();function n(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(v,h,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:v,containerInfo:h,implementation:x}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,lt.createPortal=function(v,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(v,h,null,x)},lt.flushSync=function(v){var h=p.T,x=s.p;try{if(p.T=null,s.p=2,v)return v()}finally{p.T=h,s.p=x,s.d.f()}},lt.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(v,h))},lt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},lt.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var x=h.as,S=y(x,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?s.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:A}):x==="script"&&s.d.X(v,{crossOrigin:S,integrity:C,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=y(h.as,h.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(v)},lt.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,S=y(x,h.crossOrigin);s.d.L(v,x,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(v,h){if(typeof v=="string")if(h){var x=y(h.as,h.crossOrigin);s.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(v)},lt.requestFormReset=function(v){s.d.r(v)},lt.unstable_batchedUpdates=function(v,h){return v(h)},lt.useFormState=function(v,h,x){return p.H.useFormState(v,h,x)},lt.useFormStatus=function(){return p.H.useHostTransitionStatus()},lt.version="19.2.0",lt}var Nm;function sy(){if(Nm)return Kr.exports;Nm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Kr.exports=ay(),Kr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function ry(){if(Mm)return Fi;Mm=1;var l=oy(),n=su(),o=sy();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(a=f.return,a!==null){i=a;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return v(f),e;if(m===a)return v(f),t;m=m.sibling}throw Error(s(188))}if(i.return!==a.return)i=f,a=m;else{for(var T=!1,E=f.child;E;){if(E===i){T=!0,i=f,a=m;break}if(E===a){T=!0,a=f,i=m;break}E=E.sibling}if(!T){for(E=m.child;E;){if(E===i){T=!0,i=m,a=f;break}if(E===a){T=!0,a=m,i=f;break}E=E.sibling}if(!T)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case F:return"Profiler";case O:return"StrictMode";case te:return"Suspense";case J:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case Y:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:j(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return j(e(t))}catch{}}return null}var ee=Array.isArray,b=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ie=[],pe=-1;function N(e){return{current:e}}function H(e){0>pe||(e.current=ie[pe],ie[pe]=null,pe--)}function K(e,t){pe++,ie[pe]=e.current,e.current=t}var $=N(null),he=N(null),W=N(null),me=N(null);function Le(e,t){switch(K(W,t),K(he,e),K($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pd(t),e=Od(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),K($,e)}function qe(){H($),H(he),H(W)}function Jt(e){e.memoizedState!==null&&K(me,e);var t=$.current,i=Od(t,e.type);t!==i&&(K(he,e),K($,i))}function al(e){he.current===e&&(H($),H(he)),me.current===e&&(H(me),Bi._currentValue=X)}var Na,yu;function zn(e){if(Na===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Na=t&&t[1]||"",yu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+e+yu}var Ma=!1;function ba(e,t){if(!e||Ma)return"";Ma=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(L){var I=L}Reflect.construct(e,[],B)}else{try{B.call()}catch(L){I=L}e.call(B.prototype)}}else{try{throw Error()}catch(L){I=L}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),T=m[0],E=m[1];if(T&&E){var _=T.split(`
`),D=E.split(`
`);for(f=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(a===_.length||f===D.length)for(a=_.length-1,f=D.length-1;1<=a&&0<=f&&_[a]!==D[f];)f--;for(;1<=a&&0<=f;a--,f--)if(_[a]!==D[f]){if(a!==1||f!==1)do if(a--,f--,0>f||_[a]!==D[f]){var z=`
`+_[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=f);break}}}finally{Ma=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?zn(i):""}function Dh(e,t){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==t&&t!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return ba(e.type,!1);case 11:return ba(e.type.render,!1);case 1:return ba(e.type,!0);case 31:return zn("Activity");default:return""}}function vu(e){try{var t="",i=null;do t+=Dh(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var wa=Object.prototype.hasOwnProperty,Ra=l.unstable_scheduleCallback,Da=l.unstable_cancelCallback,kh=l.unstable_shouldYield,Ih=l.unstable_requestPaint,pt=l.unstable_now,Uh=l.unstable_getCurrentPriorityLevel,xu=l.unstable_ImmediatePriority,Tu=l.unstable_UserBlockingPriority,Zi=l.unstable_NormalPriority,Lh=l.unstable_LowPriority,Su=l.unstable_IdlePriority,qh=l.log,Hh=l.unstable_setDisableYieldValue,Wl=null,ht=null;function fn(e){if(typeof qh=="function"&&Hh(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Wl,e)}catch{}}var gt=Math.clz32?Math.clz32:Gh,zh=Math.log,Vh=Math.LN2;function Gh(e){return e>>>=0,e===0?32:31-(zh(e)/Vh|0)|0}var ji=256,$i=262144,Wi=4194304;function Vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function eo(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~m,a!==0?f=Vn(a):(T&=E,T!==0?f=Vn(T):i||(i=E&~e,i!==0&&(f=Vn(i))))):(E=a&~m,E!==0?f=Vn(E):T!==0?f=Vn(T):i||(i=a&~e,i!==0&&(f=Vn(i)))),f===0?0:t!==0&&t!==f&&(t&m)===0&&(m=f&-f,i=t&-t,m>=i||m===32&&(i&4194048)!==0)?t:f}function ei(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function ka(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ti(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,t,i,a,f,m){var T=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(i=T&~i;0<i;){var z=31-gt(i),B=1<<z;E[z]=0,_[z]=-1;var I=D[z];if(I!==null)for(D[z]=null,z=0;z<I.length;z++){var L=I[z];L!==null&&(L.lane&=-536870913)}i&=~B}a!==0&&Eu(e,a,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~t))}function Eu(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function _u(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-gt(i),f=1<<a;f&t|e[a]&t&&(e[a]|=t),i&=~f}}function Au(e,t){var i=t&-t;return i=(i&42)!==0?1:Ia(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ia(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function Mu(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var dn=Math.random().toString(36).slice(2),$e="__reactFiber$"+dn,st="__reactProps$"+dn,sl="__reactContainer$"+dn,La="__reactEvents$"+dn,Oh="__reactListeners$"+dn,Jh="__reactHandles$"+dn,bu="__reactResources$"+dn,ni="__reactMarker$"+dn;function qa(e){delete e[$e],delete e[st],delete e[La],delete e[Oh],delete e[Jh]}function rl(e){var t=e[$e];if(t)return t;for(var i=e.parentNode;i;){if(t=i[sl]||i[$e]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Zd(e);e!==null;){if(i=e[$e])return i;e=Zd(e)}return t}e=i,i=e.parentNode}return null}function ul(e){if(e=e[$e]||e[sl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function cl(e){var t=e[bu];return t||(t=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[ni]=!0}var wu=new Set,Ru={};function Gn(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(Ru[e]=t,e=0;e<t.length;e++)wu.add(t[e])}var Yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},ku={};function Fh(e){return wa.call(ku,e)?!0:wa.call(Du,e)?!1:Yh.test(e)?ku[e]=!0:(Du[e]=!0,!1)}function to(e,t,i){if(Fh(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function no(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Yt(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xh(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(T){i=""+T,m.call(this,T)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(T){i=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ha(e){if(!e._valueTracker){var t=Iu(e)?"checked":"value";e._valueTracker=Xh(e,t,""+e[t])}}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Iu(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qh=/[\n"\\]/g;function At(e){return e.replace(Qh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function za(e,t,i,a,f,m,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_t(t)):e.value!==""+_t(t)&&(e.value=""+_t(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?Va(e,T,_t(t)):i!=null?Va(e,T,_t(i)):a!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+_t(E):e.removeAttribute("name")}function Lu(e,t,i,a,f,m,T,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){Ha(e);return}i=i!=null?""+_t(i):"",t=t!=null?""+_t(t):i,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Ha(e)}function Va(e,t,i){t==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function dl(e,t,i,a){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&a&&(e[i].defaultSelected=!0)}else{for(i=""+_t(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function qu(e,t,i){if(t!=null&&(t=""+_t(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+_t(i):""}function Hu(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(s(92));if(ee(a)){if(1<a.length)throw Error(s(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=_t(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Ha(e)}function ml(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Kh.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Vu(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in t)a=t[f],t.hasOwnProperty(f)&&i[f]!==a&&zu(e,f,a)}else for(var m in t)t.hasOwnProperty(m)&&zu(e,m,t[m])}function Ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(e){return jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ft(){}var Ba=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pl=null,hl=null;function Gu(e){var t=ul(e);if(t&&(e=t.stateNode)){var i=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(za(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var f=a[st]||null;if(!f)throw Error(s(90));za(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Uu(a)}break e;case"textarea":qu(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&dl(e,!!i.multiple,t,!1)}}}var Oa=!1;function Bu(e,t,i){if(Oa)return e(t,i);Oa=!0;try{var a=e(t);return a}finally{if(Oa=!1,(pl!==null||hl!==null)&&(Fo(),pl&&(t=pl,e=hl,hl=pl=null,Gu(t),e)))for(t=0;t<e.length;t++)Gu(e[t])}}function ii(e,t){var i=e.stateNode;if(i===null)return null;var a=i[st]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Xt)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Ja=!1}var mn=null,Ya=null,oo=null;function Pu(){if(oo)return oo;var e,t=Ya,i=t.length,a,f="value"in mn?mn.value:mn.textContent,m=f.length;for(e=0;e<i&&t[e]===f[e];e++);var T=i-e;for(a=1;a<=T&&t[i-a]===f[m-a];a++);return oo=f.slice(e,1<a?1-a:void 0)}function ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Ou(){return!1}function rt(e){function t(i,a,f,m,T){this._reactName=i,this._targetInst=f,this.type=a,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?so:Ou,this.isPropagationStopped=Ou,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=rt(Bn),ai=S({},Bn,{view:0,detail:0}),$h=rt(ai),Fa,Xa,si,uo=S({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Fa=e.screenX-si.screenX,Xa=e.screenY-si.screenY):Xa=Fa=0,si=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),Ju=rt(uo),Wh=S({},uo,{dataTransfer:0}),eg=rt(Wh),tg=S({},ai,{relatedTarget:0}),Qa=rt(tg),ng=S({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=rt(ng),ig=S({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=rt(ig),ag=S({},Bn,{data:0}),Yu=rt(ag),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Ka(){return cg}var fg=S({},ai,{key:function(e){if(e.key){var t=sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=rt(fg),mg=S({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=rt(mg),pg=S({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),hg=rt(pg),gg=S({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=rt(gg),vg=S({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=rt(vg),Tg=S({},Bn,{newState:0,oldState:0}),Sg=rt(Tg),Cg=[9,13,27,32],Za=Xt&&"CompositionEvent"in window,ri=null;Xt&&"documentMode"in document&&(ri=document.documentMode);var Eg=Xt&&"TextEvent"in window&&!ri,Xu=Xt&&(!Za||ri&&8<ri&&11>=ri),Qu=" ",Ku=!1;function Zu(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gl=!1;function _g(e,t){switch(e){case"compositionend":return ju(t);case"keypress":return t.which!==32?null:(Ku=!0,Qu);case"textInput":return e=t.data,e===Qu&&Ku?null:e;default:return null}}function Ag(e,t){if(gl)return e==="compositionend"||!Za&&Zu(e,t)?(e=Pu(),oo=Ya=mn=null,gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xu&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Wu(e,t,i,a){pl?hl?hl.push(a):hl=[a]:pl=a,t=Wo(t,"onChange"),0<t.length&&(i=new ro("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ui=null,ci=null;function Mg(e){qd(e,0)}function co(e){var t=li(e);if(Uu(t))return e}function ec(e,t){if(e==="change")return t}var tc=!1;if(Xt){var ja;if(Xt){var $a="oninput"in document;if(!$a){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),$a=typeof nc.oninput=="function"}ja=$a}else ja=!1;tc=ja&&(!document.documentMode||9<document.documentMode)}function lc(){ui&&(ui.detachEvent("onpropertychange",ic),ci=ui=null)}function ic(e){if(e.propertyName==="value"&&co(ci)){var t=[];Wu(t,ci,e,Pa(e)),Bu(Mg,t)}}function bg(e,t,i){e==="focusin"?(lc(),ui=t,ci=i,ui.attachEvent("onpropertychange",ic)):e==="focusout"&&lc()}function wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(ci)}function Rg(e,t){if(e==="click")return co(t)}function Dg(e,t){if(e==="input"||e==="change")return co(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:kg;function fi(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var f=i[a];if(!wa.call(t,f)||!yt(e[f],t[f]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ac(e,t){var i=oc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=oc(i)}}function sc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=lo(e.document)}return t}function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ig=Xt&&"documentMode"in document&&11>=document.documentMode,yl=null,es=null,di=null,ts=!1;function uc(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ts||yl==null||yl!==lo(a)||(a=yl,"selectionStart"in a&&Wa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),di&&fi(di,a)||(di=a,a=Wo(es,"onSelect"),0<a.length&&(t=new ro("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=yl)))}function Pn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var vl={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},ns={},cc={};Xt&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function On(e){if(ns[e])return ns[e];if(!vl[e])return e;var t=vl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in cc)return ns[e]=t[i];return e}var fc=On("animationend"),dc=On("animationiteration"),mc=On("animationstart"),Ug=On("transitionrun"),Lg=On("transitionstart"),qg=On("transitioncancel"),pc=On("transitionend"),hc=new Map,ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ls.push("scrollEnd");function Lt(e,t){hc.set(e,t),Gn(t,[e])}var fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nt=[],xl=0,is=0;function mo(){for(var e=xl,t=is=xl=0;t<e;){var i=Nt[t];Nt[t++]=null;var a=Nt[t];Nt[t++]=null;var f=Nt[t];Nt[t++]=null;var m=Nt[t];if(Nt[t++]=null,a!==null&&f!==null){var T=a.pending;T===null?f.next=f:(f.next=T.next,T.next=f),a.pending=f}m!==0&&gc(i,f,m)}}function po(e,t,i,a){Nt[xl++]=e,Nt[xl++]=t,Nt[xl++]=i,Nt[xl++]=a,is|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function os(e,t,i,a){return po(e,t,i,a),ho(e)}function Jn(e,t){return po(e,null,null,t),ho(e)}function gc(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var f=!1,m=e.return;m!==null;)m.childLanes|=i,a=m.alternate,a!==null&&(a.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&t!==null&&(f=31-gt(i),e=m.hiddenUpdates,a=e[f],a===null?e[f]=[t]:a.push(t),t.lane=i|536870912),m):null}function ho(e){if(50<Ui)throw Ui=0,pr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tl={};function Hg(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,i,a){return new Hg(e,t,i,a)}function as(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qt(e,t){var i=e.alternate;return i===null?(i=vt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function yc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,i,a,f,m){var T=0;if(a=e,typeof e=="function")as(e)&&(T=1);else if(typeof e=="string")T=P0(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=vt(31,i,t,f),e.elementType=ne,e.lanes=m,e;case U:return Yn(i.children,f,m,t);case O:T=8,f|=24;break;case F:return e=vt(12,i,t,f|2),e.elementType=F,e.lanes=m,e;case te:return e=vt(13,i,t,f),e.elementType=te,e.lanes=m,e;case J:return e=vt(19,i,t,f),e.elementType=J,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:T=10;break e;case Q:T=9;break e;case Z:T=11;break e;case P:T=14;break e;case le:T=16,a=null;break e}T=29,i=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=vt(T,i,t,f),t.elementType=e,t.type=a,t.lanes=m,t}function Yn(e,t,i,a){return e=vt(7,e,a,t),e.lanes=i,e}function ss(e,t,i){return e=vt(6,e,null,t),e.lanes=i,e}function vc(e){var t=vt(18,null,null,0);return t.stateNode=e,t}function rs(e,t,i){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xc=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var i=xc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:vu(t)},xc.set(e,t),t)}return{value:e,source:t,stack:vu(t)}}var Sl=[],Cl=0,yo=null,mi=0,bt=[],wt=0,pn=null,Vt=1,Gt="";function Kt(e,t){Sl[Cl++]=mi,Sl[Cl++]=yo,yo=e,mi=t}function Tc(e,t,i){bt[wt++]=Vt,bt[wt++]=Gt,bt[wt++]=pn,pn=e;var a=Vt;e=Gt;var f=32-gt(a)-1;a&=~(1<<f),i+=1;var m=32-gt(t)+f;if(30<m){var T=f-f%5;m=(a&(1<<T)-1).toString(32),a>>=T,f-=T,Vt=1<<32-gt(t)+f|i<<f|a,Gt=m+e}else Vt=1<<m|i<<f|a,Gt=e}function us(e){e.return!==null&&(Kt(e,1),Tc(e,1,0))}function cs(e){for(;e===yo;)yo=Sl[--Cl],Sl[Cl]=null,mi=Sl[--Cl],Sl[Cl]=null;for(;e===pn;)pn=bt[--wt],bt[wt]=null,Gt=bt[--wt],bt[wt]=null,Vt=bt[--wt],bt[wt]=null}function Sc(e,t){bt[wt++]=Vt,bt[wt++]=Gt,bt[wt++]=pn,Vt=t.id,Gt=t.overflow,pn=e}var We=null,He=null,Ee=!1,hn=null,Rt=!1,fs=Error(s(519));function gn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(Mt(t,e)),fs}function Cc(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[$e]=e,t[st]=a,i){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(i=0;i<qi.length;i++)Te(qi[i],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Lu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Hu(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||Gd(t.textContent,i)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=Ft),t=!0):t=!1,t||gn(e,!0)}function Ec(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:We=We.return}}function El(e){if(e!==We)return!1;if(!Ee)return Ec(e),Ee=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||wr(e.type,e.memoizedProps)),i=!i),i&&He&&gn(e),Ec(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Kd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Kd(e)}else t===27?(t=He,Rn(e.type)?(e=Ur,Ur=null,He=e):He=t):He=We?kt(e.stateNode.nextSibling):null;return!0}function Fn(){He=We=null,Ee=!1}function ds(){var e=hn;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),hn=null),e}function pi(e){hn===null?hn=[e]:hn.push(e)}var ms=N(null),Xn=null,Zt=null;function yn(e,t,i){K(ms,t._currentValue),t._currentValue=i}function jt(e){e._currentValue=ms.current,H(ms)}function ps(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function hs(e,t,i,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var _=0;_<t.length;_++)if(E.context===t[_]){m.lanes|=i,E=m.alternate,E!==null&&(E.lanes|=i),ps(m.return,i,e),a||(T=null);break e}m=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=i,m=T.alternate,m!==null&&(m.lanes|=i),ps(T,i,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function _l(e,t,i,a){e=null;for(var f=t,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var E=f.type;yt(f.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(f===me.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Bi):e=[Bi])}f=f.return}e!==null&&hs(t,e,i,a),t.flags|=262144}function vo(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qn(e){Xn=e,Zt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return _c(Xn,e)}function xo(e,t){return Xn===null&&Qn(e),_c(e,t)}function _c(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Zt===null){if(e===null)throw Error(s(308));Zt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zt=Zt.next=t;return i}var zg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Vg=l.unstable_scheduleCallback,Gg=l.unstable_NormalPriority,Ye={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gs(){return{controller:new zg,data:new Map,refCount:0}}function hi(e){e.refCount--,e.refCount===0&&Vg(Gg,function(){e.controller.abort()})}var gi=null,ys=0,Al=0,Nl=null;function Bg(e,t){if(gi===null){var i=gi=[];ys=0,Al=Tr(),Nl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return ys++,t.then(Ac,Ac),t}function Ac(){if(--ys===0&&gi!==null){Nl!==null&&(Nl.status="fulfilled");var e=gi;gi=null,Al=0,Nl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pg(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(a.status="rejected",a.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),a}var Nc=b.S;b.S=function(e,t){cd=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bg(e,t),Nc!==null&&Nc(e,t)};var Kn=N(null);function vs(){var e=Kn.current;return e!==null?e:Ue.pooledCache}function To(e,t){t===null?K(Kn,Kn.current):K(Kn,t.pool)}function Mc(){var e=vs();return e===null?null:{parent:Ye._currentValue,pool:e}}var Ml=Error(s(460)),xs=Error(s(474)),So=Error(s(542)),Co={then:function(){}};function bc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wc(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ft,Ft),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e;default:if(typeof t.status=="string")t.then(Ft,Ft);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=a}},function(a){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e}throw jn=t,Ml}}function Zn(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(jn=i,Ml):i}}var jn=null;function Rc(){if(jn===null)throw Error(s(459));var e=jn;return jn=null,e}function Dc(e){if(e===Ml||e===So)throw Error(s(483))}var bl=null,yi=0;function Eo(e){var t=yi;return yi+=1,bl===null&&(bl=[]),wc(bl,e,t)}function vi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _o(e,t){throw t.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kc(e){function t(w,M){if(e){var R=w.deletions;R===null?(w.deletions=[M],w.flags|=16):R.push(M)}}function i(w,M){if(!e)return null;for(;M!==null;)t(w,M),M=M.sibling;return null}function a(w){for(var M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function f(w,M){return w=Qt(w,M),w.index=0,w.sibling=null,w}function m(w,M,R){return w.index=R,e?(R=w.alternate,R!==null?(R=R.index,R<M?(w.flags|=67108866,M):R):(w.flags|=67108866,M)):(w.flags|=1048576,M)}function T(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function E(w,M,R,G){return M===null||M.tag!==6?(M=ss(R,w.mode,G),M.return=w,M):(M=f(M,R),M.return=w,M)}function _(w,M,R,G){var re=R.type;return re===U?z(w,M,R.props.children,G,R.key):M!==null&&(M.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&Zn(re)===M.type)?(M=f(M,R.props),vi(M,R),M.return=w,M):(M=go(R.type,R.key,R.props,null,w.mode,G),vi(M,R),M.return=w,M)}function D(w,M,R,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==R.containerInfo||M.stateNode.implementation!==R.implementation?(M=rs(R,w.mode,G),M.return=w,M):(M=f(M,R.children||[]),M.return=w,M)}function z(w,M,R,G,re){return M===null||M.tag!==7?(M=Yn(R,w.mode,G,re),M.return=w,M):(M=f(M,R),M.return=w,M)}function B(w,M,R){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ss(""+M,w.mode,R),M.return=w,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return R=go(M.type,M.key,M.props,null,w.mode,R),vi(R,M),R.return=w,R;case q:return M=rs(M,w.mode,R),M.return=w,M;case le:return M=Zn(M),B(w,M,R)}if(ee(M)||ce(M))return M=Yn(M,w.mode,R,null),M.return=w,M;if(typeof M.then=="function")return B(w,Eo(M),R);if(M.$$typeof===Y)return B(w,xo(w,M),R);_o(w,M)}return null}function I(w,M,R,G){var re=M!==null?M.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return re!==null?null:E(w,M,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return R.key===re?_(w,M,R,G):null;case q:return R.key===re?D(w,M,R,G):null;case le:return R=Zn(R),I(w,M,R,G)}if(ee(R)||ce(R))return re!==null?null:z(w,M,R,G,null);if(typeof R.then=="function")return I(w,M,Eo(R),G);if(R.$$typeof===Y)return I(w,M,xo(w,R),G);_o(w,R)}return null}function L(w,M,R,G,re){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(R)||null,E(M,w,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return w=w.get(G.key===null?R:G.key)||null,_(M,w,G,re);case q:return w=w.get(G.key===null?R:G.key)||null,D(M,w,G,re);case le:return G=Zn(G),L(w,M,R,G,re)}if(ee(G)||ce(G))return w=w.get(R)||null,z(M,w,G,re,null);if(typeof G.then=="function")return L(w,M,R,Eo(G),re);if(G.$$typeof===Y)return L(w,M,R,xo(M,G),re);_o(M,G)}return null}function oe(w,M,R,G){for(var re=null,_e=null,se=M,ve=M=0,Ce=null;se!==null&&ve<R.length;ve++){se.index>ve?(Ce=se,se=null):Ce=se.sibling;var Ae=I(w,se,R[ve],G);if(Ae===null){se===null&&(se=Ce);break}e&&se&&Ae.alternate===null&&t(w,se),M=m(Ae,M,ve),_e===null?re=Ae:_e.sibling=Ae,_e=Ae,se=Ce}if(ve===R.length)return i(w,se),Ee&&Kt(w,ve),re;if(se===null){for(;ve<R.length;ve++)se=B(w,R[ve],G),se!==null&&(M=m(se,M,ve),_e===null?re=se:_e.sibling=se,_e=se);return Ee&&Kt(w,ve),re}for(se=a(se);ve<R.length;ve++)Ce=L(se,w,ve,R[ve],G),Ce!==null&&(e&&Ce.alternate!==null&&se.delete(Ce.key===null?ve:Ce.key),M=m(Ce,M,ve),_e===null?re=Ce:_e.sibling=Ce,_e=Ce);return e&&se.forEach(function(Ln){return t(w,Ln)}),Ee&&Kt(w,ve),re}function fe(w,M,R,G){if(R==null)throw Error(s(151));for(var re=null,_e=null,se=M,ve=M=0,Ce=null,Ae=R.next();se!==null&&!Ae.done;ve++,Ae=R.next()){se.index>ve?(Ce=se,se=null):Ce=se.sibling;var Ln=I(w,se,Ae.value,G);if(Ln===null){se===null&&(se=Ce);break}e&&se&&Ln.alternate===null&&t(w,se),M=m(Ln,M,ve),_e===null?re=Ln:_e.sibling=Ln,_e=Ln,se=Ce}if(Ae.done)return i(w,se),Ee&&Kt(w,ve),re;if(se===null){for(;!Ae.done;ve++,Ae=R.next())Ae=B(w,Ae.value,G),Ae!==null&&(M=m(Ae,M,ve),_e===null?re=Ae:_e.sibling=Ae,_e=Ae);return Ee&&Kt(w,ve),re}for(se=a(se);!Ae.done;ve++,Ae=R.next())Ae=L(se,w,ve,Ae.value,G),Ae!==null&&(e&&Ae.alternate!==null&&se.delete(Ae.key===null?ve:Ae.key),M=m(Ae,M,ve),_e===null?re=Ae:_e.sibling=Ae,_e=Ae);return e&&se.forEach(function(W0){return t(w,W0)}),Ee&&Kt(w,ve),re}function Ie(w,M,R,G){if(typeof R=="object"&&R!==null&&R.type===U&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case A:e:{for(var re=R.key;M!==null;){if(M.key===re){if(re=R.type,re===U){if(M.tag===7){i(w,M.sibling),G=f(M,R.props.children),G.return=w,w=G;break e}}else if(M.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&Zn(re)===M.type){i(w,M.sibling),G=f(M,R.props),vi(G,R),G.return=w,w=G;break e}i(w,M);break}else t(w,M);M=M.sibling}R.type===U?(G=Yn(R.props.children,w.mode,G,R.key),G.return=w,w=G):(G=go(R.type,R.key,R.props,null,w.mode,G),vi(G,R),G.return=w,w=G)}return T(w);case q:e:{for(re=R.key;M!==null;){if(M.key===re)if(M.tag===4&&M.stateNode.containerInfo===R.containerInfo&&M.stateNode.implementation===R.implementation){i(w,M.sibling),G=f(M,R.children||[]),G.return=w,w=G;break e}else{i(w,M);break}else t(w,M);M=M.sibling}G=rs(R,w.mode,G),G.return=w,w=G}return T(w);case le:return R=Zn(R),Ie(w,M,R,G)}if(ee(R))return oe(w,M,R,G);if(ce(R)){if(re=ce(R),typeof re!="function")throw Error(s(150));return R=re.call(R),fe(w,M,R,G)}if(typeof R.then=="function")return Ie(w,M,Eo(R),G);if(R.$$typeof===Y)return Ie(w,M,xo(w,R),G);_o(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,M!==null&&M.tag===6?(i(w,M.sibling),G=f(M,R),G.return=w,w=G):(i(w,M),G=ss(R,w.mode,G),G.return=w,w=G),T(w)):i(w,M)}return function(w,M,R,G){try{yi=0;var re=Ie(w,M,R,G);return bl=null,re}catch(se){if(se===Ml||se===So)throw se;var _e=vt(29,se,null,w.mode);return _e.lanes=G,_e.return=w,_e}finally{}}}var $n=kc(!0),Ic=kc(!1),vn=!1;function Ts(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Me&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,t=ho(e),gc(e,null,i),t}return po(e,a,t,i),ho(e)}function xi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,_u(e,i)}}function Cs(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,i=i.next}while(i!==null);m===null?f=m=t:m=m.next=t}else f=m=t;i={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Es=!1;function Ti(){if(Es){var e=Nl;if(e!==null)throw e}}function Si(e,t,i,a){Es=!1;var f=e.updateQueue;vn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var _=E,D=_.next;_.next=null,T===null?m=D:T.next=D,T=_;var z=e.alternate;z!==null&&(z=z.updateQueue,E=z.lastBaseUpdate,E!==T&&(E===null?z.firstBaseUpdate=D:E.next=D,z.lastBaseUpdate=_))}if(m!==null){var B=f.baseState;T=0,z=D=_=null,E=m;do{var I=E.lane&-536870913,L=I!==E.lane;if(L?(Se&I)===I:(a&I)===I){I!==0&&I===Al&&(Es=!0),z!==null&&(z=z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,fe=E;I=t;var Ie=i;switch(fe.tag){case 1:if(oe=fe.payload,typeof oe=="function"){B=oe.call(Ie,B,I);break e}B=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=fe.payload,I=typeof oe=="function"?oe.call(Ie,B,I):oe,I==null)break e;B=S({},B,I);break e;case 2:vn=!0}}I=E.callback,I!==null&&(e.flags|=64,L&&(e.flags|=8192),L=f.callbacks,L===null?f.callbacks=[I]:L.push(I))}else L={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},z===null?(D=z=L,_=B):z=z.next=L,T|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;L=E,E=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);z===null&&(_=B),f.baseState=_,f.firstBaseUpdate=D,f.lastBaseUpdate=z,m===null&&(f.shared.lanes=0),An|=T,e.lanes=T,e.memoizedState=B}}function Uc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Lc(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Uc(i[e],t)}var wl=N(null),Ao=N(0);function qc(e,t){e=sn,K(Ao,e),K(wl,t),sn=e|t.baseLanes}function _s(){K(Ao,sn),K(wl,wl.current)}function As(){sn=Ao.current,H(wl),H(Ao)}var xt=N(null),Dt=null;function Sn(e){var t=e.alternate;K(Oe,Oe.current&1),K(xt,e),Dt===null&&(t===null||wl.current!==null||t.memoizedState!==null)&&(Dt=e)}function Ns(e){K(Oe,Oe.current),K(xt,e),Dt===null&&(Dt=e)}function Hc(e){e.tag===22?(K(Oe,Oe.current),K(xt,e),Dt===null&&(Dt=e)):Cn()}function Cn(){K(Oe,Oe.current),K(xt,xt.current)}function Tt(e){H(xt),Dt===e&&(Dt=null),H(Oe)}var Oe=N(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||kr(i)||Ir(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $t=0,ye=null,De=null,Fe=null,Mo=!1,Rl=!1,Wn=!1,bo=0,Ci=0,Dl=null,Og=0;function Be(){throw Error(s(321))}function Ms(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!yt(e[i],t[i]))return!1;return!0}function bs(e,t,i,a,f,m){return $t=m,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b.H=e===null||e.memoizedState===null?Sf:Os,Wn=!1,m=i(a,f),Wn=!1,Rl&&(m=Vc(t,i,a,f)),zc(e),m}function zc(e){b.H=Ai;var t=De!==null&&De.next!==null;if($t=0,Fe=De=ye=null,Mo=!1,Ci=0,Dl=null,t)throw Error(s(300));e===null||Xe||(e=e.dependencies,e!==null&&vo(e)&&(Xe=!0))}function Vc(e,t,i,a){ye=e;var f=0;do{if(Rl&&(Dl=null),Ci=0,Rl=!1,25<=f)throw Error(s(301));if(f+=1,Fe=De=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=Cf,m=t(i,a)}while(Rl);return m}function Jg(){var e=b.H,t=e.useState()[0];return t=typeof t.then=="function"?Ei(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ye.flags|=1024),t}function ws(){var e=bo!==0;return bo=0,e}function Rs(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ds(e){if(Mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mo=!1}$t=0,Fe=De=ye=null,Rl=!1,Ci=bo=0,Dl=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Je(){if(De===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?ye.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw ye.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(e){var t=Ci;return Ci+=1,Dl===null&&(Dl=[]),e=wc(Dl,e,t),t=ye,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,b.H=t===null||t.memoizedState===null?Sf:Os),e}function Ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ei(e);if(e.$$typeof===Y)return et(e)}throw Error(s(438,String(e)))}function ks(e){var t=null,i=ye.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=wo(),ye.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=de;return t.index++,i}function Wt(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=Je();return Is(t,De,e)}function Is(e,t,i){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var f=e.baseQueue,m=a.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}t.baseQueue=f=m,a.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{t=f.next;var E=T=null,_=null,D=t,z=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Se&B)===B:($t&B)===B){var I=D.revertLane;if(I===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===Al&&(z=!0);else if(($t&I)===I){D=D.next,I===Al&&(z=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(E=_=B,T=m):_=_.next=B,ye.lanes|=I,An|=I;B=D.action,Wn&&i(m,B),m=D.hasEagerState?D.eagerState:i(m,B)}else I={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(E=_=I,T=m):_=_.next=I,ye.lanes|=B,An|=B;D=D.next}while(D!==null&&D!==t);if(_===null?T=m:_.next=E,!yt(m,e.memoizedState)&&(Xe=!0,z&&(i=Nl,i!==null)))throw i;e.memoizedState=m,e.baseState=T,e.baseQueue=_,a.lastRenderedState=m}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Us(e){var t=Je(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,f=i.pending,m=t.memoizedState;if(f!==null){i.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);yt(m,t.memoizedState)||(Xe=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),i.lastRenderedState=m}return[m,a]}function Gc(e,t,i){var a=ye,f=Je(),m=Ee;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=t();var T=!yt((De||f).memoizedState,i);if(T&&(f.memoizedState=i,Xe=!0),f=f.queue,Hs(Oc.bind(null,a,f,e),[e]),f.getSnapshot!==t||T||Fe!==null&&Fe.memoizedState.tag&1){if(a.flags|=2048,kl(9,{destroy:void 0},Pc.bind(null,a,f,i,t),null),Ue===null)throw Error(s(349));m||($t&127)!==0||Bc(a,t,i)}return i}function Bc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ye.updateQueue,t===null?(t=wo(),ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Pc(e,t,i,a){t.value=i,t.getSnapshot=a,Jc(t)&&Yc(e)}function Oc(e,t,i){return i(function(){Jc(t)&&Yc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!yt(e,i)}catch{return!0}}function Yc(e){var t=Jn(e,2);t!==null&&mt(t,e,2)}function Ls(e){var t=at();if(typeof e=="function"){var i=e;if(e=i(),Wn){fn(!0);try{i()}finally{fn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Fc(e,t,i,a){return e.baseState=i,Is(e,De,typeof a=="function"?a:Wt)}function Yg(e,t,i,a,f){if(Uo(e))throw Error(s(485));if(e=t.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};b.T!==null?i(!0):m.isTransition=!1,a(m),i=t.pending,i===null?(m.next=t.pending=m,Xc(t,m)):(m.next=i.next,t.pending=i.next=m)}}function Xc(e,t){var i=t.action,a=t.payload,f=e.state;if(t.isTransition){var m=b.T,T={};b.T=T;try{var E=i(f,a),_=b.S;_!==null&&_(T,E),Qc(e,t,E)}catch(D){qs(e,t,D)}finally{m!==null&&T.types!==null&&(m.types=T.types),b.T=m}}else try{m=i(f,a),Qc(e,t,m)}catch(D){qs(e,t,D)}}function Qc(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Kc(e,t,a)},function(a){return qs(e,t,a)}):Kc(e,t,i)}function Kc(e,t,i){t.status="fulfilled",t.value=i,Zc(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Xc(e,i)))}function qs(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Zc(t),t=t.next;while(t!==a)}e.action=null}function Zc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jc(e,t){return t}function $c(e,t){if(Ee){var i=Ue.formState;if(i!==null){e:{var a=ye;if(Ee){if(He){t:{for(var f=He,m=Rt;f.nodeType!==8;){if(!m){f=null;break t}if(f=kt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){He=kt(f.nextSibling),a=f.data==="F!";break e}}gn(a)}a=!1}a&&(t=i[0])}}return i=at(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:t},i.queue=a,i=vf.bind(null,ye,a),a.dispatch=i,a=Ls(!1),m=Ps.bind(null,ye,!1,a.queue),a=at(),f={state:t,dispatch:null,action:e,pending:null},a.queue=f,i=Yg.bind(null,ye,f,m,i),f.dispatch=i,a.memoizedState=e,[t,i,!1]}function Wc(e){var t=Je();return ef(t,De,e)}function ef(e,t,i){if(t=Is(e,t,jc)[0],e=Do(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ei(t)}catch(T){throw T===Ml?So:T}else a=t;t=Je();var f=t.queue,m=f.dispatch;return i!==t.memoizedState&&(ye.flags|=2048,kl(9,{destroy:void 0},Fg.bind(null,f,i),null)),[a,m,e]}function Fg(e,t){e.action=t}function tf(e){var t=Je(),i=De;if(i!==null)return ef(t,i,e);Je(),t=t.memoizedState,i=Je();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function kl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ye.updateQueue,t===null&&(t=wo(),ye.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function nf(){return Je().memoizedState}function ko(e,t,i,a){var f=at();ye.flags|=e,f.memoizedState=kl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Io(e,t,i,a){var f=Je();a=a===void 0?null:a;var m=f.memoizedState.inst;De!==null&&a!==null&&Ms(a,De.memoizedState.deps)?f.memoizedState=kl(t,m,i,a):(ye.flags|=e,f.memoizedState=kl(1|t,m,i,a))}function lf(e,t){ko(8390656,8,e,t)}function Hs(e,t){Io(2048,8,e,t)}function Xg(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=wo(),ye.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function of(e){var t=Je().memoizedState;return Xg({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function af(e,t){return Io(4,2,e,t)}function sf(e,t){return Io(4,4,e,t)}function rf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,i){i=i!=null?i.concat([e]):null,Io(4,4,rf.bind(null,t,e),i)}function zs(){}function cf(e,t){var i=Je();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&Ms(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function ff(e,t){var i=Je();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&Ms(t,a[1]))return a[0];if(a=e(),Wn){fn(!0);try{e()}finally{fn(!1)}}return i.memoizedState=[a,t],a}function Vs(e,t,i){return i===void 0||($t&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=dd(),ye.lanes|=e,An|=e,i)}function df(e,t,i,a){return yt(i,t)?i:wl.current!==null?(e=Vs(e,i,a),yt(e,t)||(Xe=!0),e):($t&42)===0||($t&1073741824)!==0&&(Se&261930)===0?(Xe=!0,e.memoizedState=i):(e=dd(),ye.lanes|=e,An|=e,t)}function mf(e,t,i,a,f){var m=k.p;k.p=m!==0&&8>m?m:8;var T=b.T,E={};b.T=E,Ps(e,!1,t,i);try{var _=f(),D=b.S;if(D!==null&&D(E,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var z=Pg(_,a);_i(e,t,z,Et(e))}else _i(e,t,a,Et(e))}catch(B){_i(e,t,{then:function(){},status:"rejected",reason:B},Et())}finally{k.p=m,T!==null&&E.types!==null&&(T.types=E.types),b.T=T}}function Qg(){}function Gs(e,t,i,a){if(e.tag!==5)throw Error(s(476));var f=pf(e).queue;mf(e,f,t,X,i===null?Qg:function(){return hf(e),i(a)})}function pf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hf(e){var t=pf(e);t.next===null&&(t=e.alternate.memoizedState),_i(e,t.next.queue,{},Et())}function Bs(){return et(Bi)}function gf(){return Je().memoizedState}function yf(){return Je().memoizedState}function Kg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Et();e=xn(i);var a=Tn(t,e,i);a!==null&&(mt(a,t,i),xi(a,t,i)),t={cache:gs()},e.payload=t;return}t=t.return}}function Zg(e,t,i){var a=Et();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uo(e)?xf(t,i):(i=os(e,t,i,a),i!==null&&(mt(i,e,a),Tf(i,t,a)))}function vf(e,t,i){var a=Et();_i(e,t,i,a)}function _i(e,t,i,a){var f={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))xf(t,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var T=t.lastRenderedState,E=m(T,i);if(f.hasEagerState=!0,f.eagerState=E,yt(E,T))return po(e,t,f,0),Ue===null&&mo(),!1}catch{}finally{}if(i=os(e,t,f,a),i!==null)return mt(i,e,a),Tf(i,t,a),!0}return!1}function Ps(e,t,i,a){if(a={lane:2,revertLane:Tr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(s(479))}else t=os(e,i,a,2),t!==null&&mt(t,e,2)}function Uo(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function xf(e,t){Rl=Mo=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Tf(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,_u(e,i)}}var Ai={readContext:et,use:Ro,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Ai.useEffectEvent=Be;var Sf={readContext:et,use:Ro,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:lf,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ko(4194308,4,rf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){ko(4,2,e,t)},useMemo:function(e,t){var i=at();t=t===void 0?null:t;var a=e();if(Wn){fn(!0);try{e()}finally{fn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=at();if(i!==void 0){var f=i(t);if(Wn){fn(!0);try{i(t)}finally{fn(!1)}}}else f=t;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=Zg.bind(null,ye,e),[a.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Ls(e);var t=e.queue,i=vf.bind(null,ye,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:zs,useDeferredValue:function(e,t){var i=at();return Vs(i,e,t)},useTransition:function(){var e=Ls(!1);return e=mf.bind(null,ye,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ye,f=at();if(Ee){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Ue===null)throw Error(s(349));(Se&127)!==0||Bc(a,t,i)}f.memoizedState=i;var m={value:i,getSnapshot:t};return f.queue=m,lf(Oc.bind(null,a,m,e),[e]),a.flags|=2048,kl(9,{destroy:void 0},Pc.bind(null,a,m,i,t),null),i},useId:function(){var e=at(),t=Ue.identifierPrefix;if(Ee){var i=Gt,a=Vt;i=(a&~(1<<32-gt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=bo++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Og++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bs,useFormState:$c,useActionState:$c,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ps.bind(null,ye,!0,i),i.dispatch=t,[e,t]},useMemoCache:ks,useCacheRefresh:function(){return at().memoizedState=Kg.bind(null,ye)},useEffectEvent:function(e){var t=at(),i={impl:e};return t.memoizedState=i,function(){if((Me&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Os={readContext:et,use:Ro,useCallback:cf,useContext:et,useEffect:Hs,useImperativeHandle:uf,useInsertionEffect:af,useLayoutEffect:sf,useMemo:ff,useReducer:Do,useRef:nf,useState:function(){return Do(Wt)},useDebugValue:zs,useDeferredValue:function(e,t){var i=Je();return df(i,De.memoizedState,e,t)},useTransition:function(){var e=Do(Wt)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Gc,useId:gf,useHostTransitionStatus:Bs,useFormState:Wc,useActionState:Wc,useOptimistic:function(e,t){var i=Je();return Fc(i,De,e,t)},useMemoCache:ks,useCacheRefresh:yf};Os.useEffectEvent=of;var Cf={readContext:et,use:Ro,useCallback:cf,useContext:et,useEffect:Hs,useImperativeHandle:uf,useInsertionEffect:af,useLayoutEffect:sf,useMemo:ff,useReducer:Us,useRef:nf,useState:function(){return Us(Wt)},useDebugValue:zs,useDeferredValue:function(e,t){var i=Je();return De===null?Vs(i,e,t):df(i,De.memoizedState,e,t)},useTransition:function(){var e=Us(Wt)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Gc,useId:gf,useHostTransitionStatus:Bs,useFormState:tf,useActionState:tf,useOptimistic:function(e,t){var i=Je();return De!==null?Fc(i,De,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ks,useCacheRefresh:yf};Cf.useEffectEvent=of;function Js(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ys={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Et(),f=xn(a);f.payload=t,i!=null&&(f.callback=i),t=Tn(e,f,a),t!==null&&(mt(t,e,a),xi(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Et(),f=xn(a);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Tn(e,f,a),t!==null&&(mt(t,e,a),xi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Et(),a=xn(i);a.tag=2,t!=null&&(a.callback=t),t=Tn(e,a,i),t!==null&&(mt(t,e,i),xi(t,e,i))}};function Ef(e,t,i,a,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,T):t.prototype&&t.prototype.isPureReactComponent?!fi(i,a)||!fi(f,m):!0}function _f(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function el(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Af(e){fo(e)}function Nf(e){console.error(e)}function Mf(e){fo(e)}function Lo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function bf(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fs(e,t,i){return i=xn(i),i.tag=3,i.payload={element:null},i.callback=function(){Lo(e,t)},i}function wf(e){return e=xn(e),e.tag=3,e}function Rf(e,t,i,a){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;e.payload=function(){return f(m)},e.callback=function(){bf(t,i,a)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){bf(t,i,a),typeof f!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function jg(e,t,i,a,f){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&_l(t,i,f,!0),i=xt.current,i!==null){switch(i.tag){case 31:case 13:return Dt===null?Xo():i.alternate===null&&Pe===0&&(Pe=3),i.flags&=-257,i.flags|=65536,i.lanes=f,a===Co?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),yr(e,a,f)),!1;case 22:return i.flags|=65536,a===Co?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),yr(e,a,f)),!1}throw Error(s(435,i.tag))}return yr(e,a,f),Xo(),!1}if(Ee)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,a!==fs&&(e=Error(s(422),{cause:a}),pi(Mt(e,i)))):(a!==fs&&(t=Error(s(423),{cause:a}),pi(Mt(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=Mt(a,i),f=Fs(e.stateNode,a,f),Cs(e,f),Pe!==4&&(Pe=2)),!1;var m=Error(s(520),{cause:a});if(m=Mt(m,i),Ii===null?Ii=[m]:Ii.push(m),Pe!==4&&(Pe=2),t===null)return!0;a=Mt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Fs(i.stateNode,a,e),Cs(i,e),!1;case 1:if(t=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Nn===null||!Nn.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=wf(f),Rf(f,e,i,a),Cs(i,f),!1}i=i.return}while(i!==null);return!1}var Xs=Error(s(461)),Xe=!1;function tt(e,t,i,a){t.child=e===null?Ic(t,null,i,a):$n(t,e.child,i,a)}function Df(e,t,i,a,f){i=i.render;var m=t.ref;if("ref"in a){var T={};for(var E in a)E!=="ref"&&(T[E]=a[E])}else T=a;return Qn(t),a=bs(e,t,i,T,m,f),E=ws(),e!==null&&!Xe?(Rs(e,t,f),en(e,t,f)):(Ee&&E&&us(t),t.flags|=1,tt(e,t,a,f),t.child)}function kf(e,t,i,a,f){if(e===null){var m=i.type;return typeof m=="function"&&!as(m)&&m.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=m,If(e,t,m,a,f)):(e=go(i.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!tr(e,f)){var T=m.memoizedProps;if(i=i.compare,i=i!==null?i:fi,i(T,a)&&e.ref===t.ref)return en(e,t,f)}return t.flags|=1,e=Qt(m,a),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,i,a,f){if(e!==null){var m=e.memoizedProps;if(fi(m,a)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=a=m,tr(e,f))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,en(e,t,f)}return Qs(e,t,i,a,f)}function Uf(e,t,i,a){var f=a.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(a=t.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~m}else a=0,t.child=null;return Lf(e,t,m,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&To(t,m!==null?m.cachePool:null),m!==null?qc(t,m):_s(),Hc(t);else return a=t.lanes=536870912,Lf(e,t,m!==null?m.baseLanes|i:i,i,a)}else m!==null?(To(t,m.cachePool),qc(t,m),Cn(),t.memoizedState=null):(e!==null&&To(t,null),_s(),Cn());return tt(e,t,f,i),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lf(e,t,i,a,f){var m=vs();return m=m===null?null:{parent:Ye._currentValue,pool:m},t.memoizedState={baseLanes:i,cachePool:m},e!==null&&To(t,null),_s(),Hc(t),e!==null&&_l(e,t,a,!0),t.childLanes=f,null}function qo(e,t){return t=zo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qf(e,t,i){return $n(t,e.child,null,i),e=qo(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function $g(e,t,i){var a=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(a.mode==="hidden")return e=qo(t,a),t.lanes=536870912,Ni(null,e);if(Ns(t),(e=He)?(e=Qd(e,Rt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pn!==null?{id:Vt,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},i=vc(e),i.return=t,t.child=i,We=t,He=null)):e=null,e===null)throw gn(t);return t.lanes=536870912,null}return qo(t,a)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ns(t),f)if(t.flags&256)t.flags&=-257,t=qf(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Xe||_l(e,t,i,!1),f=(i&e.childLanes)!==0,Xe||f){if(a=Ue,a!==null&&(T=Au(a,i),T!==0&&T!==m.retryLane))throw m.retryLane=T,Jn(e,T),mt(a,e,T),Xs;Xo(),t=qf(e,t,i)}else e=m.treeContext,He=kt(T.nextSibling),We=t,Ee=!0,hn=null,Rt=!1,e!==null&&Sc(t,e),t=qo(t,a),t.flags|=4096;return t}return e=Qt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ho(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Qs(e,t,i,a,f){return Qn(t),i=bs(e,t,i,a,void 0,f),a=ws(),e!==null&&!Xe?(Rs(e,t,f),en(e,t,f)):(Ee&&a&&us(t),t.flags|=1,tt(e,t,i,f),t.child)}function Hf(e,t,i,a,f,m){return Qn(t),t.updateQueue=null,i=Vc(t,a,i,f),zc(e),a=ws(),e!==null&&!Xe?(Rs(e,t,m),en(e,t,m)):(Ee&&a&&us(t),t.flags|=1,tt(e,t,i,m),t.child)}function zf(e,t,i,a,f){if(Qn(t),t.stateNode===null){var m=Tl,T=i.contextType;typeof T=="object"&&T!==null&&(m=et(T)),m=new i(a,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ys,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=a,m.state=t.memoizedState,m.refs={},Ts(t),T=i.contextType,m.context=typeof T=="object"&&T!==null?et(T):Tl,m.state=t.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(Js(t,i,T,a),m.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ys.enqueueReplaceState(m,m.state,null),Si(t,a,m,f),Ti(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){m=t.stateNode;var E=t.memoizedProps,_=el(i,E);m.props=_;var D=m.context,z=i.contextType;T=Tl,typeof z=="object"&&z!==null&&(T=et(z));var B=i.getDerivedStateFromProps;z=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||D!==T)&&_f(t,m,a,T),vn=!1;var I=t.memoizedState;m.state=I,Si(t,a,m,f),Ti(),D=t.memoizedState,E||I!==D||vn?(typeof B=="function"&&(Js(t,i,B,a),D=t.memoizedState),(_=vn||Ef(t,i,_,a,I,D,T))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=D),m.props=a,m.state=D,m.context=T,a=_):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,Ss(e,t),T=t.memoizedProps,z=el(i,T),m.props=z,B=t.pendingProps,I=m.context,D=i.contextType,_=Tl,typeof D=="object"&&D!==null&&(_=et(D)),E=i.getDerivedStateFromProps,(D=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||I!==_)&&_f(t,m,a,_),vn=!1,I=t.memoizedState,m.state=I,Si(t,a,m,f),Ti();var L=t.memoizedState;T!==B||I!==L||vn||e!==null&&e.dependencies!==null&&vo(e.dependencies)?(typeof E=="function"&&(Js(t,i,E,a),L=t.memoizedState),(z=vn||Ef(t,i,z,a,I,L,_)||e!==null&&e.dependencies!==null&&vo(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,L,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,L,_)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=L),m.props=a,m.state=L,m.context=_,a=z):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return m=a,Ho(e,t),a=(t.flags&128)!==0,m||a?(m=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&a?(t.child=$n(t,e.child,null,f),t.child=$n(t,null,i,f)):tt(e,t,i,f),t.memoizedState=m.state,e=t.child):e=en(e,t,f),e}function Vf(e,t,i,a){return Fn(),t.flags|=256,tt(e,t,i,a),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zs(e){return{baseLanes:e,cachePool:Mc()}}function js(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ct),e}function Gf(e,t,i){var a=t.pendingProps,f=!1,m=(t.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),T&&(f=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(f?Sn(t):Cn(),(e=He)?(e=Qd(e,Rt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pn!==null?{id:Vt,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},i=vc(e),i.return=t,t.child=i,We=t,He=null)):e=null,e===null)throw gn(t);return Ir(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,f?(Cn(),f=t.mode,E=zo({mode:"hidden",children:E},f),a=Yn(a,f,i,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=Zs(i),a.childLanes=js(e,T,i),t.memoizedState=Ks,Ni(null,a)):(Sn(t),$s(t,E))}var _=e.memoizedState;if(_!==null&&(E=_.dehydrated,E!==null)){if(m)t.flags&256?(Sn(t),t.flags&=-257,t=Ws(e,t,i)):t.memoizedState!==null?(Cn(),t.child=e.child,t.flags|=128,t=null):(Cn(),E=a.fallback,f=t.mode,a=zo({mode:"visible",children:a.children},f),E=Yn(E,f,i,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,$n(t,e.child,null,i),a=t.child,a.memoizedState=Zs(i),a.childLanes=js(e,T,i),t.memoizedState=Ks,t=Ni(null,a));else if(Sn(t),Ir(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var D=T.dgst;T=D,a=Error(s(419)),a.stack="",a.digest=T,pi({value:a,source:null,stack:null}),t=Ws(e,t,i)}else if(Xe||_l(e,t,i,!1),T=(i&e.childLanes)!==0,Xe||T){if(T=Ue,T!==null&&(a=Au(T,i),a!==0&&a!==_.retryLane))throw _.retryLane=a,Jn(e,a),mt(T,e,a),Xs;kr(E)||Xo(),t=Ws(e,t,i)}else kr(E)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,He=kt(E.nextSibling),We=t,Ee=!0,hn=null,Rt=!1,e!==null&&Sc(t,e),t=$s(t,a.children),t.flags|=4096);return t}return f?(Cn(),E=a.fallback,f=t.mode,_=e.child,D=_.sibling,a=Qt(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,D!==null?E=Qt(D,E):(E=Yn(E,f,i,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,Ni(null,a),a=t.child,E=e.child.memoizedState,E===null?E=Zs(i):(f=E.cachePool,f!==null?(_=Ye._currentValue,f=f.parent!==_?{parent:_,pool:_}:f):f=Mc(),E={baseLanes:E.baseLanes|i,cachePool:f}),a.memoizedState=E,a.childLanes=js(e,T,i),t.memoizedState=Ks,Ni(e.child,a)):(Sn(t),i=e.child,e=i.sibling,i=Qt(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=i,t.memoizedState=null,i)}function $s(e,t){return t=zo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zo(e,t){return e=vt(22,e,null,t),e.lanes=0,e}function Ws(e,t,i){return $n(t,e.child,null,i),e=$s(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ps(e.return,t,i)}function er(e,t,i,a,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:f,treeForkCount:m}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=i,T.tailMode=f,T.treeForkCount=m)}function Pf(e,t,i){var a=t.pendingProps,f=a.revealOrder,m=a.tail;a=a.children;var T=Oe.current,E=(T&2)!==0;if(E?(T=T&1|2,t.flags|=128):T&=1,K(Oe,T),tt(e,t,a,i),a=Ee?mi:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,i,t);else if(e.tag===19)Bf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&No(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),er(t,!1,f,i,m,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&No(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}er(t,!0,i,null,m,a);break;case"together":er(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function en(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(_l(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Qt(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Qt(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function tr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vo(e)))}function Wg(e,t,i){switch(t.tag){case 3:Le(t,t.stateNode.containerInfo),yn(t,Ye,e.memoizedState.cache),Fn();break;case 27:case 5:Jt(t);break;case 4:Le(t,t.stateNode.containerInfo);break;case 10:yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ns(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Sn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gf(e,t,i):(Sn(t),e=en(e,t,i),e!==null?e.sibling:null);Sn(t);break;case 19:var f=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(_l(e,t,i,!1),a=(i&t.childLanes)!==0),f){if(a)return Pf(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(Oe,Oe.current),a)break;return null;case 22:return t.lanes=0,Uf(e,t,i,t.pendingProps);case 24:yn(t,Ye,e.memoizedState.cache)}return en(e,t,i)}function Of(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!tr(e,i)&&(t.flags&128)===0)return Xe=!1,Wg(e,t,i);Xe=(e.flags&131072)!==0}else Xe=!1,Ee&&(t.flags&1048576)!==0&&Tc(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Zn(t.elementType),t.type=e,typeof e=="function")as(e)?(a=el(e,a),t.tag=1,t=zf(null,t,e,a,i)):(t.tag=0,t=Qs(null,t,e,a,i));else{if(e!=null){var f=e.$$typeof;if(f===Z){t.tag=11,t=Df(null,t,e,a,i);break e}else if(f===P){t.tag=14,t=kf(null,t,e,a,i);break e}}throw t=j(e)||e,Error(s(306,t,""))}}return t;case 0:return Qs(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,f=el(a,t.pendingProps),zf(e,t,a,f,i);case 3:e:{if(Le(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var m=t.memoizedState;f=m.element,Ss(e,t),Si(t,a,null,i);var T=t.memoizedState;if(a=T.cache,yn(t,Ye,a),a!==m.cache&&hs(t,[Ye],i,!0),Ti(),a=T.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Vf(e,t,a,i);break e}else if(a!==f){f=Mt(Error(s(424)),t),pi(f),t=Vf(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=kt(e.firstChild),We=t,Ee=!0,hn=null,Rt=!0,i=Ic(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Fn(),a===f){t=en(e,t,i);break e}tt(e,t,a,i)}t=t.child}return t;case 26:return Ho(e,t),e===null?(i=em(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ee||(i=t.type,e=t.pendingProps,a=ea(W.current).createElement(i),a[$e]=t,a[st]=e,nt(a,i,e),Ze(a),t.stateNode=a):t.memoizedState=em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jt(t),e===null&&Ee&&(a=t.stateNode=jd(t.type,t.pendingProps,W.current),We=t,Rt=!0,f=He,Rn(t.type)?(Ur=f,He=kt(a.firstChild)):He=f),tt(e,t,t.pendingProps.children,i),Ho(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((f=a=He)&&(a=w0(a,t.type,t.pendingProps,Rt),a!==null?(t.stateNode=a,We=t,He=kt(a.firstChild),Rt=!1,f=!0):f=!1),f||gn(t)),Jt(t),f=t.type,m=t.pendingProps,T=e!==null?e.memoizedProps:null,a=m.children,wr(f,m)?a=null:T!==null&&wr(f,T)&&(t.flags|=32),t.memoizedState!==null&&(f=bs(e,t,Jg,null,null,i),Bi._currentValue=f),Ho(e,t),tt(e,t,a,i),t.child;case 6:return e===null&&Ee&&((e=i=He)&&(i=R0(i,t.pendingProps,Rt),i!==null?(t.stateNode=i,We=t,He=null,e=!0):e=!1),e||gn(t)),null;case 13:return Gf(e,t,i);case 4:return Le(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$n(t,null,a,i):tt(e,t,a,i),t.child;case 11:return Df(e,t,t.type,t.pendingProps,i);case 7:return tt(e,t,t.pendingProps,i),t.child;case 8:return tt(e,t,t.pendingProps.children,i),t.child;case 12:return tt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,yn(t,t.type,a.value),tt(e,t,a.children,i),t.child;case 9:return f=t.type._context,a=t.pendingProps.children,Qn(t),f=et(f),a=a(f),t.flags|=1,tt(e,t,a,i),t.child;case 14:return kf(e,t,t.type,t.pendingProps,i);case 15:return If(e,t,t.type,t.pendingProps,i);case 19:return Pf(e,t,i);case 31:return $g(e,t,i);case 22:return Uf(e,t,i,t.pendingProps);case 24:return Qn(t),a=et(Ye),e===null?(f=vs(),f===null&&(f=Ue,m=gs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),t.memoizedState={parent:a,cache:f},Ts(t),yn(t,Ye,f)):((e.lanes&i)!==0&&(Ss(e,t),Si(t,null,null,i),Ti()),f=e.memoizedState,m=t.memoizedState,f.parent!==a?(f={parent:a,cache:a},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),yn(t,Ye,a)):(a=m.cache,yn(t,Ye,a),a!==f.cache&&hs(t,[Ye],i,!0))),tt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function tn(e){e.flags|=4}function nr(e,t,i,a,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(gd())e.flags|=8192;else throw jn=Co,xs}else e.flags&=-16777217}function Jf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t))if(gd())e.flags|=8192;else throw jn=Co,xs}function Vo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cu():536870912,e.lanes|=t,ql|=t)}function Mi(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function e0(e,t,i){var a=t.pendingProps;switch(cs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),jt(Ye),qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(El(t)?tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ds())),ze(t),null;case 26:var f=t.type,m=t.memoizedState;return e===null?(tn(t),m!==null?(ze(t),Jf(t,m)):(ze(t),nr(t,f,null,a,i))):m?m!==e.memoizedState?(tn(t),ze(t),Jf(t,m)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&tn(t),ze(t),nr(t,f,e,a,i)),null;case 27:if(al(t),i=W.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&tn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return ze(t),null}e=$.current,El(t)?Cc(t):(e=jd(f,a,i),t.stateNode=e,tn(t))}return ze(t),null;case 5:if(al(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&tn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return ze(t),null}if(m=$.current,El(t))Cc(t);else{var T=ea(W.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?T.createElement(f,{is:a.is}):T.createElement(f)}}m[$e]=t,m[st]=a;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=m;e:switch(nt(m,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&tn(t)}}return ze(t),nr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&tn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=W.current,El(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,f=We,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[$e]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||Gd(e.nodeValue,i)),e||gn(t,!0)}else e=ea(e).createTextNode(a),e[$e]=t,t.stateNode=e}return ze(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=El(t),i!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[$e]=t}else Fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else i=ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ze(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=El(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[$e]=t}else Fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),f=!1}else f=ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Vo(t,t.updateQueue),ze(t),null);case 4:return qe(),e===null&&_r(t.stateNode.containerInfo),ze(t),null;case 10:return jt(t.type),ze(t),null;case 19:if(H(Oe),a=t.memoizedState,a===null)return ze(t),null;if(f=(t.flags&128)!==0,m=a.rendering,m===null)if(f)Mi(a,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=No(e),m!==null){for(t.flags|=128,Mi(a,!1),e=m.updateQueue,t.updateQueue=e,Vo(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)yc(i,e),i=i.sibling;return K(Oe,Oe.current&1|2),Ee&&Kt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&pt()>Jo&&(t.flags|=128,f=!0,Mi(a,!1),t.lanes=4194304)}else{if(!f)if(e=No(m),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,Vo(t,e),Mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Ee)return ze(t),null}else 2*pt()-a.renderingStartTime>Jo&&i!==536870912&&(t.flags|=128,f=!0,Mi(a,!1),t.lanes=4194304);a.isBackwards?(m.sibling=t.child,t.child=m):(e=a.last,e!==null?e.sibling=m:t.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pt(),e.sibling=null,i=Oe.current,K(Oe,f?i&1|2:i&1),Ee&&Kt(t,a.treeForkCount),e):(ze(t),null);case 22:case 23:return Tt(t),As(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),i=t.updateQueue,i!==null&&Vo(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&H(Kn),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),jt(Ye),ze(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function t0(e,t){switch(cs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jt(Ye),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return al(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(s(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Oe),null;case 4:return qe(),null;case 10:return jt(t.type),null;case 22:case 23:return Tt(t),As(),e!==null&&H(Kn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return jt(Ye),null;case 25:return null;default:return null}}function Yf(e,t){switch(cs(t),t.tag){case 3:jt(Ye),qe();break;case 26:case 27:case 5:al(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:H(Oe);break;case 10:jt(t.type);break;case 22:case 23:Tt(t),As(),e!==null&&H(Kn);break;case 24:jt(Ye)}}function bi(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var f=a.next;i=f;do{if((i.tag&e)===e){a=void 0;var m=i.create,T=i.inst;a=m(),T.destroy=a}i=i.next}while(i!==f)}}catch(E){Re(t,t.return,E)}}function En(e,t,i){try{var a=t.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var m=f.next;a=m;do{if((a.tag&e)===e){var T=a.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=t;var _=i,D=E;try{D()}catch(z){Re(f,_,z)}}}a=a.next}while(a!==m)}}catch(z){Re(t,t.return,z)}}function Ff(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Lc(t,i)}catch(a){Re(e,e.return,a)}}}function Xf(e,t,i){i.props=el(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Re(e,t,a)}}function wi(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(f){Re(e,t,f)}}function Bt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(f){Re(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Re(e,t,f)}else i.current=null}function Qf(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(f){Re(e,e.return,f)}}function lr(e,t,i){try{var a=e.stateNode;E0(a,e.type,i,t),a[st]=t}catch(f){Re(e,e.return,f)}}function Kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rn(e.type)||e.tag===4}function ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function or(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ft));else if(a!==4&&(a===27&&Rn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(or(e,t,i),e=e.sibling;e!==null;)or(e,t,i),e=e.sibling}function Go(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Rn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Go(e,t,i),e=e.sibling;e!==null;)Go(e,t,i),e=e.sibling}function Zf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);nt(t,a,i),t[$e]=e,t[st]=i}catch(m){Re(e,e.return,m)}}var nn=!1,Qe=!1,ar=!1,jf=typeof WeakSet=="function"?WeakSet:Set,je=null;function n0(e,t){if(e=e.containerInfo,Mr=sa,e=rc(e),Wa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var f=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var T=0,E=-1,_=-1,D=0,z=0,B=e,I=null;t:for(;;){for(var L;B!==i||f!==0&&B.nodeType!==3||(E=T+f),B!==m||a!==0&&B.nodeType!==3||(_=T+a),B.nodeType===3&&(T+=B.nodeValue.length),(L=B.firstChild)!==null;)I=B,B=L;for(;;){if(B===e)break t;if(I===i&&++D===f&&(E=T),I===m&&++z===a&&(_=T),(L=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=L}i=E===-1||_===-1?null:{start:E,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(br={focusedElem:e,selectionRange:i},sa=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){switch(t=je,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=t,f=m.memoizedProps,m=m.memoizedState,a=i.stateNode;try{var oe=el(i.type,f);e=a.getSnapshotBeforeUpdate(oe,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Re(i,i.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Dr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}}function $f(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:on(e,i),a&4&&bi(5,i);break;case 1:if(on(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(T){Re(i,i.return,T)}else{var f=el(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Re(i,i.return,T)}}a&64&&Ff(i),a&512&&wi(i,i.return);break;case 3:if(on(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Lc(e,t)}catch(T){Re(i,i.return,T)}}break;case 27:t===null&&a&4&&Zf(i);case 26:case 5:on(e,i),t===null&&a&4&&Qf(i),a&512&&wi(i,i.return);break;case 12:on(e,i);break;case 31:on(e,i),a&4&&td(e,i);break;case 13:on(e,i),a&4&&nd(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=f0.bind(null,i),D0(e,i))));break;case 22:if(a=i.memoizedState!==null||nn,!a){t=t!==null&&t.memoizedState!==null||Qe,f=nn;var m=Qe;nn=a,(Qe=t)&&!m?an(e,i,(i.subtreeFlags&8772)!==0):on(e,i),nn=f,Qe=m}break;case 30:break;default:on(e,i)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,ut=!1;function ln(e,t,i){for(i=i.child;i!==null;)ed(e,t,i),i=i.sibling}function ed(e,t,i){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Wl,i)}catch{}switch(i.tag){case 26:Qe||Bt(i,t),ln(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qe||Bt(i,t);var a=Ge,f=ut;Rn(i.type)&&(Ge=i.stateNode,ut=!1),ln(e,t,i),zi(i.stateNode),Ge=a,ut=f;break;case 5:Qe||Bt(i,t);case 6:if(a=Ge,f=ut,Ge=null,ln(e,t,i),Ge=a,ut=f,Ge!==null)if(ut)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(m){Re(i,t,m)}else try{Ge.removeChild(i.stateNode)}catch(m){Re(i,t,m)}break;case 18:Ge!==null&&(ut?(e=Ge,Fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Jl(e)):Fd(Ge,i.stateNode));break;case 4:a=Ge,f=ut,Ge=i.stateNode.containerInfo,ut=!0,ln(e,t,i),Ge=a,ut=f;break;case 0:case 11:case 14:case 15:En(2,i,t),Qe||En(4,i,t),ln(e,t,i);break;case 1:Qe||(Bt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Xf(i,t,a)),ln(e,t,i);break;case 21:ln(e,t,i);break;case 22:Qe=(a=Qe)||i.memoizedState!==null,ln(e,t,i),Qe=a;break;default:ln(e,t,i)}}function td(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(i){Re(t,t.return,i)}}}function nd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(i){Re(t,t.return,i)}}function l0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jf),t;default:throw Error(s(435,e.tag))}}function Bo(e,t){var i=l0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var f=d0.bind(null,e,a);a.then(f,f)}})}function ct(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var f=i[a],m=e,T=t,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Rn(E.type)){Ge=E.stateNode,ut=!1;break e}break;case 5:Ge=E.stateNode,ut=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,ut=!0;break e}E=E.return}if(Ge===null)throw Error(s(160));ed(m,T,f),Ge=null,ut=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ld(t,e),t=t.sibling}var qt=null;function ld(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ft(e),a&4&&(En(3,e,e.return),bi(3,e),En(5,e,e.return));break;case 1:ct(t,e),ft(e),a&512&&(Qe||i===null||Bt(i,i.return)),a&64&&nn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var f=qt;if(ct(t,e),ft(e),a&512&&(Qe||i===null||Bt(i,i.return)),a&4){var m=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ni]||m[$e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(a),f.head.insertBefore(m,f.querySelector("head > title"))),nt(m,a,i),m[$e]=e,Ze(m),a=m;break e;case"link":var T=lm("link","href",f).get(a+(i.href||""));if(T){for(var E=0;E<T.length;E++)if(m=T[E],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(E,1);break t}}m=f.createElement(a),nt(m,a,i),f.head.appendChild(m);break;case"meta":if(T=lm("meta","content",f).get(a+(i.content||""))){for(E=0;E<T.length;E++)if(m=T[E],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(E,1);break t}}m=f.createElement(a),nt(m,a,i),f.head.appendChild(m);break;default:throw Error(s(468,a))}m[$e]=e,Ze(m),a=m}e.stateNode=a}else im(f,e.type,e.stateNode);else e.stateNode=nm(f,a,e.memoizedProps);else m!==a?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,a===null?im(f,e.type,e.stateNode):nm(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&lr(e,e.memoizedProps,i.memoizedProps)}break;case 27:ct(t,e),ft(e),a&512&&(Qe||i===null||Bt(i,i.return)),i!==null&&a&4&&lr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ct(t,e),ft(e),a&512&&(Qe||i===null||Bt(i,i.return)),e.flags&32){f=e.stateNode;try{ml(f,"")}catch(oe){Re(e,e.return,oe)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,lr(e,f,i!==null?i.memoizedProps:f)),a&1024&&(ar=!0);break;case 6:if(ct(t,e),ft(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(oe){Re(e,e.return,oe)}}break;case 3:if(la=null,f=qt,qt=ta(t.containerInfo),ct(t,e),qt=f,ft(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(oe){Re(e,e.return,oe)}ar&&(ar=!1,id(e));break;case 4:a=qt,qt=ta(e.stateNode.containerInfo),ct(t,e),ft(e),qt=a;break;case 12:ct(t,e),ft(e);break;case 31:ct(t,e),ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 13:ct(t,e),ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oo=pt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 22:f=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,D=nn,z=Qe;if(nn=D||f,Qe=z||_,ct(t,e),Qe=z,nn=D,ft(e),a&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||_||nn||Qe||tl(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){_=i=t;try{if(m=_.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=_.stateNode;var B=_.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(oe){Re(_,_.return,oe)}}}else if(t.tag===6){if(i===null){_=t;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(oe){Re(_,_.return,oe)}}}else if(t.tag===18){if(i===null){_=t;try{var L=_.stateNode;f?Xd(L,!0):Xd(_.stateNode,!1)}catch(oe){Re(_,_.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Bo(e,i))));break;case 19:ct(t,e),ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 30:break;case 21:break;default:ct(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(Kf(a)){i=a;break}a=a.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,m=ir(e);Go(e,m,f);break;case 5:var T=i.stateNode;i.flags&32&&(ml(T,""),i.flags&=-33);var E=ir(e);Go(e,E,T);break;case 3:case 4:var _=i.stateNode.containerInfo,D=ir(e);or(e,D,_);break;default:throw Error(s(161))}}catch(z){Re(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;id(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$f(e,t.alternate,t),t=t.sibling}function tl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:En(4,t,t.return),tl(t);break;case 1:Bt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Xf(t,t.return,i),tl(t);break;case 27:zi(t.stateNode);case 26:case 5:Bt(t,t.return),tl(t);break;case 22:t.memoizedState===null&&tl(t);break;case 30:tl(t);break;default:tl(t)}e=e.sibling}}function an(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,f=e,m=t,T=m.flags;switch(m.tag){case 0:case 11:case 15:an(f,m,i),bi(4,m);break;case 1:if(an(f,m,i),a=m,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Re(a,a.return,D)}if(a=m,f=a.updateQueue,f!==null){var E=a.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)Uc(_[f],E)}catch(D){Re(a,a.return,D)}}i&&T&64&&Ff(m),wi(m,m.return);break;case 27:Zf(m);case 26:case 5:an(f,m,i),i&&a===null&&T&4&&Qf(m),wi(m,m.return);break;case 12:an(f,m,i);break;case 31:an(f,m,i),i&&T&4&&td(f,m);break;case 13:an(f,m,i),i&&T&4&&nd(f,m);break;case 22:m.memoizedState===null&&an(f,m,i),wi(m,m.return);break;case 30:break;default:an(f,m,i)}t=t.sibling}}function sr(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&hi(i))}function rr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hi(e))}function Ht(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)od(e,t,i,a),t=t.sibling}function od(e,t,i,a){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,i,a),f&2048&&bi(9,t);break;case 1:Ht(e,t,i,a);break;case 3:Ht(e,t,i,a),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hi(e)));break;case 12:if(f&2048){Ht(e,t,i,a),e=t.stateNode;try{var m=t.memoizedProps,T=m.id,E=m.onPostCommit;typeof E=="function"&&E(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Re(t,t.return,_)}}else Ht(e,t,i,a);break;case 31:Ht(e,t,i,a);break;case 13:Ht(e,t,i,a);break;case 23:break;case 22:m=t.stateNode,T=t.alternate,t.memoizedState!==null?m._visibility&2?Ht(e,t,i,a):Ri(e,t):m._visibility&2?Ht(e,t,i,a):(m._visibility|=2,Il(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),f&2048&&sr(T,t);break;case 24:Ht(e,t,i,a),f&2048&&rr(t.alternate,t);break;default:Ht(e,t,i,a)}}function Il(e,t,i,a,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,T=t,E=i,_=a,D=T.flags;switch(T.tag){case 0:case 11:case 15:Il(m,T,E,_,f),bi(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?Il(m,T,E,_,f):Ri(m,T):(z._visibility|=2,Il(m,T,E,_,f)),f&&D&2048&&sr(T.alternate,T);break;case 24:Il(m,T,E,_,f),f&&D&2048&&rr(T.alternate,T);break;default:Il(m,T,E,_,f)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,f=a.flags;switch(a.tag){case 22:Ri(i,a),f&2048&&sr(a.alternate,a);break;case 24:Ri(i,a),f&2048&&rr(a.alternate,a);break;default:Ri(i,a)}t=t.sibling}}var Di=8192;function Ul(e,t,i){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)ad(e,t,i),e=e.sibling}function ad(e,t,i){switch(e.tag){case 26:Ul(e,t,i),e.flags&Di&&e.memoizedState!==null&&O0(i,qt,e.memoizedState,e.memoizedProps);break;case 5:Ul(e,t,i);break;case 3:case 4:var a=qt;qt=ta(e.stateNode.containerInfo),Ul(e,t,i),qt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Di,Di=16777216,Ul(e,t,i),Di=a):Ul(e,t,i));break;default:Ul(e,t,i)}}function sd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];je=a,ud(a,e)}sd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rd(e),e=e.sibling}function rd(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&En(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Po(e)):ki(e);break;default:ki(e)}}function Po(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];je=a,ud(a,e)}sd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:En(8,t,t.return),Po(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Po(t));break;default:Po(t)}e=e.sibling}}function ud(e,t){for(;je!==null;){var i=je;switch(i.tag){case 0:case 11:case 15:En(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:hi(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,je=a;else e:for(i=e;je!==null;){a=je;var f=a.sibling,m=a.return;if(Wf(a),a===i){je=null;break e}if(f!==null){f.return=m,je=f;break e}je=m}}}var i0={getCacheForType:function(e){var t=et(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return et(Ye).controller.signal}},o0=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ue=null,xe=null,Se=0,we=0,St=null,_n=!1,Ll=!1,ur=!1,sn=0,Pe=0,An=0,nl=0,cr=0,Ct=0,ql=0,Ii=null,dt=null,fr=!1,Oo=0,cd=0,Jo=1/0,Yo=null,Nn=null,Ke=0,Mn=null,Hl=null,rn=0,dr=0,mr=null,fd=null,Ui=0,pr=null;function Et(){return(Me&2)!==0&&Se!==0?Se&-Se:b.T!==null?Tr():Nu()}function dd(){if(Ct===0)if((Se&536870912)===0||Ee){var e=$i;$i<<=1,($i&3932160)===0&&($i=262144),Ct=e}else Ct=536870912;return e=xt.current,e!==null&&(e.flags|=32),Ct}function mt(e,t,i){(e===Ue&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(zl(e,0),bn(e,Se,Ct,!1)),ti(e,i),((Me&2)===0||e!==Ue)&&(e===Ue&&((Me&2)===0&&(nl|=i),Pe===4&&bn(e,Se,Ct,!1)),Pt(e))}function md(e,t,i){if((Me&6)!==0)throw Error(s(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ei(e,t),f=a?r0(e,t):gr(e,t,!0),m=a;do{if(f===0){Ll&&!a&&bn(e,t,0,!1);break}else{if(i=e.current.alternate,m&&!a0(i)){f=gr(e,t,!1),m=!1;continue}if(f===2){if(m=t,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var E=e;f=Ii;var _=E.current.memoizedState.isDehydrated;if(_&&(zl(E,T).flags|=256),T=gr(E,T,!1),T!==2){if(ur&&!_){E.errorRecoveryDisabledLanes|=m,nl|=m,f=4;break e}m=dt,dt=f,m!==null&&(dt===null?dt=m:dt.push.apply(dt,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){zl(e,0),bn(e,t,0,!0);break}e:{switch(a=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:bn(a,t,Ct,!_n);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=Oo+300-pt(),10<f)){if(bn(a,t,Ct,!_n),eo(a,0,!0)!==0)break e;rn=t,a.timeoutHandle=Jd(pd.bind(null,a,i,dt,Yo,fr,t,Ct,nl,ql,_n,m,"Throttled",-0,0),f);break e}pd(a,i,dt,Yo,fr,t,Ct,nl,ql,_n,m,null,-0,0)}}break}while(!0);Pt(e)}function pd(e,t,i,a,f,m,T,E,_,D,z,B,I,L){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},ad(t,m,B);var oe=(m&62914560)===m?Oo-pt():(m&4194048)===m?cd-pt():0;if(oe=J0(B,oe),oe!==null){rn=m,e.cancelPendingCommit=oe(Cd.bind(null,e,t,m,i,a,f,T,E,_,z,B,null,I,L)),bn(e,m,T,!D);return}}Cd(e,t,m,i,a,f,T,E,_)}function a0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var f=i[a],m=f.getSnapshot;f=f.value;try{if(!yt(m(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t,i,a){t&=~cr,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var f=t;0<f;){var m=31-gt(f),T=1<<m;a[m]=-1,f&=~T}i!==0&&Eu(e,i,t)}function Fo(){return(Me&6)===0?(Li(0),!1):!0}function hr(){if(xe!==null){if(we===0)var e=xe.return;else e=xe,Zt=Xn=null,Ds(e),bl=null,yi=0,e=xe;for(;e!==null;)Yf(e.alternate,e),e=e.return;xe=null}}function zl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,N0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),rn=0,hr(),Ue=e,xe=i=Qt(e.current,null),Se=t,we=0,St=null,_n=!1,Ll=ei(e,t),ur=!1,ql=Ct=cr=nl=An=Pe=0,dt=Ii=null,fr=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var f=31-gt(a),m=1<<f;t|=e[f],a&=~m}return sn=t,mo(),i}function hd(e,t){ye=null,b.H=Ai,t===Ml||t===So?(t=Rc(),we=3):t===xs?(t=Rc(),we=4):we=t===Xs?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,St=t,xe===null&&(Pe=1,Lo(e,Mt(t,e.current)))}function gd(){var e=xt.current;return e===null?!0:(Se&4194048)===Se?Dt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Dt:!1}function yd(){var e=b.H;return b.H=Ai,e===null?Ai:e}function vd(){var e=b.A;return b.A=i0,e}function Xo(){Pe=4,_n||(Se&4194048)!==Se&&xt.current!==null||(Ll=!0),(An&134217727)===0&&(nl&134217727)===0||Ue===null||bn(Ue,Se,Ct,!1)}function gr(e,t,i){var a=Me;Me|=2;var f=yd(),m=vd();(Ue!==e||Se!==t)&&(Yo=null,zl(e,t)),t=!1;var T=Pe;e:do try{if(we!==0&&xe!==null){var E=xe,_=St;switch(we){case 8:hr(),T=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var D=we;if(we=0,St=null,Vl(e,E,_,D),i&&Ll){T=0;break e}break;default:D=we,we=0,St=null,Vl(e,E,_,D)}}s0(),T=Pe;break}catch(z){hd(e,z)}while(!0);return t&&e.shellSuspendCounter++,Zt=Xn=null,Me=a,b.H=f,b.A=m,xe===null&&(Ue=null,Se=0,mo()),T}function s0(){for(;xe!==null;)xd(xe)}function r0(e,t){var i=Me;Me|=2;var a=yd(),f=vd();Ue!==e||Se!==t?(Yo=null,Jo=pt()+500,zl(e,t)):Ll=ei(e,t);e:do try{if(we!==0&&xe!==null){t=xe;var m=St;t:switch(we){case 1:we=0,St=null,Vl(e,t,m,1);break;case 2:case 9:if(bc(m)){we=0,St=null,Td(t);break}t=function(){we!==2&&we!==9||Ue!==e||(we=7),Pt(e)},m.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:bc(m)?(we=0,St=null,Td(t)):(we=0,St=null,Vl(e,t,m,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var E=xe;if(T?om(T):E.stateNode.complete){we=0,St=null;var _=E.sibling;if(_!==null)xe=_;else{var D=E.return;D!==null?(xe=D,Qo(D)):xe=null}break t}}we=0,St=null,Vl(e,t,m,5);break;case 6:we=0,St=null,Vl(e,t,m,6);break;case 8:hr(),Pe=6;break e;default:throw Error(s(462))}}u0();break}catch(z){hd(e,z)}while(!0);return Zt=Xn=null,b.H=a,b.A=f,Me=i,xe!==null?0:(Ue=null,Se=0,mo(),Pe)}function u0(){for(;xe!==null&&!kh();)xd(xe)}function xd(e){var t=Of(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?Qo(e):xe=t}function Td(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Hf(i,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Hf(i,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ds(t);default:Yf(i,t),t=xe=yc(t,sn),t=Of(i,t,sn)}e.memoizedProps=e.pendingProps,t===null?Qo(e):xe=t}function Vl(e,t,i,a){Zt=Xn=null,Ds(t),bl=null,yi=0;var f=t.return;try{if(jg(e,f,t,i,Se)){Pe=1,Lo(e,Mt(i,e.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;Pe=1,Lo(e,Mt(i,e.current)),xe=null;return}t.flags&32768?(Ee||a===1?e=!0:Ll||(Se&536870912)!==0?e=!1:(_n=e=!0,(a===2||a===9||a===3||a===6)&&(a=xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Sd(t,e)):Qo(t)}function Qo(e){var t=e;do{if((t.flags&32768)!==0){Sd(t,_n);return}e=t.return;var i=e0(t.alternate,t,sn);if(i!==null){xe=i;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Pe===0&&(Pe=5)}function Sd(e,t){do{var i=t0(e.alternate,e);if(i!==null){i.flags&=32767,xe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=i}while(e!==null);Pe=6,xe=null}function Cd(e,t,i,a,f,m,T,E,_){e.cancelPendingCommit=null;do Ko();while(Ke!==0);if((Me&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(m=t.lanes|t.childLanes,m|=is,Ph(e,i,m,T,E,_),e===Ue&&(xe=Ue=null,Se=0),Hl=t,Mn=e,rn=i,dr=m,mr=f,fd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,m0(Zi,function(){return Md(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=b.T,b.T=null,f=k.p,k.p=2,T=Me,Me|=4;try{n0(e,t,i)}finally{Me=T,k.p=f,b.T=a}}Ke=1,Ed(),_d(),Ad()}}function Ed(){if(Ke===1){Ke=0;var e=Mn,t=Hl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=b.T,b.T=null;var a=k.p;k.p=2;var f=Me;Me|=4;try{ld(t,e);var m=br,T=rc(e.containerInfo),E=m.focusedElem,_=m.selectionRange;if(T!==E&&E&&E.ownerDocument&&sc(E.ownerDocument.documentElement,E)){if(_!==null&&Wa(E)){var D=_.start,z=_.end;if(z===void 0&&(z=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(z,E.value.length);else{var B=E.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var L=I.getSelection(),oe=E.textContent.length,fe=Math.min(_.start,oe),Ie=_.end===void 0?fe:Math.min(_.end,oe);!L.extend&&fe>Ie&&(T=Ie,Ie=fe,fe=T);var w=ac(E,fe),M=ac(E,Ie);if(w&&M&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==M.node||L.focusOffset!==M.offset)){var R=B.createRange();R.setStart(w.node,w.offset),L.removeAllRanges(),fe>Ie?(L.addRange(R),L.extend(M.node,M.offset)):(R.setEnd(M.node,M.offset),L.addRange(R))}}}}for(B=[],L=E;L=L.parentNode;)L.nodeType===1&&B.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<B.length;E++){var G=B[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}sa=!!Mr,br=Mr=null}finally{Me=f,k.p=a,b.T=i}}e.current=t,Ke=2}}function _d(){if(Ke===2){Ke=0;var e=Mn,t=Hl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=b.T,b.T=null;var a=k.p;k.p=2;var f=Me;Me|=4;try{$f(e,t.alternate,t)}finally{Me=f,k.p=a,b.T=i}}Ke=3}}function Ad(){if(Ke===4||Ke===3){Ke=0,Ih();var e=Mn,t=Hl,i=rn,a=fd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,Hl=Mn=null,Nd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Nn=null),Ua(i),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Wl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=b.T,f=k.p,k.p=2,b.T=null;try{for(var m=e.onRecoverableError,T=0;T<a.length;T++){var E=a[T];m(E.value,{componentStack:E.stack})}}finally{b.T=t,k.p=f}}(rn&3)!==0&&Ko(),Pt(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===pr?Ui++:(Ui=0,pr=e):Ui=0,Li(0)}}function Nd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hi(t)))}function Ko(){return Ed(),_d(),Ad(),Md()}function Md(){if(Ke!==5)return!1;var e=Mn,t=dr;dr=0;var i=Ua(rn),a=b.T,f=k.p;try{k.p=32>i?32:i,b.T=null,i=mr,mr=null;var m=Mn,T=rn;if(Ke=0,Hl=Mn=null,rn=0,(Me&6)!==0)throw Error(s(331));var E=Me;if(Me|=4,rd(m.current),od(m,m.current,T,i),Me=E,Li(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Wl,m)}catch{}return!0}finally{k.p=f,b.T=a,Nd(e,t)}}function bd(e,t,i){t=Mt(i,t),t=Fs(e.stateNode,t,2),e=Tn(e,t,2),e!==null&&(ti(e,2),Pt(e))}function Re(e,t,i){if(e.tag===3)bd(e,e,i);else for(;t!==null;){if(t.tag===3){bd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Nn===null||!Nn.has(a))){e=Mt(i,e),i=wf(2),a=Tn(t,i,2),a!==null&&(Rf(i,a,t,e),ti(a,2),Pt(a));break}}t=t.return}}function yr(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new o0;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(i)||(ur=!0,f.add(i),e=c0.bind(null,e,t,i),t.then(e,e))}function c0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(Se&i)===i&&(Pe===4||Pe===3&&(Se&62914560)===Se&&300>pt()-Oo?(Me&2)===0&&zl(e,0):cr|=i,ql===Se&&(ql=0)),Pt(e)}function wd(e,t){t===0&&(t=Cu()),e=Jn(e,t),e!==null&&(ti(e,t),Pt(e))}function f0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),wd(e,i)}function d0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),wd(e,i)}function m0(e,t){return Ra(e,t)}var Zo=null,Gl=null,vr=!1,jo=!1,xr=!1,wn=0;function Pt(e){e!==Gl&&e.next===null&&(Gl===null?Zo=Gl=e:Gl=Gl.next=e),jo=!0,vr||(vr=!0,h0())}function Li(e,t){if(!xr&&jo){xr=!0;do for(var i=!1,a=Zo;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var m=0;else{var T=a.suspendedLanes,E=a.pingedLanes;m=(1<<31-gt(42|e)+1)-1,m&=f&~(T&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Id(a,m))}else m=Se,m=eo(a,a===Ue?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||ei(a,m)||(i=!0,Id(a,m));a=a.next}while(i);xr=!1}}function p0(){Rd()}function Rd(){jo=vr=!1;var e=0;wn!==0&&A0()&&(e=wn);for(var t=pt(),i=null,a=Zo;a!==null;){var f=a.next,m=Dd(a,t);m===0?(a.next=null,i===null?Zo=f:i.next=f,f===null&&(Gl=i)):(i=a,(e!==0||(m&3)!==0)&&(jo=!0)),a=f}Ke!==0&&Ke!==5||Li(e),wn!==0&&(wn=0)}function Dd(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-gt(m),E=1<<T,_=f[T];_===-1?((E&i)===0||(E&a)!==0)&&(f[T]=Bh(E,t)):_<=t&&(e.expiredLanes|=E),m&=~E}if(t=Ue,i=Se,i=eo(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Da(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ei(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&Da(a),Ua(i)){case 2:case 8:i=Tu;break;case 32:i=Zi;break;case 268435456:i=Su;break;default:i=Zi}return a=kd.bind(null,e),i=Ra(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&Da(a),e.callbackPriority=2,e.callbackNode=null,2}function kd(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ko()&&e.callbackNode!==i)return null;var a=Se;return a=eo(e,e===Ue?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(md(e,a,t),Dd(e,pt()),e.callbackNode!=null&&e.callbackNode===i?kd.bind(null,e):null)}function Id(e,t){if(Ko())return null;md(e,t,!0)}function h0(){M0(function(){(Me&6)!==0?Ra(xu,p0):Rd()})}function Tr(){if(wn===0){var e=Al;e===0&&(e=ji,ji<<=1,(ji&261888)===0&&(ji=256)),wn=e}return wn}function Ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:io(""+e)}function Ld(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function g0(e,t,i,a,f){if(t==="submit"&&i&&i.stateNode===f){var m=Ud((f[st]||null).action),T=a.submitter;T&&(t=(t=T[st]||null)?Ud(t.formAction):T.getAttribute("formAction"),t!==null&&(m=t,T=null));var E=new ro("action","action",null,a,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(wn!==0){var _=T?Ld(f,T):new FormData(f);Gs(i,{pending:!0,data:_,method:f.method,action:m},null,_)}}else typeof m=="function"&&(E.preventDefault(),_=T?Ld(f,T):new FormData(f),Gs(i,{pending:!0,data:_,method:f.method,action:m},m,_))},currentTarget:f}]})}}for(var Sr=0;Sr<ls.length;Sr++){var Cr=ls[Sr],y0=Cr.toLowerCase(),v0=Cr[0].toUpperCase()+Cr.slice(1);Lt(y0,"on"+v0)}Lt(fc,"onAnimationEnd"),Lt(dc,"onAnimationIteration"),Lt(mc,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Ug,"onTransitionRun"),Lt(Lg,"onTransitionStart"),Lt(qg,"onTransitionCancel"),Lt(pc,"onTransitionEnd"),fl("onMouseEnter",["mouseout","mouseover"]),fl("onMouseLeave",["mouseout","mouseover"]),fl("onPointerEnter",["pointerout","pointerover"]),fl("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qi));function qd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],f=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var T=a.length-1;0<=T;T--){var E=a[T],_=E.instance,D=E.currentTarget;if(E=E.listener,_!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=D;try{m(f)}catch(z){fo(z)}f.currentTarget=null,m=_}else for(T=0;T<a.length;T++){if(E=a[T],_=E.instance,D=E.currentTarget,E=E.listener,_!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=D;try{m(f)}catch(z){fo(z)}f.currentTarget=null,m=_}}}}function Te(e,t){var i=t[La];i===void 0&&(i=t[La]=new Set);var a=e+"__bubble";i.has(a)||(Hd(t,e,2,!1),i.add(a))}function Er(e,t,i){var a=0;t&&(a|=4),Hd(i,e,a,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function _r(e){if(!e[$o]){e[$o]=!0,wu.forEach(function(i){i!=="selectionchange"&&(x0.has(i)||Er(i,!1,e),Er(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Er("selectionchange",!1,t))}}function Hd(e,t,i,a){switch(dm(t)){case 2:var f=X0;break;case 8:f=Q0;break;default:f=Vr}i=f.bind(null,t,i,e),f=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Ar(e,t,i,a,f){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var E=a.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=a.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=rl(E),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){a=m=T;continue e}E=E.parentNode}}a=a.return}Bu(function(){var D=m,z=Pa(i),B=[];e:{var I=hc.get(e);if(I!==void 0){var L=ro,oe=e;switch(e){case"keypress":if(ao(i)===0)break e;case"keydown":case"keyup":L=dg;break;case"focusin":oe="focus",L=Qa;break;case"focusout":oe="blur",L=Qa;break;case"beforeblur":case"afterblur":L=Qa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=hg;break;case fc:case dc:case mc:L=lg;break;case pc:L=yg;break;case"scroll":case"scrollend":L=$h;break;case"wheel":L=xg;break;case"copy":case"cut":case"paste":L=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Fu;break;case"toggle":case"beforetoggle":L=Sg}var fe=(t&4)!==0,Ie=!fe&&(e==="scroll"||e==="scrollend"),w=fe?I!==null?I+"Capture":null:I;fe=[];for(var M=D,R;M!==null;){var G=M;if(R=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||R===null||w===null||(G=ii(M,w),G!=null&&fe.push(Hi(M,G,R))),Ie)break;M=M.return}0<fe.length&&(I=new L(I,oe,null,i,z),B.push({event:I,listeners:fe}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&i!==Ba&&(oe=i.relatedTarget||i.fromElement)&&(rl(oe)||oe[sl]))break e;if((L||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,L?(oe=i.relatedTarget||i.toElement,L=D,oe=oe?rl(oe):null,oe!==null&&(Ie=d(oe),fe=oe.tag,oe!==Ie||fe!==5&&fe!==27&&fe!==6)&&(oe=null)):(L=null,oe=D),L!==oe)){if(fe=Ju,G="onMouseLeave",w="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Fu,G="onPointerLeave",w="onPointerEnter",M="pointer"),Ie=L==null?I:li(L),R=oe==null?I:li(oe),I=new fe(G,M+"leave",L,i,z),I.target=Ie,I.relatedTarget=R,G=null,rl(z)===D&&(fe=new fe(w,M+"enter",oe,i,z),fe.target=R,fe.relatedTarget=Ie,G=fe),Ie=G,L&&oe)t:{for(fe=T0,w=L,M=oe,R=0,G=w;G;G=fe(G))R++;G=0;for(var re=M;re;re=fe(re))G++;for(;0<R-G;)w=fe(w),R--;for(;0<G-R;)M=fe(M),G--;for(;R--;){if(w===M||M!==null&&w===M.alternate){fe=w;break t}w=fe(w),M=fe(M)}fe=null}else fe=null;L!==null&&zd(B,I,L,fe,!1),oe!==null&&Ie!==null&&zd(B,Ie,oe,fe,!0)}}e:{if(I=D?li(D):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var _e=ec;else if($u(I))if(tc)_e=Dg;else{_e=wg;var se=bg}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&Ga(D.elementType)&&(_e=ec):_e=Rg;if(_e&&(_e=_e(e,D))){Wu(B,_e,i,z);break e}se&&se(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&Va(I,"number",I.value)}switch(se=D?li(D):window,e){case"focusin":($u(se)||se.contentEditable==="true")&&(yl=se,es=D,di=null);break;case"focusout":di=es=yl=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,uc(B,i,z);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":uc(B,i,z)}var ve;if(Za)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else gl?Zu(e,i)&&(Ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ce="onCompositionStart");Ce&&(Xu&&i.locale!=="ko"&&(gl||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&gl&&(ve=Pu()):(mn=z,Ya="value"in mn?mn.value:mn.textContent,gl=!0)),se=Wo(D,Ce),0<se.length&&(Ce=new Yu(Ce,e,null,i,z),B.push({event:Ce,listeners:se}),ve?Ce.data=ve:(ve=ju(i),ve!==null&&(Ce.data=ve)))),(ve=Eg?_g(e,i):Ag(e,i))&&(Ce=Wo(D,"onBeforeInput"),0<Ce.length&&(se=new Yu("onBeforeInput","beforeinput",null,i,z),B.push({event:se,listeners:Ce}),se.data=ve)),g0(B,e,D,i,z)}qd(B,t)})}function Hi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Wo(e,t){for(var i=t+"Capture",a=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ii(e,i),f!=null&&a.unshift(Hi(e,f,m)),f=ii(e,t),f!=null&&a.push(Hi(e,f,m))),e.tag===3)return a;e=e.return}return[]}function T0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zd(e,t,i,a,f){for(var m=t._reactName,T=[];i!==null&&i!==a;){var E=i,_=E.alternate,D=E.stateNode;if(E=E.tag,_!==null&&_===a)break;E!==5&&E!==26&&E!==27||D===null||(_=D,f?(D=ii(i,m),D!=null&&T.unshift(Hi(i,D,_))):f||(D=ii(i,m),D!=null&&T.push(Hi(i,D,_)))),i=i.return}T.length!==0&&e.push({event:t,listeners:T})}var S0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(S0,`
`).replace(C0,"")}function Gd(e,t){return t=Vd(t),Vd(e)===t}function ke(e,t,i,a,f,m){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ml(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ml(e,""+a);break;case"className":no(e,"class",a);break;case"tabIndex":no(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":no(e,i,a);break;case"style":Vu(e,a,m);break;case"data":if(t!=="object"){no(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=io(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(t!=="input"&&ke(e,t,"name",f.name,f,null),ke(e,t,"formEncType",f.formEncType,f,null),ke(e,t,"formMethod",f.formMethod,f,null),ke(e,t,"formTarget",f.formTarget,f,null)):(ke(e,t,"encType",f.encType,f,null),ke(e,t,"method",f.method,f,null),ke(e,t,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=io(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=Ft);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=io(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),to(e,"popover",a);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":to(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Zh.get(i)||i,to(e,i,a))}}function Nr(e,t,i,a,f,m){switch(i){case"style":Vu(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof a=="string"?ml(e,a):(typeof a=="number"||typeof a=="bigint")&&ml(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),m=e[st]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(t,m,f),typeof a=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,f);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):to(e,i,a)}}}function nt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var T=i[m];if(T!=null)switch(m){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,m,T,i,null)}}f&&ke(e,t,"srcSet",i.srcSet,i,null),a&&ke(e,t,"src",i.src,i,null);return;case"input":Te("invalid",e);var E=m=T=f=null,_=null,D=null;for(a in i)if(i.hasOwnProperty(a)){var z=i[a];if(z!=null)switch(a){case"name":f=z;break;case"type":T=z;break;case"checked":_=z;break;case"defaultChecked":D=z;break;case"value":m=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:ke(e,t,a,z,i,null)}}Lu(e,m,E,_,D,T,f,!1);return;case"select":Te("invalid",e),a=T=m=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":T=E;break;case"multiple":a=E;default:ke(e,t,f,E,i,null)}t=m,i=T,e.multiple=!!a,t!=null?dl(e,!!a,t,!1):i!=null&&dl(e,!!a,i,!0);return;case"textarea":Te("invalid",e),m=f=a=null;for(T in i)if(i.hasOwnProperty(T)&&(E=i[T],E!=null))switch(T){case"value":a=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ke(e,t,T,E,i,null)}Hu(e,a,f,m);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(a=i[_],a!=null))switch(_){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ke(e,t,_,a,i,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<qi.length;a++)Te(qi[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(a=i[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ke(e,t,D,a,i,null)}return;default:if(Ga(t)){for(z in i)i.hasOwnProperty(z)&&(a=i[z],a!==void 0&&Nr(e,t,z,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&ke(e,t,E,a,i,null))}function E0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,E=null,_=null,D=null,z=null;for(L in i){var B=i[L];if(i.hasOwnProperty(L)&&B!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":_=B;default:a.hasOwnProperty(L)||ke(e,t,L,null,a,B)}}for(var I in a){var L=a[I];if(B=i[I],a.hasOwnProperty(I)&&(L!=null||B!=null))switch(I){case"type":m=L;break;case"name":f=L;break;case"checked":D=L;break;case"defaultChecked":z=L;break;case"value":T=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:L!==B&&ke(e,t,I,L,a,B)}}za(e,T,E,_,D,z,m,f);return;case"select":L=T=E=I=null;for(m in i)if(_=i[m],i.hasOwnProperty(m)&&_!=null)switch(m){case"value":break;case"multiple":L=_;default:a.hasOwnProperty(m)||ke(e,t,m,null,a,_)}for(f in a)if(m=a[f],_=i[f],a.hasOwnProperty(f)&&(m!=null||_!=null))switch(f){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":T=m;default:m!==_&&ke(e,t,f,m,a,_)}t=E,i=T,a=L,I!=null?dl(e,!!i,I,!1):!!a!=!!i&&(t!=null?dl(e,!!i,t,!0):dl(e,!!i,i?[]:"",!1));return;case"textarea":L=I=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ke(e,t,E,null,a,f)}for(T in a)if(f=a[T],m=i[T],a.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":I=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ke(e,t,T,f,a,m)}qu(e,I,L);return;case"option":for(var oe in i)if(I=i[oe],i.hasOwnProperty(oe)&&I!=null&&!a.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:ke(e,t,oe,null,a,I)}for(_ in a)if(I=a[_],L=i[_],a.hasOwnProperty(_)&&I!==L&&(I!=null||L!=null))switch(_){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ke(e,t,_,I,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in i)I=i[fe],i.hasOwnProperty(fe)&&I!=null&&!a.hasOwnProperty(fe)&&ke(e,t,fe,null,a,I);for(D in a)if(I=a[D],L=i[D],a.hasOwnProperty(D)&&I!==L&&(I!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,t));break;default:ke(e,t,D,I,a,L)}return;default:if(Ga(t)){for(var Ie in i)I=i[Ie],i.hasOwnProperty(Ie)&&I!==void 0&&!a.hasOwnProperty(Ie)&&Nr(e,t,Ie,void 0,a,I);for(z in a)I=a[z],L=i[z],!a.hasOwnProperty(z)||I===L||I===void 0&&L===void 0||Nr(e,t,z,I,a,L);return}}for(var w in i)I=i[w],i.hasOwnProperty(w)&&I!=null&&!a.hasOwnProperty(w)&&ke(e,t,w,null,a,I);for(B in a)I=a[B],L=i[B],!a.hasOwnProperty(B)||I===L||I==null&&L==null||ke(e,t,B,I,a,L)}function Bd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var f=i[a],m=f.transferSize,T=f.initiatorType,E=f.duration;if(m&&E&&Bd(T)){for(T=0,E=f.responseEnd,a+=1;a<i.length;a++){var _=i[a],D=_.startTime;if(D>E)break;var z=_.transferSize,B=_.initiatorType;z&&Bd(B)&&(_=_.responseEnd,T+=z*(_<E?1:(E-D)/(_-D)))}if(--a,t+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Mr=null,br=null;function ea(e){return e.nodeType===9?e:e.ownerDocument}function Pd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Od(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rr=null;function A0(){var e=window.event;return e&&e.type==="popstate"?e===Rr?!1:(Rr=e,!0):(Rr=null,!1)}var Jd=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch(b0)}:Jd;function b0(e){setTimeout(function(){throw e})}function Rn(e){return e==="head"}function Fd(e,t){var i=t,a=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(f),Jl(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")zi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,zi(i);for(var m=i.firstChild;m;){var T=m.nextSibling,E=m.nodeName;m[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=T}}else i==="body"&&zi(e.ownerDocument.body);i=f}while(i);Jl(t)}function Xd(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Dr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Dr(i),qa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function w0(e,t,i,a){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function R0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kt(e.nextSibling),e===null))return null;return e}function Qd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function kr(e){return e.data==="$?"||e.data==="$~"}function Ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function D0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ur=null;function Kd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return kt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function jd(e,t,i){switch(t=ea(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qa(e)}var It=new Map,$d=new Set;function ta(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var un=k.d;k.d={f:k0,r:I0,D:U0,C:L0,L:q0,m:H0,X:V0,S:z0,M:G0};function k0(){var e=un.f(),t=Fo();return e||t}function I0(e){var t=ul(e);t!==null&&t.tag===5&&t.type==="form"?hf(t):un.r(e)}var Bl=typeof document>"u"?null:document;function Wd(e,t,i){var a=Bl;if(a&&typeof t=="string"&&t){var f=At(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),$d.has(f)||($d.add(f),e={rel:e,crossOrigin:i,href:t},a.querySelector(f)===null&&(t=a.createElement("link"),nt(t,"link",e),Ze(t),a.head.appendChild(t)))}}function U0(e){un.D(e),Wd("dns-prefetch",e,null)}function L0(e,t){un.C(e,t),Wd("preconnect",e,t)}function q0(e,t,i){un.L(e,t,i);var a=Bl;if(a&&e&&t){var f='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+At(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+At(i.imageSizes)+'"]')):f+='[href="'+At(e)+'"]';var m=f;switch(t){case"style":m=Pl(e);break;case"script":m=Ol(e)}It.has(m)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),It.set(m,e),a.querySelector(f)!==null||t==="style"&&a.querySelector(Vi(m))||t==="script"&&a.querySelector(Gi(m))||(t=a.createElement("link"),nt(t,"link",e),Ze(t),a.head.appendChild(t)))}}function H0(e,t){un.m(e,t);var i=Bl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+At(a)+'"][href="'+At(e)+'"]',m=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ol(e)}if(!It.has(m)&&(e=S({rel:"modulepreload",href:e},t),It.set(m,e),i.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Gi(m)))return}a=i.createElement("link"),nt(a,"link",e),Ze(a),i.head.appendChild(a)}}}function z0(e,t,i){un.S(e,t,i);var a=Bl;if(a&&e){var f=cl(a).hoistableStyles,m=Pl(e);t=t||"default";var T=f.get(m);if(!T){var E={loading:0,preload:null};if(T=a.querySelector(Vi(m)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=It.get(m))&&Lr(e,i);var _=T=a.createElement("link");Ze(_),nt(_,"link",e),_._p=new Promise(function(D,z){_.onload=D,_.onerror=z}),_.addEventListener("load",function(){E.loading|=1}),_.addEventListener("error",function(){E.loading|=2}),E.loading|=4,na(T,t,a)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(m,T)}}}function V0(e,t){un.X(e,t);var i=Bl;if(i&&e){var a=cl(i).hoistableScripts,f=Ol(e),m=a.get(f);m||(m=i.querySelector(Gi(f)),m||(e=S({src:e,async:!0},t),(t=It.get(f))&&qr(e,t),m=i.createElement("script"),Ze(m),nt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function G0(e,t){un.M(e,t);var i=Bl;if(i&&e){var a=cl(i).hoistableScripts,f=Ol(e),m=a.get(f);m||(m=i.querySelector(Gi(f)),m||(e=S({src:e,async:!0,type:"module"},t),(t=It.get(f))&&qr(e,t),m=i.createElement("script"),Ze(m),nt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function em(e,t,i,a){var f=(f=W.current)?ta(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Pl(i.href),i=cl(f).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Pl(i.href);var m=cl(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Vi(e)))&&!m._p&&(T.instance=m,T.state.loading=5),It.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},It.set(e,i),m||B0(f,e,i,T.state))),t&&a===null)throw Error(s(528,""));return T}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ol(i),i=cl(f).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pl(e){return'href="'+At(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function tm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function B0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nt(t,"link",i),Ze(t),e.head.appendChild(t))}function Ol(e){return'[src="'+At(e)+'"]'}function Gi(e){return"script[async]"+e}function nm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+At(i.href)+'"]');if(a)return t.instance=a,Ze(a),a;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),nt(a,"style",f),na(a,i.precedence,e),t.instance=a;case"stylesheet":f=Pl(i.href);var m=e.querySelector(Vi(f));if(m)return t.state.loading|=4,t.instance=m,Ze(m),m;a=tm(i),(f=It.get(f))&&Lr(a,f),m=(e.ownerDocument||e).createElement("link"),Ze(m);var T=m;return T._p=new Promise(function(E,_){T.onload=E,T.onerror=_}),nt(m,"link",a),t.state.loading|=4,na(m,i.precedence,e),t.instance=m;case"script":return m=Ol(i.src),(f=e.querySelector(Gi(m)))?(t.instance=f,Ze(f),f):(a=i,(f=It.get(m))&&(a=S({},i),qr(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ze(f),nt(f,"link",a),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,na(a,i.precedence,e));return t.instance}function na(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,m=f,T=0;T<a.length;T++){var E=a[T];if(E.dataset.precedence===t)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Lr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var la=null;function lm(e,t,i){if(la===null){var a=new Map,f=la=new Map;f.set(i,a)}else f=la,a=f.get(i),a||(a=new Map,f.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var m=i[f];if(!(m[ni]||m[$e]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(t)||"";T=e+T;var E=a.get(T);E?E.push(m):a.set(T,[m])}}return a}function im(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function P0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function O0(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Pl(a.href),m=t.querySelector(Vi(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ia.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=m,Ze(m);return}m=t.ownerDocument||t,a=tm(a),(f=It.get(f))&&Lr(a,f),m=m.createElement("link"),Ze(m);var T=m;T._p=new Promise(function(E,_){T.onload=E,T.onerror=_}),nt(m,"link",a),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ia.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Hr=0;function J0(e,t){return e.stylesheets&&e.count===0&&aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&aa(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&Hr===0&&(Hr=62500*_0());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&aa(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Hr?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function ia(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oa=null;function aa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oa=new Map,t.forEach(Y0,e),oa=null,ia.call(e))}function Y0(e,t){if(!(t.state.loading&4)){var i=oa.get(e);if(i)var a=i.get(null);else{i=new Map,oa.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),a=T)}a&&i.set(null,a)}f=t.instance,T=f.getAttribute("data-precedence"),m=i.get(T)||a,m===a&&i.set(null,f),i.set(T,f),this.count++,a=ia.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Bi={$$typeof:Y,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function F0(e,t,i,a,f,m,T,E,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.hiddenUpdates=ka(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function am(e,t,i,a,f,m,T,E,_,D,z,B){return e=new F0(e,t,i,T,_,D,z,B,E),t=1,m===!0&&(t|=24),m=vt(3,null,null,t),e.current=m,m.stateNode=e,t=gs(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:a,isDehydrated:i,cache:t},Ts(m),e}function sm(e){return e?(e=Tl,e):Tl}function rm(e,t,i,a,f,m){f=sm(f),a.context===null?a.context=f:a.pendingContext=f,a=xn(t),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Tn(e,a,t),i!==null&&(mt(i,e,t),xi(i,e,t))}function um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zr(e,t){um(e,t),(e=e.alternate)&&um(e,t)}function cm(e){if(e.tag===13||e.tag===31){var t=Jn(e,67108864);t!==null&&mt(t,e,67108864),zr(e,67108864)}}function fm(e){if(e.tag===13||e.tag===31){var t=Et();t=Ia(t);var i=Jn(e,t);i!==null&&mt(i,e,t),zr(e,t)}}var sa=!0;function X0(e,t,i,a){var f=b.T;b.T=null;var m=k.p;try{k.p=2,Vr(e,t,i,a)}finally{k.p=m,b.T=f}}function Q0(e,t,i,a){var f=b.T;b.T=null;var m=k.p;try{k.p=8,Vr(e,t,i,a)}finally{k.p=m,b.T=f}}function Vr(e,t,i,a){if(sa){var f=Gr(a);if(f===null)Ar(e,t,a,ra,i),mm(e,a);else if(Z0(f,e,t,i,a))a.stopPropagation();else if(mm(e,a),t&4&&-1<K0.indexOf(e)){for(;f!==null;){var m=ul(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Vn(m.pendingLanes);if(T!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var _=1<<31-gt(T);E.entanglements[1]|=_,T&=~_}Pt(m),(Me&6)===0&&(Jo=pt()+500,Li(0))}}break;case 31:case 13:E=Jn(m,2),E!==null&&mt(E,m,2),Fo(),zr(m,2)}if(m=Gr(a),m===null&&Ar(e,t,a,ra,i),m===f)break;f=m}f!==null&&a.stopPropagation()}else Ar(e,t,a,null,i)}}function Gr(e){return e=Pa(e),Br(e)}var ra=null;function Br(e){if(ra=null,e=rl(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=p(t),e!==null)return e;e=null}else if(i===31){if(e=y(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ra=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case xu:return 2;case Tu:return 8;case Zi:case Lh:return 32;case Su:return 268435456;default:return 32}default:return 32}}var Pr=!1,Dn=null,kn=null,In=null,Pi=new Map,Oi=new Map,Un=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function Ji(e,t,i,a,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:m,targetContainers:[f]},t!==null&&(t=ul(t),t!==null&&cm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Z0(e,t,i,a,f){switch(t){case"focusin":return Dn=Ji(Dn,e,t,i,a,f),!0;case"dragenter":return kn=Ji(kn,e,t,i,a,f),!0;case"mouseover":return In=Ji(In,e,t,i,a,f),!0;case"pointerover":var m=f.pointerId;return Pi.set(m,Ji(Pi.get(m)||null,e,t,i,a,f)),!0;case"gotpointercapture":return m=f.pointerId,Oi.set(m,Ji(Oi.get(m)||null,e,t,i,a,f)),!0}return!1}function pm(e){var t=rl(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=p(i),t!==null){e.blockedOn=t,Mu(e.priority,function(){fm(i)});return}}else if(t===31){if(t=y(i),t!==null){e.blockedOn=t,Mu(e.priority,function(){fm(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Gr(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Ba=a,i.target.dispatchEvent(a),Ba=null}else return t=ul(i),t!==null&&cm(t),e.blockedOn=i,!1;t.shift()}return!0}function hm(e,t,i){ua(e)&&i.delete(t)}function j0(){Pr=!1,Dn!==null&&ua(Dn)&&(Dn=null),kn!==null&&ua(kn)&&(kn=null),In!==null&&ua(In)&&(In=null),Pi.forEach(hm),Oi.forEach(hm)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,Pr||(Pr=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,j0)))}var fa=null;function gm(e){fa!==e&&(fa=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){fa===e&&(fa=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],f=e[t+2];if(typeof a!="function"){if(Br(a||i)===null)continue;break}var m=ul(i);m!==null&&(e.splice(t,3),t-=3,Gs(m,{pending:!0,data:f,method:i.method,action:a},a,f))}}))}function Jl(e){function t(_){return ca(_,e)}Dn!==null&&ca(Dn,e),kn!==null&&ca(kn,e),In!==null&&ca(In,e),Pi.forEach(t),Oi.forEach(t);for(var i=0;i<Un.length;i++){var a=Un[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Un.length&&(i=Un[0],i.blockedOn===null);)pm(i),i.blockedOn===null&&Un.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var f=i[a],m=i[a+1],T=f[st]||null;if(typeof m=="function")T||gm(i);else if(T){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[st]||null)E=T.formAction;else if(Br(f)!==null)continue}else E=T.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),gm(i)}}}function ym(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function Or(e){this._internalRoot=e}da.prototype.render=Or.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,a=Et();rm(i,a,e,t,null,null)},da.prototype.unmount=Or.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rm(e.current,2,null,e,null,null),Fo(),t[sl]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Un.length&&t!==0&&t<Un[i].priority;i++);Un.splice(i,0,e),i===0&&pm(e)}};var vm=n.version;if(vm!=="19.2.0")throw Error(s(527,vm,"19.2.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var $0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Wl=ma.inject($0),ht=ma}catch{}}return Fi.createRoot=function(e,t){if(!u(e))throw Error(s(299));var i=!1,a="",f=Af,m=Nf,T=Mf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=am(e,1,!1,null,null,i,a,null,f,m,T,ym),e[sl]=t.current,_r(e),new Or(t)},Fi.hydrateRoot=function(e,t,i){if(!u(e))throw Error(s(299));var a=!1,f="",m=Af,T=Nf,E=Mf,_=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(_=i.formState)),t=am(e,1,!0,t,i??null,a,f,_,m,T,E,ym),t.context=sm(null),i=t.current,a=Et(),a=Ia(a),f=xn(a),f.callback=null,Tn(i,f,a),i=a,t.current.lanes=i,ti(t,i),Pt(t),e[sl]=t.current,_r(e),new da(t)},Fi.version="19.2.0",Fi}var bm;function uy(){if(bm)return Fr.exports;bm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Fr.exports=ry(),Fr.exports}var cy=uy();const fy=Kp(cy),Ta={"user-1":{id:"user-1",name:"Alex",isOnline:!0},"user-2":{id:"user-2",name:"Sam",isOnline:!0},"user-3":{id:"user-3",name:"Casey",isOnline:!1},"user-4":{id:"user-4",name:"Jordan",isOnline:!0},"ai-bot":{id:"ai-bot",name:"AI Assistant",isOnline:!0}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dy,my;function py(){return{geminiUrl:dy,vertexUrl:my}}function hy(l,n,o,s){var u,d;if(!(l!=null&&l.baseUrl)){const p=py();return n?(u=p.vertexUrl)!==null&&u!==void 0?u:o:(d=p.geminiUrl)!==null&&d!==void 0?d:s}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol{}function ae(l,n){const o=/\{([^}]+)\}/g;return l.replace(o,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(l,n,o){for(let d=0;d<n.length-1;d++){const p=n[d];if(p.endsWith("[]")){const y=p.slice(0,-2);if(!(y in l))if(Array.isArray(o))l[y]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[y])){const v=l[y];if(Array.isArray(o))for(let h=0;h<v.length;h++){const x=v[h];c(x,n.slice(d+1),o[h])}else for(const h of v)c(h,n.slice(d+1),o)}return}else if(p.endsWith("[0]")){const y=p.slice(0,-3);y in l||(l[y]=[{}]);const v=l[y];c(v[0],n.slice(d+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const s=n[n.length-1],u=l[s];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[s]=o}function r(l,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return l;for(let s=0;s<n.length;s++){if(typeof l!="object"||l===null)return o;const u=n[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in l){const p=l[d];return Array.isArray(p)?p.map(y=>r(y,n.slice(s+1),o)):o}else return o}else l=l[u]}return l}catch(s){if(s instanceof TypeError)return o;throw s}}function gy(l,n){for(const[o,s]of Object.entries(n)){const u=o.split("."),d=s.split("."),p=new Set;let y=-1;for(let v=0;v<u.length;v++)if(u[v]==="*"){y=v;break}if(y!==-1&&d.length>y)for(let v=y;v<d.length;v++){const h=d[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}jr(l,u,d,0,p)}}function jr(l,n,o,s,u){if(s>=n.length||typeof l!="object"||l===null)return;const d=n[s];if(d.endsWith("[]")){const p=d.slice(0,-2),y=l;if(p in y&&Array.isArray(y[p]))for(const v of y[p])jr(v,n,o,s+1,u)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,y=Object.keys(p).filter(h=>!h.startsWith("_")&&!u.has(h)),v={};for(const h of y)v[h]=p[h];for(const[h,x]of Object.entries(v)){const S=[];for(const C of o.slice(s))C==="*"?S.push(h):S.push(C);c(p,S,x)}for(const h of y)delete p[h]}}else{const p=l;d in p&&jr(p[d],n,o,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ru(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yy(l){const n={},o=r(l,["operationName"]);o!=null&&c(n,["operationName"],o);const s=r(l,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function vy(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);d!=null&&c(n,["error"],d);const p=r(l,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],Ty(p)),n}function xy(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);d!=null&&c(n,["error"],d);const p=r(l,["response"]);return p!=null&&c(n,["response"],Sy(p)),n}function Ty(l){const n={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Cy(p))),c(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Sy(l){const n={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Ey(p))),c(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Cy(l){const n={},o=r(l,["video"]);return o!=null&&c(n,["video"],Ny(o)),n}function Ey(l){const n={},o=r(l,["_self"]);return o!=null&&c(n,["video"],My(o)),n}function _y(l){const n={},o=r(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Ay(l){const n={},o=r(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Ny(l){const n={},o=r(l,["uri"]);o!=null&&c(n,["uri"],o);const s=r(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],ru(s));const u=r(l,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function My(l){const n={},o=r(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],ru(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wm;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wm||(wm={}));var Rm;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Rm||(Rm={}));var qn;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(qn||(qn={}));var Dm;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Dm||(Dm={}));var km;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(km||(km={}));var Im;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Im||(Im={}));var Um;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Um||(Um={}));var Lm;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(Lm||(Lm={}));var qm;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qm||(qm={}));var Hm;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hm||(Hm={}));var zm;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(zm||(zm={}));var Vm;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Vm||(Vm={}));var Gm;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gm||(Gm={}));var Bm;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY"})(Bm||(Bm={}));var Pm;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pm||(Pm={}));var ga;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(ga||(ga={}));var Om;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Om||(Om={}));var $r;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($r||($r={}));var Jm;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jm||(Jm={}));var Ym;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ym||(Ym={}));var Fm;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Fm||(Fm={}));var Xm;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(Xm||(Xm={}));var Qm;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Qm||(Qm={}));var Km;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Km||(Km={}));var Zm;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zm||(Zm={}));var jm;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(jm||(jm={}));var $m;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})($m||($m={}));var Wm;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Wm||(Wm={}));var ep;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(ep||(ep={}));var tp;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tp||(tp={}));var np;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(np||(np={}));var lp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lp||(lp={}));var ip;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ip||(ip={}));var op;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(op||(op={}));var ap;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(ap||(ap={}));var sp;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(sp||(sp={}));var rp;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(rp||(rp={}));var up;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(up||(up={}));var cp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(cp||(cp={}));var fp;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fp||(fp={}));var dp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(dp||(dp={}));var mp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mp||(mp={}));var pp;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pp||(pp={}));var hp;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(hp||(hp={}));var gp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gp||(gp={}));var yp;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(yp||(yp={}));var vp;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vp||(vp={}));var xp;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(xp||(xp={}));var Fl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Fl||(Fl={}));class Wr{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Xi{get text(){var n,o,s,u,d,p,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const S=[];for(const C of(v=(y=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[A,q]of Object.entries(C))A!=="text"&&A!=="thought"&&(q!==null||q!==void 0)&&S.push(A);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;x=!0,h+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var n,o,s,u,d,p,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const S of(v=(y=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[C,A]of Object.entries(S))C!=="inlineData"&&(A!==null||A!==void 0)&&x.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,u,d,p,y,v;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(y=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,s,u,d,p,y,v,h;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(y=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,u,d,p,y,v,h;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(y=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Tp{}class Sp{}class by{}class wy{}class Ry{}class Dy{}class Cp{}class Ep{}class _p{}class ky{}class ya{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const s=new ya;let u;const d=n;return o?u=xy(d):u=vy(d),Object.assign(s,u),s}}class Ap{}class Np{}class Mp{}class Iy{}class Uy{}class Ly{}class bp{}class qy{get text(){var n,o,s;let u="",d=!1;const p=[];for(const y of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,h]of Object.entries(y))v!=="text"&&v!=="thought"&&h!==null&&p.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;d=!0,u+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,s;let u="";const d=[];for(const p of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,v]of Object.entries(p))y!=="inlineData"&&v!==null&&d.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Hy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(l,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Zp(l,n){const o=Ne(l,n);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function jp(l){return Array.isArray(l)?l.map(n=>va(n)):[va(l)]}function va(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function $p(l){const n=va(l);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Wp(l){const n=va(l);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function wp(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function eh(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(n=>wp(n)):[wp(l)]}function eu(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Rp(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Dp(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function ot(l){if(l==null)throw new Error("ContentUnion is required");return eu(l)?l:{role:"user",parts:eh(l)}}function uu(l,n){if(!n)return[];if(l.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=ot(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const o=ot(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>ot(o)):[ot(n)]}function Ut(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(Rp(l)||Dp(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(l)]}const n=[],o=[],s=eu(l[0]);for(const u of l){const d=eu(u);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(Rp(u)||Dp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return s||n.push({role:"user",parts:eh(o)}),n}function zy(l,n){l.includes("null")&&(n.nullable=!0);const o=l.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(qn).includes(o[0].toUpperCase())?o[0].toUpperCase():qn.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(qn).includes(s.toUpperCase())?s.toUpperCase():qn.TYPE_UNSPECIFIED})}}function Xl(l){const n={},o=["items"],s=["anyOf"],u=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,l=d[1]):d[1].type==="null"&&(n.nullable=!0,l=d[0])),l.type instanceof Array&&zy(l.type,n);for(const[p,y]of Object.entries(l))if(y!=null)if(p=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;n.type=Object.values(qn).includes(y.toUpperCase())?y.toUpperCase():qn.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=Xl(y);else if(s.includes(p)){const v=[];for(const h of y){if(h.type=="null"){n.nullable=!0;continue}v.push(Xl(h))}n[p]=v}else if(u.includes(p)){const v={};for(const[h,x]of Object.entries(y))v[h]=Xl(x);n[p]=v}else{if(p==="additionalProperties")continue;n[p]=y}return n}function cu(l){return Xl(l)}function fu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function du(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function Zl(l){if(l.functionDeclarations)for(const n of l.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Xl(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Xl(n.response));return l}function jl(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of l)n.push(o);return n}function Vy(l,n,o,s=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===s;return l.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${l.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:u?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function cn(l,n){if(typeof n!="string")throw new Error("name must be a string");return Vy(l,n,"cachedContents")}function th(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Hn(l){return ru(l)}function Gy(l){return l!=null&&typeof l=="object"&&"name"in l}function By(l){return l!=null&&typeof l=="object"&&"video"in l}function Py(l){return l!=null&&typeof l=="object"&&"uri"in l}function nh(l){var n;let o;if(Gy(l)&&(o=l.name),!(Py(l)&&(o=l.uri,o===void 0))&&!(By(l)&&(o=(n=l.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function lh(l,n){let o;return l.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function ih(l){for(const n of["models","tunedModels","publisherModels"])if(Oy(l,n))return l[n];return[]}function Oy(l,n){return l!==null&&typeof l=="object"&&n in l}function Jy(l,n={}){const o=l,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function Yy(l,n={}){const o=[],s=new Set;for(const u of l){const d=u.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const p=Jy(u,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function oh(l,n){let o;if(typeof n=="string")if(l.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Fy(l){if(typeof l!="string")return l;const n=l;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function ah(l){if(typeof l!="object"||l===null)return{};const n=l,o=n.inlinedResponses;if(typeof o!="object"||o===null)return l;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return l;let d=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),l}function $l(l,n){const o=n;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function sh(l){const n=l;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xy(l){const n={},o=r(l,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=r(l,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>_v(p))),c(n,["inlinedResponses"],d)}const u=r(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["inlinedEmbedContentResponses"],d)}return n}function Qy(l){const n={},o=r(l,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=r(l,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const u=r(l,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function Ky(l){const n={},o=r(l,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=r(l,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const u=r(l,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function pa(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const u=r(l,["metadata","state"]);u!=null&&c(n,["state"],sh(u));const d=r(l,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const p=r(l,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const y=r(l,["metadata","updateTime"]);y!=null&&c(n,["updateTime"],y);const v=r(l,["metadata","model"]);v!=null&&c(n,["model"],v);const h=r(l,["metadata","output"]);return h!=null&&c(n,["dest"],Xy(ah(h))),n}function tu(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(l,["state"]);u!=null&&c(n,["state"],sh(u));const d=r(l,["error"]);d!=null&&c(n,["error"],d);const p=r(l,["createTime"]);p!=null&&c(n,["createTime"],p);const y=r(l,["startTime"]);y!=null&&c(n,["startTime"],y);const v=r(l,["endTime"]);v!=null&&c(n,["endTime"],v);const h=r(l,["updateTime"]);h!=null&&c(n,["updateTime"],h);const x=r(l,["model"]);x!=null&&c(n,["model"],x);const S=r(l,["inputConfig"]);S!=null&&c(n,["src"],Zy(S));const C=r(l,["outputConfig"]);return C!=null&&c(n,["dest"],Qy(ah(C))),n}function Zy(l){const n={},o=r(l,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=r(l,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const u=r(l,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function jy(l,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=r(n,["fileName"]);s!=null&&c(o,["fileName"],s);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Ev(l,p))),c(o,["requests","requests"],d)}return o}function $y(l){const n={},o=r(l,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=r(l,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const u=r(l,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Wy(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&c(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function ev(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function tv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function nv(l){const n={},o=r(l,["content"]);o!=null&&c(n,["content"],o);const s=r(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],lv(s));const u=r(l,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(l,["urlContextMetadata"]);p!=null&&c(n,["urlContextMetadata"],p);const y=r(l,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const v=r(l,["groundingMetadata"]);v!=null&&c(n,["groundingMetadata"],v);const h=r(l,["index"]);h!=null&&c(n,["index"],h);const x=r(l,["logprobsResult"]);x!=null&&c(n,["logprobsResult"],x);const S=r(l,["safetyRatings"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>A)),c(n,["safetyRatings"],C)}return n}function lv(l){const n={},o=r(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function rh(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Dv(d))),c(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&c(n,["role"],s),n}function iv(l,n){const o={},s=r(l,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),r(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function ov(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(l,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],Ky(Fy(u))),o}function kp(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],jy(l,oh(l,u)));const d=r(n,["config"]);return d!=null&&iv(d,o),o}function av(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],Ne(l,s));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],$y(oh(l,u)));const d=r(n,["config"]);return d!=null&&ov(d,o),o}function sv(l,n){const o={},s=r(l,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function rv(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],hv(l,u));const d=r(n,["config"]);return d!=null&&sv(d,o),o}function uv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function cv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function fv(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);return d!=null&&c(n,["error"],d),n}function dv(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);return d!=null&&c(n,["error"],d),n}function mv(l,n){const o={},s=r(n,["contents"]);if(s!=null){let d=uu(l,s);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],pv(u,o)),gy(o,{"requests[].*":"requests[].request.*"})),o}function pv(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function hv(l,n){const o={},s=r(n,["fileName"]);s!=null&&c(o,["file_name"],s);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],mv(l,u)),o}function gv(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function yv(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],rh(ot(u)));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(s,["topP"],p);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=r(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const A=r(n,["presencePenalty"]);A!=null&&c(s,["presencePenalty"],A);const q=r(n,["frequencyPenalty"]);q!=null&&c(s,["frequencyPenalty"],q);const U=r(n,["seed"]);U!=null&&c(s,["seed"],U);const O=r(n,["responseMimeType"]);O!=null&&c(s,["responseMimeType"],O);const F=r(n,["responseSchema"]);F!=null&&c(s,["responseSchema"],cu(F));const Q=r(n,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(n,["safetySettings"]);if(o!==void 0&&Y!=null){let ce=Y;Array.isArray(ce)&&(ce=ce.map(be=>kv(be))),c(o,["safetySettings"],ce)}const Z=r(n,["tools"]);if(o!==void 0&&Z!=null){let ce=jl(Z);Array.isArray(ce)&&(ce=ce.map(be=>Iv(Zl(be)))),c(o,["tools"],ce)}const te=r(n,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],te),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=r(n,["cachedContent"]);o!==void 0&&J!=null&&c(o,["cachedContent"],cn(l,J));const P=r(n,["responseModalities"]);P!=null&&c(s,["responseModalities"],P);const le=r(n,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const ne=r(n,["speechConfig"]);if(ne!=null&&c(s,["speechConfig"],fu(ne)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(n,["thinkingConfig"]);de!=null&&c(s,["thinkingConfig"],de);const ue=r(n,["imageConfig"]);return ue!=null&&c(s,["imageConfig"],ue),s}function vv(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>nv(h))),c(n,["candidates"],v)}const u=r(l,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(l,["responseId"]);p!=null&&c(n,["responseId"],p);const y=r(l,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function xv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function Tv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],$l(l,s)),o}function Sv(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Cv(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Ev(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["request","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let y=Ut(u);Array.isArray(y)&&(y=y.map(v=>rh(v))),c(o,["request","contents"],y)}const d=r(n,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(n,["config"]);return p!=null&&c(o,["request","generationConfig"],yv(l,p,r(o,["request"],{}))),o}function _v(l){const n={},o=r(l,["response"]);o!=null&&c(n,["response"],vv(o));const s=r(l,["error"]);return s!=null&&c(n,["error"],s),n}function Av(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Nv(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(l,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function Mv(l){const n={},o=r(l,["config"]);return o!=null&&Av(o,n),n}function bv(l){const n={},o=r(l,["config"]);return o!=null&&Nv(o,n),n}function wv(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>pa(p))),c(n,["batchJobs"],d)}return n}function Rv(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>tu(p))),c(n,["batchJobs"],d)}return n}function Dv(l){const n={},o=r(l,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&c(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&c(n,["inlineData"],Wy(u));const d=r(l,["fileData"]);d!=null&&c(n,["fileData"],gv(d));const p=r(l,["thoughtSignature"]);p!=null&&c(n,["thoughtSignature"],p);const y=r(l,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(l,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const h=r(l,["executableCode"]);h!=null&&c(n,["executableCode"],h);const x=r(l,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(l,["text"]);return S!=null&&c(n,["text"],S),n}function kv(l){const n={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&c(n,["category"],o);const s=r(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function Iv(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&c(n,["googleSearch"],Cv(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],Sv(d));const p=r(l,["urlContext"]);p!=null&&c(n,["urlContext"],p);const y=r(l,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(l,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var il;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(il||(il={}));class Ki{constructor(n,o,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,u)}init(n,o,s){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uv extends ol{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Ki(il.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=kp(this.apiClient,n),s=o._url,u=ae("{model}:batchGenerateContent",s),y=o.batch.inputConfig.requests,v=y.requests,h=[];for(const x of v){const S=Object.assign({},x);if(S.systemInstruction){const C=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=C,S.request=A}h.push(S)}return y.requests=h,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const d=this.getGcsUri(n),p=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${u}`;else if(p)s.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=av(this.apiClient,n);return y=ae("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>tu(x))}else{const h=kp(this.apiClient,n);return y=ae("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>pa(x))}}async createEmbeddingsInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=rv(this.apiClient,n);return d=ae("{model}:asyncBatchEmbedContent",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>pa(v))}}async get(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Tv(this.apiClient,n);return y=ae("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>tu(x))}else{const h=xv(this.apiClient,n);return y=ae("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>pa(x))}}async cancel(n){var o,s,u,d;let p="",y={};if(this.apiClient.isVertexAI()){const v=tv(this.apiClient,n);p=ae("batchPredictionJobs/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=ev(this.apiClient,n);p=ae("batches/{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=bv(n);return y=ae("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=Rv(x),C=new bp;return Object.assign(C,S),C})}else{const h=Mv(n);return y=ae("batches",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=wv(x),C=new bp;return Object.assign(C,S),C})}}async delete(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=cv(this.apiClient,n);return y=ae("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>dv(x))}else{const h=uv(this.apiClient,n);return y=ae("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>fv(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&c(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ip(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>nx(d))),c(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&c(n,["role"],s),n}function qv(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(l,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(l,["contents"]);if(n!==void 0&&p!=null){let x=Ut(p);Array.isArray(x)&&(x=x.map(S=>Ip(S))),c(n,["contents"],x)}const y=r(l,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],Ip(ot(y)));const v=r(l,["tools"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(S=>lx(S))),c(n,["tools"],x)}const h=r(l,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),r(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Hv(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(l,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(l,["contents"]);if(n!==void 0&&p!=null){let S=Ut(p);Array.isArray(S)&&(S=S.map(C=>C)),c(n,["contents"],S)}const y=r(l,["systemInstruction"]);n!==void 0&&y!=null&&c(n,["systemInstruction"],ot(y));const v=r(l,["tools"]);if(n!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>ix(C))),c(n,["tools"],S)}const h=r(l,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const x=r(l,["kmsKeyName"]);return n!==void 0&&x!=null&&c(n,["encryption_spec","kmsKeyName"],x),o}function zv(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],Zp(l,s));const u=r(n,["config"]);return u!=null&&qv(u,o),o}function Vv(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],Zp(l,s));const u=r(n,["config"]);return u!=null&&Hv(u,o),o}function Gv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],cn(l,s)),o}function Bv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],cn(l,s)),o}function Pv(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Ov(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Jv(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Yv(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&c(n,["description"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(l,["response"]);p!=null&&c(n,["response"],p);const y=r(l,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function Fv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],cn(l,s)),o}function Xv(l,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],cn(l,s)),o}function Qv(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Kv(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Zv(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function jv(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function $v(l){const n={},o=r(l,["config"]);return o!=null&&Zv(o,n),n}function Wv(l){const n={},o=r(l,["config"]);return o!=null&&jv(o,n),n}function ex(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function tx(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function nx(l){const n={},o=r(l,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&c(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&c(n,["inlineData"],Lv(u));const d=r(l,["fileData"]);d!=null&&c(n,["fileData"],Jv(d));const p=r(l,["thoughtSignature"]);p!=null&&c(n,["thoughtSignature"],p);const y=r(l,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(l,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const h=r(l,["executableCode"]);h!=null&&c(n,["executableCode"],h);const x=r(l,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(l,["text"]);return S!=null&&c(n,["text"],S),n}function lx(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&c(n,["googleSearch"],Kv(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],Qv(d));const p=r(l,["urlContext"]);p!=null&&c(n,["urlContext"],p);const y=r(l,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(l,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function ix(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>Yv(C))),c(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&c(n,["googleSearchRetrieval"],d);const p=r(l,["enterpriseWebSearch"]);p!=null&&c(n,["enterpriseWebSearch"],p);const y=r(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(l,["urlContext"]);v!=null&&c(n,["urlContext"],v);const h=r(l,["computerUse"]);h!=null&&c(n,["computerUse"],h);const x=r(l,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function ox(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(l,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function ax(l,n){const o={},s=r(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(l,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function sx(l,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],cn(l,s));const u=r(n,["config"]);return u!=null&&ox(u,o),o}function rx(l,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],cn(l,s));const u=r(n,["config"]);return u!=null&&ax(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ux extends ol{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Ki(il.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Vv(this.apiClient,n);return y=ae("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=zv(this.apiClient,n);return y=ae("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Xv(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=Fv(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Bv(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=Ov(x),C=new Np;return Object.assign(C,S),C})}else{const h=Gv(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=Pv(x),C=new Np;return Object.assign(C,S),C})}}async update(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=rx(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=sx(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Wv(n);return y=ae("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=tx(x),C=new Mp;return Object.assign(C,S),C})}else{const h=$v(n);return y=ae("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=ex(x),C=new Mp;return Object.assign(C,S),C})}}}function Up(l){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&l[n],s=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(l){return this instanceof Ve?(this.v=l,this):new Ve(l)}function Ql(l,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(l,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(A){return function(q){return Promise.resolve(q).then(A,S)}}function y(A,q){s[A]&&(u[A]=function(U){return new Promise(function(O,F){d.push([A,U,O,F])>1||v(A,U)})},q&&(u[A]=q(u[A])))}function v(A,q){try{h(s[A](q))}catch(U){C(d[0][3],U)}}function h(A){A.value instanceof Ve?Promise.resolve(A.value.v).then(x,S):C(d[0][2],A)}function x(A){v("next",A)}function S(A){v("throw",A)}function C(A,q){A(q),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Qi(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],o;return n?n.call(l):(l=typeof Up=="function"?Up(l):l[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=l[d]&&function(p){return new Promise(function(y,v){p=l[d](p),u(y,v,p.done,p.value)})}}function u(d,p,y,v){Promise.resolve(v).then(function(h){d({value:h,done:y})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(l){var n;if(l.candidates==null||l.candidates.length===0)return!1;const o=(n=l.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:uh(o)}function uh(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const n of l.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function fx(l){if(l.length!==0){for(const n of l)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Lp(l){if(l===void 0||l.length===0)return[];const n=[],o=l.length;let s=0;for(;s<o;)if(l[s].role==="user")n.push(l[s]),s++;else{const u=[];let d=!0;for(;s<o&&l[s].role==="model";)u.push(l[s]),d&&!uh(l[s])&&(d=!1),s++;d?n.push(...u):n.pop()}return n}class dx{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new mx(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class mx{constructor(n,o,s,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),fx(d)}async sendMessage(n){var o;await this.sendPromise;const s=ot(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,y;const v=await u,h=(p=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,x=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];x!=null&&(C=(y=x.slice(S))!==null&&y!==void 0?y:[]);const A=h?[h]:[];this.recordHistory(s,A,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const s=ot(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?Lp(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,u;return Ql(this,arguments,function*(){var p,y,v,h;const x=[];try{for(var S=!0,C=Qi(n),A;A=yield Ve(C.next()),p=A.done,!p;S=!0){h=A.value,S=!1;const q=h;if(cx(q)){const U=(u=(s=q.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;U!==void 0&&x.push(U)}yield yield Ve(q)}}catch(q){y={error:q}}finally{try{!S&&!p&&(v=C.return)&&(yield Ve(v.call(C)))}finally{if(y)throw y.error}}this.recordHistory(o,x)})}recordHistory(n,o,s){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Lp(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Sa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function px(l){const n={},o=r(l,["file"]);return o!=null&&c(n,["file"],o),n}function hx(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function gx(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","file"],nh(o)),n}function yx(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function vx(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","file"],nh(o)),n}function xx(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function Tx(l){const n={},o=r(l,["config"]);return o!=null&&xx(o,n),n}function Sx(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cx extends ol{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Ki(il.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Tx(n);return d=ae("files",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const h=Sx(v),x=new Iy;return Object.assign(x,h),x})}}async createInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=px(n);return d=ae("upload/v1beta/files",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const h=hx(v),x=new Uy;return Object.assign(x,h),x})}}async get(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=vx(n);return d=ae("files/{file}",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=gx(n);return d=ae("files/{file}",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const h=yx(v),x=new Ly;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ha(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&c(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ex(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>zx(d))),c(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&c(n,["role"],s),n}function _x(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ax(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&c(n,["description"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(l,["response"]);p!=null&&c(n,["response"],p);const y=r(l,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function Nx(l){const n={},o=r(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(l,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const u=r(l,["candidateCount"]);u!=null&&c(n,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&c(n,["enableAffectiveDialog"],d);const p=r(l,["frequencyPenalty"]);p!=null&&c(n,["frequencyPenalty"],p);const y=r(l,["logprobs"]);y!=null&&c(n,["logprobs"],y);const v=r(l,["maxOutputTokens"]);v!=null&&c(n,["maxOutputTokens"],v);const h=r(l,["mediaResolution"]);h!=null&&c(n,["mediaResolution"],h);const x=r(l,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const S=r(l,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const C=r(l,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const A=r(l,["responseMimeType"]);A!=null&&c(n,["responseMimeType"],A);const q=r(l,["responseModalities"]);q!=null&&c(n,["responseModalities"],q);const U=r(l,["responseSchema"]);U!=null&&c(n,["responseSchema"],U);const O=r(l,["routingConfig"]);O!=null&&c(n,["routingConfig"],O);const F=r(l,["seed"]);F!=null&&c(n,["seed"],F);const Q=r(l,["speechConfig"]);Q!=null&&c(n,["speechConfig"],ch(Q));const Y=r(l,["stopSequences"]);Y!=null&&c(n,["stopSequences"],Y);const Z=r(l,["temperature"]);Z!=null&&c(n,["temperature"],Z);const te=r(l,["thinkingConfig"]);te!=null&&c(n,["thinkingConfig"],te);const J=r(l,["topK"]);J!=null&&c(n,["topK"],J);const P=r(l,["topP"]);return P!=null&&c(n,["topP"],P),n}function Mx(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function bx(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function wx(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const y=r(l,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(l,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const x=r(l,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],du(S));const C=r(l,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const A=r(l,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const q=r(l,["systemInstruction"]);n!==void 0&&q!=null&&c(n,["setup","systemInstruction"],Ex(ot(q)));const U=r(l,["tools"]);if(n!==void 0&&U!=null){let J=jl(U);Array.isArray(J)&&(J=J.map(P=>Gx(Zl(P)))),c(n,["setup","tools"],J)}const O=r(l,["sessionResumption"]);n!==void 0&&O!=null&&c(n,["setup","sessionResumption"],Vx(O));const F=r(l,["inputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","inputAudioTranscription"],F);const Q=r(l,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const Y=r(l,["realtimeInputConfig"]);n!==void 0&&Y!=null&&c(n,["setup","realtimeInputConfig"],Y);const Z=r(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const te=r(l,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function Rx(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],Nx(s));const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const y=r(l,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(l,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const x=r(l,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],ch(du(S)));const C=r(l,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const A=r(l,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const q=r(l,["systemInstruction"]);n!==void 0&&q!=null&&c(n,["setup","systemInstruction"],ot(q));const U=r(l,["tools"]);if(n!==void 0&&U!=null){let J=jl(U);Array.isArray(J)&&(J=J.map(P=>Bx(Zl(P)))),c(n,["setup","tools"],J)}const O=r(l,["sessionResumption"]);n!==void 0&&O!=null&&c(n,["setup","sessionResumption"],O);const F=r(l,["inputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","inputAudioTranscription"],F);const Q=r(l,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const Y=r(l,["realtimeInputConfig"]);n!==void 0&&Y!=null&&c(n,["setup","realtimeInputConfig"],Y);const Z=r(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const te=r(l,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function Dx(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ne(l,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],wx(u,o)),o}function kx(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ne(l,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],Rx(u,o)),o}function Ix(l){const n={},o=r(l,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function Ux(l){const n={},o=r(l,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["weightedPrompts"],s)}return n}function Lx(l){const n={},o=r(l,["media"]);if(o!=null){let h=jp(o);Array.isArray(h)&&(h=h.map(x=>ha(x))),c(n,["mediaChunks"],h)}const s=r(l,["audio"]);s!=null&&c(n,["audio"],ha(Wp(s)));const u=r(l,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&c(n,["video"],ha($p(d)));const p=r(l,["text"]);p!=null&&c(n,["text"],p);const y=r(l,["activityStart"]);y!=null&&c(n,["activityStart"],y);const v=r(l,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function qx(l){const n={},o=r(l,["media"]);if(o!=null){let h=jp(o);Array.isArray(h)&&(h=h.map(x=>x)),c(n,["mediaChunks"],h)}const s=r(l,["audio"]);s!=null&&c(n,["audio"],Wp(s));const u=r(l,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&c(n,["video"],$p(d));const p=r(l,["text"]);p!=null&&c(n,["text"],p);const y=r(l,["activityStart"]);y!=null&&c(n,["activityStart"],y);const v=r(l,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function Hx(l){const n={},o=r(l,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=r(l,["serverContent"]);s!=null&&c(n,["serverContent"],s);const u=r(l,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(l,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const p=r(l,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],Px(p));const y=r(l,["goAway"]);y!=null&&c(n,["goAway"],y);const v=r(l,["sessionResumptionUpdate"]);return v!=null&&c(n,["sessionResumptionUpdate"],v),n}function zx(l){const n={},o=r(l,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&c(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&c(n,["inlineData"],ha(u));const d=r(l,["fileData"]);d!=null&&c(n,["fileData"],_x(d));const p=r(l,["thoughtSignature"]);p!=null&&c(n,["thoughtSignature"],p);const y=r(l,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(l,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const h=r(l,["executableCode"]);h!=null&&c(n,["executableCode"],h);const x=r(l,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(l,["text"]);return S!=null&&c(n,["text"],S),n}function Vx(l){const n={},o=r(l,["handle"]);if(o!=null&&c(n,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function ch(l){const n={},o=r(l,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(l,["languageCode"]);return s!=null&&c(n,["languageCode"],s),n}function Gx(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&c(n,["googleSearch"],bx(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],Mx(d));const p=r(l,["urlContext"]);p!=null&&c(n,["urlContext"],p);const y=r(l,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(l,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function Bx(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>Ax(C))),c(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&c(n,["googleSearchRetrieval"],d);const p=r(l,["enterpriseWebSearch"]);p!=null&&c(n,["enterpriseWebSearch"],p);const y=r(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(l,["urlContext"]);v!=null&&c(n,["urlContext"],v);const h=r(l,["computerUse"]);h!=null&&c(n,["computerUse"],h);const x=r(l,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function Px(l){const n={},o=r(l,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=r(l,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const u=r(l,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(l,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const p=r(l,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const y=r(l,["totalTokenCount"]);y!=null&&c(n,["totalTokenCount"],y);const v=r(l,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(q=>q)),c(n,["promptTokensDetails"],A)}const h=r(l,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(q=>q)),c(n,["cacheTokensDetails"],A)}const x=r(l,["candidatesTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(q=>q)),c(n,["responseTokensDetails"],A)}const S=r(l,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(q=>q)),c(n,["toolUsePromptTokensDetails"],A)}const C=r(l,["trafficType"]);return C!=null&&c(n,["trafficType"],C),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ox(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&c(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Jx(l){const n={},o=r(l,["content"]);o!=null&&c(n,["content"],o);const s=r(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],Yx(s));const u=r(l,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(l,["urlContextMetadata"]);p!=null&&c(n,["urlContextMetadata"],p);const y=r(l,["avgLogprobs"]);y!=null&&c(n,["avgLogprobs"],y);const v=r(l,["groundingMetadata"]);v!=null&&c(n,["groundingMetadata"],v);const h=r(l,["index"]);h!=null&&c(n,["index"],h);const x=r(l,["logprobsResult"]);x!=null&&c(n,["logprobsResult"],x);const S=r(l,["safetyRatings"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>A)),c(n,["safetyRatings"],C)}return n}function Yx(l){const n={},o=r(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function Fx(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let d=Ut(u);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function Xx(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function Qx(l){const n={},o=r(l,["values"]);o!=null&&c(n,["values"],o);const s=r(l,["statistics"]);return s!=null&&c(n,["statistics"],Kx(s)),n}function Kx(l){const n={},o=r(l,["truncated"]);o!=null&&c(n,["truncated"],o);const s=r(l,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function Ca(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>eS(d))),c(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&c(n,["role"],s),n}function Zx(l){const n={},o=r(l,["controlType"]);o!=null&&c(n,["controlType"],o);const s=r(l,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function jx(l){const n={};if(r(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function $x(l,n){const o={},s=r(l,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],ot(s));const u=r(l,["tools"]);if(n!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>hh(y))),c(n,["tools"],p)}const d=r(l,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],BT(d)),o}function Wx(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let p=Ut(u);Array.isArray(p)&&(p=p.map(y=>Ca(y))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&jx(d),o}function eT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let p=Ut(u);Array.isArray(p)&&(p=p.map(y=>y)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&$x(d,o),o}function tT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const u=r(l,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function nT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function lT(l,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ne(l,s)),o}function iT(l,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ne(l,s)),o}function oT(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function aT(l){const n={},o=r(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function sT(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(l,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(l,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const y=r(l,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const v=r(l,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const h=r(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const x=r(l,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const C=r(l,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const A=r(l,["language"]);n!==void 0&&A!=null&&c(n,["parameters","language"],A);const q=r(l,["outputMimeType"]);n!==void 0&&q!=null&&c(n,["parameters","outputOptions","mimeType"],q);const U=r(l,["outputCompressionQuality"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","compressionQuality"],U);const O=r(l,["addWatermark"]);n!==void 0&&O!=null&&c(n,["parameters","addWatermark"],O);const F=r(l,["labels"]);n!==void 0&&F!=null&&c(n,["labels"],F);const Q=r(l,["editMode"]);n!==void 0&&Q!=null&&c(n,["parameters","editMode"],Q);const Y=r(l,["baseSteps"]);return n!==void 0&&Y!=null&&c(n,["parameters","editConfig","baseSteps"],Y),o}function rT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>aS(v))),c(o,["instances[0]","referenceImages"],y)}const p=r(n,["config"]);return p!=null&&sT(p,o),o}function uT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Ea(d))),c(n,["generatedImages"],u)}return n}function cT(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function fT(l,n){const o={},s=r(l,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const u=r(l,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(l,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const p=r(l,["mimeType"]);n!==void 0&&p!=null&&c(n,["instances[]","mimeType"],p);const y=r(l,["autoTruncate"]);return n!==void 0&&y!=null&&c(n,["parameters","autoTruncate"],y),o}function dT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let y=uu(l,u);Array.isArray(y)&&(y=y.map(v=>v)),c(o,["requests[]","content"],y)}const d=r(n,["config"]);d!=null&&cT(d,o);const p=r(n,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ne(l,p)),o}function mT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let p=uu(l,u);Array.isArray(p)&&(p=p.map(y=>y)),c(o,["instances[]","content"],p)}const d=r(n,["config"]);return d!=null&&fT(d,o),o}function pT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function hT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Qx(p))),c(n,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function gT(l){const n={},o=r(l,["endpoint"]);o!=null&&c(n,["name"],o);const s=r(l,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function yT(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function vT(l){const n={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&c(n,["description"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(l,["response"]);p!=null&&c(n,["response"],p);const y=r(l,["responseJsonSchema"]);return y!=null&&c(n,["responseJsonSchema"],y),n}function xT(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Ca(ot(u)));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(s,["topP"],p);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=r(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const A=r(n,["presencePenalty"]);A!=null&&c(s,["presencePenalty"],A);const q=r(n,["frequencyPenalty"]);q!=null&&c(s,["frequencyPenalty"],q);const U=r(n,["seed"]);U!=null&&c(s,["seed"],U);const O=r(n,["responseMimeType"]);O!=null&&c(s,["responseMimeType"],O);const F=r(n,["responseSchema"]);F!=null&&c(s,["responseSchema"],cu(F));const Q=r(n,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(n,["safetySettings"]);if(o!==void 0&&Y!=null){let ce=Y;Array.isArray(ce)&&(ce=ce.map(be=>sS(be))),c(o,["safetySettings"],ce)}const Z=r(n,["tools"]);if(o!==void 0&&Z!=null){let ce=jl(Z);Array.isArray(ce)&&(ce=ce.map(be=>mS(Zl(be)))),c(o,["tools"],ce)}const te=r(n,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],te),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=r(n,["cachedContent"]);o!==void 0&&J!=null&&c(o,["cachedContent"],cn(l,J));const P=r(n,["responseModalities"]);P!=null&&c(s,["responseModalities"],P);const le=r(n,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const ne=r(n,["speechConfig"]);if(ne!=null&&c(s,["speechConfig"],fu(ne)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(n,["thinkingConfig"]);de!=null&&c(s,["thinkingConfig"],de);const ue=r(n,["imageConfig"]);return ue!=null&&c(s,["imageConfig"],ue),s}function TT(l,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],ot(u));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(s,["topP"],p);const y=r(n,["topK"]);y!=null&&c(s,["topK"],y);const v=r(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=r(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=r(n,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const A=r(n,["presencePenalty"]);A!=null&&c(s,["presencePenalty"],A);const q=r(n,["frequencyPenalty"]);q!=null&&c(s,["frequencyPenalty"],q);const U=r(n,["seed"]);U!=null&&c(s,["seed"],U);const O=r(n,["responseMimeType"]);O!=null&&c(s,["responseMimeType"],O);const F=r(n,["responseSchema"]);F!=null&&c(s,["responseSchema"],cu(F));const Q=r(n,["responseJsonSchema"]);Q!=null&&c(s,["responseJsonSchema"],Q);const Y=r(n,["routingConfig"]);Y!=null&&c(s,["routingConfig"],Y);const Z=r(n,["modelSelectionConfig"]);Z!=null&&c(s,["modelConfig"],Z);const te=r(n,["safetySettings"]);if(o!==void 0&&te!=null){let b=te;Array.isArray(b)&&(b=b.map(k=>k)),c(o,["safetySettings"],b)}const J=r(n,["tools"]);if(o!==void 0&&J!=null){let b=jl(J);Array.isArray(b)&&(b=b.map(k=>hh(Zl(k)))),c(o,["tools"],b)}const P=r(n,["toolConfig"]);o!==void 0&&P!=null&&c(o,["toolConfig"],P);const le=r(n,["labels"]);o!==void 0&&le!=null&&c(o,["labels"],le);const ne=r(n,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],cn(l,ne));const de=r(n,["responseModalities"]);de!=null&&c(s,["responseModalities"],de);const ue=r(n,["mediaResolution"]);ue!=null&&c(s,["mediaResolution"],ue);const ce=r(n,["speechConfig"]);ce!=null&&c(s,["speechConfig"],ph(fu(ce)));const be=r(n,["audioTimestamp"]);be!=null&&c(s,["audioTimestamp"],be);const j=r(n,["thinkingConfig"]);j!=null&&c(s,["thinkingConfig"],j);const ee=r(n,["imageConfig"]);return ee!=null&&c(s,["imageConfig"],ee),s}function qp(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let p=Ut(u);Array.isArray(p)&&(p=p.map(y=>Ca(y))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],xT(l,d,o)),o}function Hp(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["contents"]);if(u!=null){let p=Ut(u);Array.isArray(p)&&(p=p.map(y=>y)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],TT(l,d,o)),o}function zp(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>Jx(h))),c(n,["candidates"],v)}const u=r(l,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(l,["responseId"]);p!=null&&c(n,["responseId"],p);const y=r(l,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function Vp(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["candidates"],h)}const u=r(l,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(l,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const p=r(l,["promptFeedback"]);p!=null&&c(n,["promptFeedback"],p);const y=r(l,["responseId"]);y!=null&&c(n,["responseId"],y);const v=r(l,["usageMetadata"]);return v!=null&&c(n,["usageMetadata"],v),n}function ST(l,n){const o={};if(r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=r(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(l,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(l,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(l,["safetyFilterLevel"]);n!==void 0&&p!=null&&c(n,["parameters","safetySetting"],p);const y=r(l,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const v=r(l,["includeSafetyAttributes"]);n!==void 0&&v!=null&&c(n,["parameters","includeSafetyAttributes"],v);const h=r(l,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const x=r(l,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const S=r(l,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const C=r(l,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&c(n,["parameters","outputOptions","compressionQuality"],C),r(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=r(l,["imageSize"]);if(n!==void 0&&A!=null&&c(n,["parameters","sampleImageSize"],A),r(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function CT(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(l,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(l,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const y=r(l,["guidanceScale"]);n!==void 0&&y!=null&&c(n,["parameters","guidanceScale"],y);const v=r(l,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const h=r(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const x=r(l,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const C=r(l,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const A=r(l,["language"]);n!==void 0&&A!=null&&c(n,["parameters","language"],A);const q=r(l,["outputMimeType"]);n!==void 0&&q!=null&&c(n,["parameters","outputOptions","mimeType"],q);const U=r(l,["outputCompressionQuality"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","compressionQuality"],U);const O=r(l,["addWatermark"]);n!==void 0&&O!=null&&c(n,["parameters","addWatermark"],O);const F=r(l,["labels"]);n!==void 0&&F!=null&&c(n,["labels"],F);const Q=r(l,["imageSize"]);n!==void 0&&Q!=null&&c(n,["parameters","sampleImageSize"],Q);const Y=r(l,["enhancePrompt"]);return n!==void 0&&Y!=null&&c(n,["parameters","enhancePrompt"],Y),o}function ET(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&ST(d,o),o}function _T(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&CT(d,o),o}function AT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>HT(p))),c(n,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],dh(u)),n}function NT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Ea(p))),c(n,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],mh(u)),n}function MT(l,n){const o={},s=r(l,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(l,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(l,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const p=r(l,["resolution"]);n!==void 0&&p!=null&&c(n,["parameters","resolution"],p);const y=r(l,["personGeneration"]);if(n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y),r(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=r(l,["negativePrompt"]);n!==void 0&&v!=null&&c(n,["parameters","negativePrompt"],v);const h=r(l,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),r(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=r(l,["lastFrame"]);n!==void 0&&x!=null&&c(n,["instances[0]","lastFrame"],_a(x));const S=r(l,["referenceImages"]);if(n!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(A=>NS(A))),c(n,["instances[0]","referenceImages"],C)}if(r(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function bT(l,n){const o={},s=r(l,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(l,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(l,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const p=r(l,["durationSeconds"]);n!==void 0&&p!=null&&c(n,["parameters","durationSeconds"],p);const y=r(l,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const v=r(l,["aspectRatio"]);n!==void 0&&v!=null&&c(n,["parameters","aspectRatio"],v);const h=r(l,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const x=r(l,["personGeneration"]);n!==void 0&&x!=null&&c(n,["parameters","personGeneration"],x);const S=r(l,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const C=r(l,["negativePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","negativePrompt"],C);const A=r(l,["enhancePrompt"]);n!==void 0&&A!=null&&c(n,["parameters","enhancePrompt"],A);const q=r(l,["generateAudio"]);n!==void 0&&q!=null&&c(n,["parameters","generateAudio"],q);const U=r(l,["lastFrame"]);n!==void 0&&U!=null&&c(n,["instances[0]","lastFrame"],zt(U));const O=r(l,["referenceImages"]);if(n!==void 0&&O!=null){let Y=O;Array.isArray(Y)&&(Y=Y.map(Z=>MS(Z))),c(n,["instances[0]","referenceImages"],Y)}const F=r(l,["mask"]);n!==void 0&&F!=null&&c(n,["instances[0]","mask"],AS(F));const Q=r(l,["compressionQuality"]);return n!==void 0&&Q!=null&&c(n,["parameters","compressionQuality"],Q),o}function wT(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);d!=null&&c(n,["error"],d);const p=r(l,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],IT(p)),n}function RT(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(l,["done"]);u!=null&&c(n,["done"],u);const d=r(l,["error"]);d!=null&&c(n,["error"],d);const p=r(l,["response"]);return p!=null&&c(n,["response"],UT(p)),n}function DT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],_a(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],gh(p));const y=r(n,["source"]);y!=null&&LT(y,o);const v=r(n,["config"]);return v!=null&&MT(v,o),o}function kT(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],zt(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],yh(p));const y=r(n,["source"]);y!=null&&qT(y,o);const v=r(n,["config"]);return v!=null&&bT(v,o),o}function IT(l){const n={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>VT(p))),c(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function UT(l){const n={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>GT(p))),c(n,["generatedVideos"],d)}const s=r(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function LT(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],_a(u));const d=r(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],gh(d)),o}function qT(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],zt(u));const d=r(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],yh(d)),o}function HT(l){const n={},o=r(l,["_self"]);o!=null&&c(n,["image"],FT(o));const s=r(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(l,["_self"]);return u!=null&&c(n,["safetyAttributes"],dh(u)),n}function Ea(l){const n={},o=r(l,["_self"]);o!=null&&c(n,["image"],fh(o));const s=r(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(l,["_self"]);u!=null&&c(n,["safetyAttributes"],mh(u));const d=r(l,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function zT(l){const n={},o=r(l,["_self"]);o!=null&&c(n,["mask"],fh(o));const s=r(l,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function VT(l){const n={},o=r(l,["video"]);return o!=null&&c(n,["video"],ES(o)),n}function GT(l){const n={},o=r(l,["_self"]);return o!=null&&c(n,["video"],_S(o)),n}function BT(l){const n={},o=r(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(l,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const u=r(l,["candidateCount"]);u!=null&&c(n,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&c(n,["enableAffectiveDialog"],d);const p=r(l,["frequencyPenalty"]);p!=null&&c(n,["frequencyPenalty"],p);const y=r(l,["logprobs"]);y!=null&&c(n,["logprobs"],y);const v=r(l,["maxOutputTokens"]);v!=null&&c(n,["maxOutputTokens"],v);const h=r(l,["mediaResolution"]);h!=null&&c(n,["mediaResolution"],h);const x=r(l,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const S=r(l,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const C=r(l,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const A=r(l,["responseMimeType"]);A!=null&&c(n,["responseMimeType"],A);const q=r(l,["responseModalities"]);q!=null&&c(n,["responseModalities"],q);const U=r(l,["responseSchema"]);U!=null&&c(n,["responseSchema"],U);const O=r(l,["routingConfig"]);O!=null&&c(n,["routingConfig"],O);const F=r(l,["seed"]);F!=null&&c(n,["seed"],F);const Q=r(l,["speechConfig"]);Q!=null&&c(n,["speechConfig"],ph(Q));const Y=r(l,["stopSequences"]);Y!=null&&c(n,["stopSequences"],Y);const Z=r(l,["temperature"]);Z!=null&&c(n,["temperature"],Z);const te=r(l,["thinkingConfig"]);te!=null&&c(n,["thinkingConfig"],te);const J=r(l,["topK"]);J!=null&&c(n,["topK"],J);const P=r(l,["topP"]);return P!=null&&c(n,["topP"],P),n}function PT(l,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ne(l,s)),o}function OT(l,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ne(l,s)),o}function JT(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function YT(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function FT(l){const n={},o=r(l,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Hn(o));const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function fh(l){const n={},o=r(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],Hn(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function _a(l){const n={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(l,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Hn(o));const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function zt(l){const n={},o=r(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(l,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Hn(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function XT(l,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const y=r(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],lh(l,y)),s}function QT(l,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const y=r(n,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],lh(l,y)),s}function KT(l,n){const o={},s=r(n,["config"]);return s!=null&&XT(l,s,o),o}function ZT(l,n){const o={},s=r(n,["config"]);return s!=null&&QT(l,s,o),o}function jT(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["_self"]);if(u!=null){let d=ih(u);Array.isArray(d)&&(d=d.map(p=>nu(p))),c(n,["models"],d)}return n}function $T(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["_self"]);if(u!=null){let d=ih(u);Array.isArray(d)&&(d=d.map(p=>lu(p))),c(n,["models"],d)}return n}function WT(l){const n={},o=r(l,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=r(l,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const u=r(l,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function nu(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(l,["description"]);u!=null&&c(n,["description"],u);const d=r(l,["version"]);d!=null&&c(n,["version"],d);const p=r(l,["_self"]);p!=null&&c(n,["tunedModelInfo"],pS(p));const y=r(l,["inputTokenLimit"]);y!=null&&c(n,["inputTokenLimit"],y);const v=r(l,["outputTokenLimit"]);v!=null&&c(n,["outputTokenLimit"],v);const h=r(l,["supportedGenerationMethods"]);return h!=null&&c(n,["supportedActions"],h),n}function lu(l){const n={},o=r(l,["name"]);o!=null&&c(n,["name"],o);const s=r(l,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(l,["description"]);u!=null&&c(n,["description"],u);const d=r(l,["versionId"]);d!=null&&c(n,["version"],d);const p=r(l,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>gT(C))),c(n,["endpoints"],S)}const y=r(l,["labels"]);y!=null&&c(n,["labels"],y);const v=r(l,["_self"]);v!=null&&c(n,["tunedModelInfo"],hS(v));const h=r(l,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const x=r(l,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(C=>C)),c(n,["checkpoints"],S)}return n}function eS(l){const n={},o=r(l,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&c(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&c(n,["inlineData"],Ox(u));const d=r(l,["fileData"]);d!=null&&c(n,["fileData"],yT(d));const p=r(l,["thoughtSignature"]);p!=null&&c(n,["thoughtSignature"],p);const y=r(l,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(l,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const h=r(l,["executableCode"]);h!=null&&c(n,["executableCode"],h);const x=r(l,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(l,["text"]);return S!=null&&c(n,["text"],S),n}function tS(l){const n={},o=r(l,["productImage"]);return o!=null&&c(n,["image"],zt(o)),n}function nS(l,n){const o={},s=r(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(l,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","editConfig","baseSteps"],u);const d=r(l,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const p=r(l,["seed"]);n!==void 0&&p!=null&&c(n,["parameters","seed"],p);const y=r(l,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const v=r(l,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const h=r(l,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const x=r(l,["outputMimeType"]);n!==void 0&&x!=null&&c(n,["parameters","outputOptions","mimeType"],x);const S=r(l,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const C=r(l,["enhancePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","enhancePrompt"],C);const A=r(l,["labels"]);return n!==void 0&&A!=null&&c(n,["labels"],A),o}function lS(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["source"]);u!=null&&oS(u,o);const d=r(n,["config"]);return d!=null&&nS(d,o),o}function iS(l){const n={},o=r(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Ea(u))),c(n,["generatedImages"],s)}return n}function oS(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(l,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],zt(u));const d=r(l,["productImages"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>tS(y))),c(n,["instances[0]","productImages"],p)}return o}function aS(l){const n={},o=r(l,["referenceImage"]);o!=null&&c(n,["referenceImage"],zt(o));const s=r(l,["referenceId"]);s!=null&&c(n,["referenceId"],s);const u=r(l,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(l,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],WT(d));const p=r(l,["controlImageConfig"]);p!=null&&c(n,["controlImageConfig"],Zx(p));const y=r(l,["styleImageConfig"]);y!=null&&c(n,["styleImageConfig"],y);const v=r(l,["subjectImageConfig"]);return v!=null&&c(n,["subjectImageConfig"],v),n}function dh(l){const n={},o=r(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(l,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function mh(l){const n={},o=r(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(l,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function sS(l){const n={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&c(n,["category"],o);const s=r(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function rS(l){const n={},o=r(l,["image"]);return o!=null&&c(n,["image"],zt(o)),n}function uS(l,n){const o={},s=r(l,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const u=r(l,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(l,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const p=r(l,["maskDilation"]);n!==void 0&&p!=null&&c(n,["parameters","maskDilation"],p);const y=r(l,["binaryColorThreshold"]);n!==void 0&&y!=null&&c(n,["parameters","binaryColorThreshold"],y);const v=r(l,["labels"]);return n!==void 0&&v!=null&&c(n,["labels"],v),o}function cS(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["source"]);u!=null&&dS(u,o);const d=r(n,["config"]);return d!=null&&uS(d,o),o}function fS(l){const n={},o=r(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>zT(u))),c(n,["generatedMasks"],s)}return n}function dS(l,n){const o={},s=r(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(l,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],zt(u));const d=r(l,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],rS(d)),o}function ph(l){const n={},o=r(l,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(l,["languageCode"]);return s!=null&&c(n,["languageCode"],s),n}function mS(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&c(n,["googleSearch"],YT(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],JT(d));const p=r(l,["urlContext"]);p!=null&&c(n,["urlContext"],p);const y=r(l,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(l,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}function hh(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>vT(C))),c(n,["functionDeclarations"],S)}const s=r(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(l,["googleSearch"]);u!=null&&c(n,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&c(n,["googleSearchRetrieval"],d);const p=r(l,["enterpriseWebSearch"]);p!=null&&c(n,["enterpriseWebSearch"],p);const y=r(l,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const v=r(l,["urlContext"]);v!=null&&c(n,["urlContext"],v);const h=r(l,["computerUse"]);h!=null&&c(n,["computerUse"],h);const x=r(l,["codeExecution"]);return x!=null&&c(n,["codeExecution"],x),n}function pS(l){const n={},o=r(l,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(l,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(l,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function hS(l){const n={},o=r(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=r(l,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(l,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function gS(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(l,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function yS(l,n){const o={},s=r(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(l,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function vS(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","name"],Ne(l,s));const u=r(n,["config"]);return u!=null&&gS(u,o),o}function xS(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["config"]);return u!=null&&yS(u,o),o}function TS(l,n){const o={},s=r(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(l,["includeRaiReason"]);n!==void 0&&u!=null&&c(n,["parameters","includeRaiReason"],u);const d=r(l,["outputMimeType"]);n!==void 0&&d!=null&&c(n,["parameters","outputOptions","mimeType"],d);const p=r(l,["outputCompressionQuality"]);n!==void 0&&p!=null&&c(n,["parameters","outputOptions","compressionQuality"],p);const y=r(l,["enhanceInputImage"]);n!==void 0&&y!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],y);const v=r(l,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const h=r(l,["labels"]);n!==void 0&&h!=null&&c(n,["labels"],h);const x=r(l,["numberOfImages"]);n!==void 0&&x!=null&&c(n,["parameters","sampleCount"],x);const S=r(l,["mode"]);return n!==void 0&&S!=null&&c(n,["parameters","mode"],S),o}function SS(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ne(l,s));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],zt(u));const d=r(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=r(n,["config"]);return p!=null&&TS(p,o),o}function CS(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Ea(d))),c(n,["generatedImages"],u)}return n}function ES(l){const n={},o=r(l,["uri"]);o!=null&&c(n,["uri"],o);const s=r(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],Hn(s));const u=r(l,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function _S(l){const n={},o=r(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],Hn(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function AS(l){const n={},o=r(l,["image"]);o!=null&&c(n,["_self"],zt(o));const s=r(l,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function NS(l){const n={},o=r(l,["image"]);o!=null&&c(n,["image"],_a(o));const s=r(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function MS(l){const n={},o=r(l,["image"]);o!=null&&c(n,["image"],zt(o));const s=r(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function gh(l){const n={},o=r(l,["uri"]);o!=null&&c(n,["uri"],o);const s=r(l,["videoBytes"]);s!=null&&c(n,["encodedVideo"],Hn(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function yh(l){const n={},o=r(l,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=r(l,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Hn(s));const u=r(l,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS="Content-Type",wS="X-Server-Timeout",RS="User-Agent",iu="x-goog-api-client",DS="1.25.0",kS=`google-genai-sdk/${DS}`,IS="v1beta1",US="v1beta",Gp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class LS{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:IS,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:US,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const u=[this.getRequestUrlInternal(o)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[p,y]of Object.entries(n.queryParams))u.searchParams.append(p,String(y));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?s[u]=Object.assign(Object.assign({},s[u]),d):d!==void 0&&(s[u]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s){if(o&&o.timeout||s){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}s&&s.addEventListener("abort",()=>{u.abort()}),n.signal=d}return o&&o.extraBody!==null&&qS(n,o.extraBody),n.headers=await this.getHeadersInternal(o),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Bp(u),new Wr(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Bp(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return Ql(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:y,value:v}=yield Ve(u.read());if(y){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(v,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),A=C.status,q=C.code,U=`got status: ${A}. ${JSON.stringify(S)}`;if(q>=400&&q<600)throw new Sa({message:U,status:q})}}catch(S){if(S.name==="ApiError")throw S}p+=h;let x=p.match(Gp);for(;x;){const S=x[1];try{const C=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Ve(new Wr(C)),p=p.slice(x[0].length),x=p.match(Gp)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=kS+" "+this.clientOptions.userAgentExtra;return n[RS]=o,n[iu]=o,n[bS]="application/json",n}async getHeadersInternal(n){const o=new Headers;if(n&&n.headers){for(const[s,u]of Object.entries(n.headers))o.append(s,u);n.timeout&&n.timeout>0&&o.append(wS,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(n,o){var s;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,p=await d.stat(n);u.sizeBytes=String(p.size);const y=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=y;const v=await this.fetchUploadUrl(u,o);return d.upload(n,v,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o){var s;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const d={file:n},p=await this.request({path:ae("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:u});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(s=p==null?void 0:p.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Bp(l){var n;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let s;!((n=l.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await l.json():s={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=JSON.stringify(s);throw o>=400&&o<600?new Sa({message:u,status:o}):new Error(u)}}function qS(l,n){if(!n||Object.keys(n).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,p){const y=Object.assign({},d);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const h=p[v],x=y[v];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?y[v]=s(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),y[v]=h)}return y}const u=s(o,n);l.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HS="mcp_used/unknown";let zS=!1;function vh(l){for(const n of l)if(VS(n)||typeof n=="object"&&"inputSchema"in n)return!0;return zS}function xh(l){var n;const o=(n=l[iu])!==null&&n!==void 0?n:"";l[iu]=(o+` ${HS}`).trimStart()}function VS(l){return l!==null&&typeof l=="object"&&l instanceof mu}function GS(l,n=100){return Ql(this,arguments,function*(){let s,u=0;for(;u<n;){const d=yield Ve(l.listTools({cursor:s}));for(const p of d.tools)yield yield Ve(p),u++;if(!d.nextCursor)break;s=d.nextCursor}})}class mu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new mu(n,o)}async initialize(){var n,o,s,u;if(this.mcpTools.length>0)return;const d={},p=[];for(const x of this.mcpClients)try{for(var y=!0,v=(o=void 0,Qi(GS(x))),h;h=await v.next(),n=h.done,!n;y=!0){u=h.value,y=!1;const S=u;p.push(S);const C=S.name;if(d[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);d[C]=x}}catch(S){o={error:S}}finally{try{!y&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Yy(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await u.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BS(l,n,o){const s=new Hy;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(s,u),n(s)}class PS{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=YS(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${y}`;let h=()=>{};const x=new Promise(Y=>{h=Y}),S=n.callbacks,C=function(){h({})},A=this.apiClient,q={onopen:C,onmessage:Y=>{BS(A,S.onmessage,Y)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(Y){}},U=this.webSocketFactory.create(v,JS(p),q);U.connect(),await x;const Q={setup:{model:Ne(this.apiClient,n.model)}};return U.send(JSON.stringify(Q)),new OS(U,this.apiClient)}}class OS{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Ux(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=Ix(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Fl.PLAY)}pause(){this.sendPlaybackControl(Fl.PAUSE)}stop(){this.sendPlaybackControl(Fl.STOP)}resetContext(){this.sendPlaybackControl(Fl.RESET_CONTEXT)}close(){this.conn.close()}}function JS(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function YS(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XS(l,n,o){const s=new qy;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(l.isVertexAI()){const p=Hx(d);Object.assign(s,p)}else Object.assign(s,d);n(s)}class QS{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new PS(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,u,d,p,y;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&vh(n.config.tools)&&xh(S);const C=$S(S);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const ne=this.apiClient.getApiKey();let de="BidiGenerateContent",ue="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",ue="access_token"),x=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${ue}=${ne}`}let A=()=>{};const q=new Promise(ne=>{A=ne}),U=n.callbacks,O=function(){var ne;(ne=U==null?void 0:U.onopen)===null||ne===void 0||ne.call(U),A({})},F=this.apiClient,Q={onopen:O,onmessage:ne=>{XS(F,U.onmessage,ne)},onerror:(o=U==null?void 0:U.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(s=U==null?void 0:U.onclose)!==null&&s!==void 0?s:function(ne){}},Y=this.webSocketFactory.create(x,jS(C),Q);Y.connect(),await q;let Z=Ne(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const ne=this.apiClient.getProject(),de=this.apiClient.getLocation();Z=`projects/${ne}/locations/${de}/`+Z}let te={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[ga.AUDIO]}:n.config.responseModalities=[ga.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(y=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&y!==void 0?y:[],P=[];for(const ne of J)if(this.isCallableTool(ne)){const de=ne;P.push(await de.tool())}else P.push(ne);P.length>0&&(n.config.tools=P);const le={model:Z,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?te=kx(this.apiClient,le):te=Dx(this.apiClient,le),delete te.config,Y.send(JSON.stringify(te)),new ZS(Y,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const KS={turnComplete:!0};class ZS{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ut(o.turns),n.isVertexAI()||(s=s.map(u=>Ca(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(FS)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},KS),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:qx(n)}:o={realtimeInput:Lx(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function jS(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function $S(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pp=10;function Op(l){var n,o,s;if(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const p of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(Kl(p)){u=!0;break}if(!u)return!0;const d=(s=l==null?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Kl(l){return"callTool"in l&&typeof l.callTool=="function"}function WS(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>Kl(u)))!==null&&s!==void 0?s:!1}function eC(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>!Kl(u)))!==null&&s!==void 0?s:!1}function Jp(l){var n;return!(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tC extends ol{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,u,d,p,y;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!WS(o)||Op(o.config))return await this.generateContentInternal(v);if(eC(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,x;const S=Ut(v.contents),C=(d=(u=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Pp;let A=0;for(;A<C&&(h=await this.generateContentInternal(v),!(!h.functionCalls||h.functionCalls.length===0));){const q=h.candidates[0].content,U=[];for(const O of(y=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&y!==void 0?y:[])if(Kl(O)){const Q=await O.callTool(h.functionCalls);U.push(...Q)}A++,x={role:"user",parts:U},v.contents=Ut(v.contents),v.contents.push(q),v.contents.push(x),Jp(v.config)&&(S.push(q),S.push(x))}return Jp(v.config)&&(h.automaticFunctionCallingHistory=S),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Op(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var u;let d;const p=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((u=v==null?void 0:v.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:p.push(v);let y;return d?y={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:y={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},y}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ki(il.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var s,u,d,p,y,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((v=(y=o.source)===null||y===void 0?void 0:y.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const p=await Promise.all(d.map(async v=>Kl(v)?await v.tool():v)),y={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(y.config.tools=p,n.config&&n.config.tools&&vh(n.config.tools)){const v=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),xh(h),y.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return y}async initAfcToolsMap(n){var o,s,u;const d=new Map;for(const p of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Kl(p)){const y=p,v=await y.tool();for(const h of(u=v.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,y)}}return d}async processAfcStream(n){var o,s,u;const d=(u=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Pp;let p=!1,y=0;const v=await this.initAfcToolsMap(n);return(function(h,x,S){var C,A;return Ql(this,arguments,function*(){for(var q,U,O,F;y<d;){p&&(y++,p=!1);const te=yield Ve(h.processParamsMaybeAddMcpUsage(S)),J=yield Ve(h.generateContentStreamInternal(te)),P=[],le=[];try{for(var Q=!0,Y=(U=void 0,Qi(J)),Z;Z=yield Ve(Y.next()),q=Z.done,!q;Q=!0){F=Z.value,Q=!1;const ne=F;if(yield yield Ve(ne),ne.candidates&&(!((C=ne.candidates[0])===null||C===void 0)&&C.content)){le.push(ne.candidates[0].content);for(const de of(A=ne.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(y<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(de.functionCall.name)){const ue=yield Ve(x.get(de.functionCall.name).callTool([de.functionCall]));P.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(ne){U={error:ne}}finally{try{!Q&&!q&&(O=Y.return)&&(yield Ve(O.call(Y)))}finally{if(U)throw U.error}}if(P.length>0){p=!0;const ne=new Xi;ne.candidates=[{content:{role:"user",parts:P}}],yield yield Ve(ne);const de=[];de.push(...le),de.push({role:"user",parts:P});const ue=Ut(S.contents).concat(de);S.contents=ue}else break}})})(this,v,n)}async generateContentInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Hp(this.apiClient,n);return y=ae("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=Vp(x),C=new Xi;return Object.assign(C,S),C})}else{const h=qp(this.apiClient,n);return y=ae("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=zp(x),C=new Xi;return Object.assign(C,S),C})}}async generateContentStreamInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Hp(this.apiClient,n);return y=ae("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(S){return Ql(this,arguments,function*(){var C,A,q,U;try{for(var O=!0,F=Qi(S),Q;Q=yield Ve(F.next()),C=Q.done,!C;O=!0){U=Q.value,O=!1;const Y=U,Z=Vp(yield Ve(Y.json()));Z.sdkHttpResponse={headers:Y.headers};const te=new Xi;Object.assign(te,Z),yield yield Ve(te)}}catch(Y){A={error:Y}}finally{try{!O&&!C&&(q=F.return)&&(yield Ve(q.call(F)))}finally{if(A)throw A.error}}})})}else{const h=qp(this.apiClient,n);return y=ae("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(S){return Ql(this,arguments,function*(){var C,A,q,U;try{for(var O=!0,F=Qi(S),Q;Q=yield Ve(F.next()),C=Q.done,!C;O=!0){U=Q.value,O=!1;const Y=U,Z=zp(yield Ve(Y.json()));Z.sdkHttpResponse={headers:Y.headers};const te=new Xi;Object.assign(te,Z),yield yield Ve(te)}}catch(Y){A={error:Y}}finally{try{!O&&!C&&(q=F.return)&&(yield Ve(q.call(F)))}finally{if(A)throw A.error}}})})}}async embedContent(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=mT(this.apiClient,n);return y=ae("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=hT(x),C=new Tp;return Object.assign(C,S),C})}else{const h=dT(this.apiClient,n);return y=ae("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=pT(x),C=new Tp;return Object.assign(C,S),C})}}async generateImagesInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=_T(this.apiClient,n);return y=ae("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=NT(x),C=new Sp;return Object.assign(C,S),C})}else{const h=ET(this.apiClient,n);return y=ae("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=AT(x),C=new Sp;return Object.assign(C,S),C})}}async editImageInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=rT(this.apiClient,n);return d=ae("{model}:predict",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const h=uT(v),x=new by;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=SS(this.apiClient,n);return d=ae("{model}:predict",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const h=CS(v),x=new wy;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=lS(this.apiClient,n);return d=ae("{model}:predict",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const h=iS(v),x=new Ry;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=cS(this.apiClient,n);return d=ae("{model}:predict",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const h=fS(v),x=new Dy;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>lu(x))}else{const h=PT(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>nu(x))}}async listInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,n);return y=ae("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=$T(x),C=new Cp;return Object.assign(C,S),C})}else{const h=KT(this.apiClient,n);return y=ae("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=jT(x),C=new Cp;return Object.assign(C,S),C})}}async update(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,n);return y=ae("{model}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>lu(x))}else{const h=vS(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>nu(x))}}async delete(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=iT(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=aT(x),C=new Ep;return Object.assign(C,S),C})}else{const h=lT(this.apiClient,n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=oT(x),C=new Ep;return Object.assign(C,S),C})}}async countTokens(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=eT(this.apiClient,n);return y=ae("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=nT(x),C=new _p;return Object.assign(C,S),C})}else{const h=Wx(this.apiClient,n);return y=ae("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=tT(x),C=new _p;return Object.assign(C,S),C})}}async computeTokens(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=Fx(this.apiClient,n);return d=ae("{model}:computeTokens",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>{const h=Xx(v),x=new ky;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,n);return y=ae("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>{const S=RT(x),C=new ya;return Object.assign(C,S),C})}else{const h=DT(this.apiClient,n);return y=ae("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p.then(x=>{const S=wT(x),C=new ya;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC extends ol{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=Ay(n);return y=ae("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p}else{const h=_y(n);return y=ae("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=yy(n);return d=ae("{resourceName}:fetchPredictOperation",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&c(n,["data"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function iC(l){const n={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>dC(d))),c(n,["parts"],u)}const s=r(l,["role"]);return s!=null&&c(n,["role"],s),n}function oC(l,n,o){const s={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=r(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const y=r(n,["liveConnectConstraints"]);o!==void 0&&y!=null&&c(o,["bidiGenerateContentSetup"],fC(l,y));const v=r(n,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),s}function aC(l,n){const o={},s=r(n,["config"]);return s!=null&&c(o,["config"],oC(l,s,o)),o}function sC(l){const n={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function rC(l){const n={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function uC(l){const n={},o=r(l,["timeRangeFilter"]);if(o!=null&&c(n,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function cC(l,n){const o={},s=r(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(l,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const y=r(l,["topK"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","topK"],y);const v=r(l,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=r(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const x=r(l,["seed"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","seed"],x);const S=r(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],du(S));const C=r(l,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const A=r(l,["enableAffectiveDialog"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],A);const q=r(l,["systemInstruction"]);n!==void 0&&q!=null&&c(n,["setup","systemInstruction"],iC(ot(q)));const U=r(l,["tools"]);if(n!==void 0&&U!=null){let J=jl(U);Array.isArray(J)&&(J=J.map(P=>pC(Zl(P)))),c(n,["setup","tools"],J)}const O=r(l,["sessionResumption"]);n!==void 0&&O!=null&&c(n,["setup","sessionResumption"],mC(O));const F=r(l,["inputAudioTranscription"]);n!==void 0&&F!=null&&c(n,["setup","inputAudioTranscription"],F);const Q=r(l,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const Y=r(l,["realtimeInputConfig"]);n!==void 0&&Y!=null&&c(n,["setup","realtimeInputConfig"],Y);const Z=r(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const te=r(l,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function fC(l,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ne(l,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],cC(u,o)),o}function dC(l){const n={},o=r(l,["videoMetadata"]);o!=null&&c(n,["videoMetadata"],o);const s=r(l,["thought"]);s!=null&&c(n,["thought"],s);const u=r(l,["inlineData"]);u!=null&&c(n,["inlineData"],lC(u));const d=r(l,["fileData"]);d!=null&&c(n,["fileData"],sC(d));const p=r(l,["thoughtSignature"]);p!=null&&c(n,["thoughtSignature"],p);const y=r(l,["functionCall"]);y!=null&&c(n,["functionCall"],y);const v=r(l,["codeExecutionResult"]);v!=null&&c(n,["codeExecutionResult"],v);const h=r(l,["executableCode"]);h!=null&&c(n,["executableCode"],h);const x=r(l,["functionResponse"]);x!=null&&c(n,["functionResponse"],x);const S=r(l,["text"]);return S!=null&&c(n,["text"],S),n}function mC(l){const n={},o=r(l,["handle"]);if(o!=null&&c(n,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function pC(l){const n={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),c(n,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(l,["googleSearch"]);s!=null&&c(n,["googleSearch"],uC(s));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&c(n,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],rC(d));const p=r(l,["urlContext"]);p!=null&&c(n,["urlContext"],p);const y=r(l,["computerUse"]);y!=null&&c(n,["computerUse"],y);const v=r(l,["codeExecution"]);return v!=null&&c(n,["codeExecution"],v),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(l){const n=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const s=l[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function gC(l,n){let o=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const u=l.fieldMask;if(o){const d=hC(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?l.fieldMask=d:delete l.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];u.length>0&&(y=u.map(h=>p.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),y.length>0&&v.push(...y),v.length>0?l.fieldMask=v.join(","):delete l.fieldMask}else delete l.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?l.fieldMask=u.join(","):delete l.fieldMask;return l}class yC extends ol{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=aC(this.apiClient,n);d=ae("auth_tokens",y._url),p=y._query,delete y.config,delete y._url,delete y._query;const v=gC(y,n.config);return u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function xC(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function TC(l,n){const o={};if(r(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=r(l,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&c(n,["displayName"],s),r(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=r(l,["epochCount"]);n!==void 0&&u!=null&&c(n,["tuningTask","hyperparameters","epochCount"],u);const d=r(l,["learningRateMultiplier"]);if(d!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),r(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=r(l,["batchSize"]);n!==void 0&&p!=null&&c(n,["tuningTask","hyperparameters","batchSize"],p);const y=r(l,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function SC(l,n){const o={},s=r(l,["validationDataset"]);n!==void 0&&s!=null&&c(n,["supervisedTuningSpec"],qC(s,o));const u=r(l,["tunedModelDisplayName"]);n!==void 0&&u!=null&&c(n,["tunedModelDisplayName"],u);const d=r(l,["description"]);n!==void 0&&d!=null&&c(n,["description"],d);const p=r(l,["epochCount"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],p);const y=r(l,["learningRateMultiplier"]);n!==void 0&&y!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const v=r(l,["exportLastCheckpointOnly"]);n!==void 0&&v!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const h=r(l,["adapterSize"]);if(n!==void 0&&h!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),r(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=r(l,["labels"]);return n!==void 0&&x!=null&&c(n,["labels"],x),o}function CC(l){const n={},o=r(l,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(l,["preTunedModel"]);s!=null&&c(n,["preTunedModel"],s);const u=r(l,["trainingDataset"]);u!=null&&c(n,["tuningTask","trainingData"],IC(u));const d=r(l,["config"]);return d!=null&&TC(d,n),n}function EC(l){const n={},o=r(l,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(l,["preTunedModel"]);s!=null&&c(n,["preTunedModel"],s);const u=r(l,["trainingDataset"]);u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],UC(u,n));const d=r(l,["config"]);return d!=null&&SC(d,n),n}function _C(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function AC(l){const n={},o=r(l,["name"]);return o!=null&&c(n,["_url","name"],o),n}function NC(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(l,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function MC(l,n){const o={},s=r(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(l,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(l,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function bC(l){const n={},o=r(l,["config"]);return o!=null&&NC(o,n),n}function wC(l){const n={},o=r(l,["config"]);return o!=null&&MC(o,n),n}function RC(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Th(p))),c(n,["tuningJobs"],d)}return n}function DC(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(l,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>ou(p))),c(n,["tuningJobs"],d)}return n}function kC(l){const n={},o=r(l,["name"]);o!=null&&c(n,["model"],o);const s=r(l,["name"]);return s!=null&&c(n,["endpoint"],s),n}function IC(l){const n={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=r(l,["examples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["examples","examples"],s)}return n}function UC(l,n){const o={},s=r(l,["gcsUri"]);n!==void 0&&s!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],s);const u=r(l,["vertexDatasetResource"]);if(n!==void 0&&u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],u),r(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Th(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["state"]);u!=null&&c(n,["state"],th(u));const d=r(l,["createTime"]);d!=null&&c(n,["createTime"],d);const p=r(l,["tuningTask","startTime"]);p!=null&&c(n,["startTime"],p);const y=r(l,["tuningTask","completeTime"]);y!=null&&c(n,["endTime"],y);const v=r(l,["updateTime"]);v!=null&&c(n,["updateTime"],v);const h=r(l,["description"]);h!=null&&c(n,["description"],h);const x=r(l,["baseModel"]);x!=null&&c(n,["baseModel"],x);const S=r(l,["_self"]);S!=null&&c(n,["tunedModel"],kC(S));const C=r(l,["customBaseModel"]);C!=null&&c(n,["customBaseModel"],C);const A=r(l,["experiment"]);A!=null&&c(n,["experiment"],A);const q=r(l,["labels"]);q!=null&&c(n,["labels"],q);const U=r(l,["outputUri"]);U!=null&&c(n,["outputUri"],U);const O=r(l,["pipelineJob"]);O!=null&&c(n,["pipelineJob"],O);const F=r(l,["serviceAccount"]);F!=null&&c(n,["serviceAccount"],F);const Q=r(l,["tunedModelDisplayName"]);Q!=null&&c(n,["tunedModelDisplayName"],Q);const Y=r(l,["veoTuningSpec"]);return Y!=null&&c(n,["veoTuningSpec"],Y),n}function ou(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["state"]);u!=null&&c(n,["state"],th(u));const d=r(l,["createTime"]);d!=null&&c(n,["createTime"],d);const p=r(l,["startTime"]);p!=null&&c(n,["startTime"],p);const y=r(l,["endTime"]);y!=null&&c(n,["endTime"],y);const v=r(l,["updateTime"]);v!=null&&c(n,["updateTime"],v);const h=r(l,["error"]);h!=null&&c(n,["error"],h);const x=r(l,["description"]);x!=null&&c(n,["description"],x);const S=r(l,["baseModel"]);S!=null&&c(n,["baseModel"],S);const C=r(l,["tunedModel"]);C!=null&&c(n,["tunedModel"],C);const A=r(l,["preTunedModel"]);A!=null&&c(n,["preTunedModel"],A);const q=r(l,["supervisedTuningSpec"]);q!=null&&c(n,["supervisedTuningSpec"],q);const U=r(l,["tuningDataStats"]);U!=null&&c(n,["tuningDataStats"],U);const O=r(l,["encryptionSpec"]);O!=null&&c(n,["encryptionSpec"],O);const F=r(l,["partnerModelTuningSpec"]);F!=null&&c(n,["partnerModelTuningSpec"],F);const Q=r(l,["customBaseModel"]);Q!=null&&c(n,["customBaseModel"],Q);const Y=r(l,["experiment"]);Y!=null&&c(n,["experiment"],Y);const Z=r(l,["labels"]);Z!=null&&c(n,["labels"],Z);const te=r(l,["outputUri"]);te!=null&&c(n,["outputUri"],te);const J=r(l,["pipelineJob"]);J!=null&&c(n,["pipelineJob"],J);const P=r(l,["serviceAccount"]);P!=null&&c(n,["serviceAccount"],P);const le=r(l,["tunedModelDisplayName"]);le!=null&&c(n,["tunedModelDisplayName"],le);const ne=r(l,["veoTuningSpec"]);return ne!=null&&c(n,["veoTuningSpec"],ne),n}function LC(l){const n={},o=r(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(l,["name"]);s!=null&&c(n,["name"],s);const u=r(l,["metadata"]);u!=null&&c(n,["metadata"],u);const d=r(l,["done"]);d!=null&&c(n,["done"],d);const p=r(l,["error"]);return p!=null&&c(n,["error"],p),n}function qC(l,n){const o={},s=r(l,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const u=r(l,["vertexDatasetResource"]);return n!==void 0&&u!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends ol{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Ki(il.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:$r.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=AC(n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>ou(x))}else{const h=_C(n);return y=ae("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>Th(x))}}async listInternal(n){var o,s,u,d;let p,y="",v={};if(this.apiClient.isVertexAI()){const h=wC(n);return y=ae("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=DC(x),C=new Ap;return Object.assign(C,S),C})}else{const h=bC(n);return y=ae("tunedModels",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:x.headers},C})),p.then(x=>{const S=RC(x),C=new Ap;return Object.assign(C,S),C})}}async cancel(n){var o,s,u,d;let p="",y={};if(this.apiClient.isVertexAI()){const v=xC(n);p=ae("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=vC(n);p=ae("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI()){const y=EC(n);return d=ae("tuningJobs",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>ou(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=CC(n);return d=ae("tunedModels",y._url),p=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),u.then(v=>LC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zC{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VC=1024*1024*8,GC=3,BC=1e3,PC=2,Zr="x-goog-upload-status";async function OC(l,n,o){var s,u,d;let p=0,y=0,v=new Wr(new Response),h="upload";for(p=l.size;y<p;){const S=Math.min(VC,p-y),C=l.slice(y,y+S);y+S>=p&&(h+=", finalize");let A=0,q=BC;for(;A<GC&&(v=await o.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(y),"Content-Length":String(S)}}}),!(!((s=v==null?void 0:v.headers)===null||s===void 0)&&s[Zr]));)A++,await YC(q),q=q*PC;if(y+=S,((u=v==null?void 0:v.headers)===null||u===void 0?void 0:u[Zr])!=="active")break;if(p<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(v==null?void 0:v.json());if(((d=v==null?void 0:v.headers)===null||d===void 0?void 0:d[Zr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function JC(l){return{size:l.size,type:l.type}}function YC(l){return new Promise(n=>setTimeout(n,l))}class FC{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await OC(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await JC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC{create(n,o,s){return new QC(n,o,s)}}class QC{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yp="x-goog-api-key";class KC{constructor(n){this.apiKey=n}async addAuthHeaders(n){if(n.get(Yp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Yp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC="gl-node/";class jC{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=hy(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new KC(this.apiKey);this.apiClient=new LS({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:ZC+"web",uploader:new FC,downloader:new zC}),this.models=new tC(this.apiClient),this.live=new QS(this.apiClient,u,new XC),this.batches=new Uv(this.apiClient),this.chats=new dx(this.models,this.apiClient),this.caches=new ux(this.apiClient),this.files=new Cx(this.apiClient),this.operations=new nC(this.apiClient),this.authTokens=new yC(this.apiClient),this.tunings=new HC(this.apiClient)}}const $C=new jC({apiKey:"PLACEHOLDER_API_KEY"}),WC="gemini-2.5-flash",eE=async l=>{try{const n=l.map(u=>({role:u.author.id==="ai-bot"?"model":"user",parts:[{text:u.text}]})),o=await $C.models.generateContent({model:WC,contents:n}),s=o.text;return typeof s=="string"?s:(console.warn("AI response.text was not a string or was empty. Full response:",JSON.stringify(o,null,2)),"I'm sorry, I don't have a response for that right now.")}catch(n){console.error("Error getting AI response:",n);const o=n instanceof Error?n.message.toLowerCase():"";return o.includes("api key not valid")?"The AI Service API key is invalid. Please check the application configuration.":o.includes("quota")?"The AI is experiencing high traffic (quota exceeded). Please try again later.":"Sorry, I encountered an error while trying to connect to the AI. Please try again."}},Fp=Ta["ai-bot"],tE=l=>{const[n,o]=V.useState([]),[s,u]=V.useState(null),[d,p]=V.useState(!1),[y,v]=V.useState([]),[h,x]=V.useState({}),[S,C]=V.useState([]),[A,q]=V.useState(!1);V.useEffect(()=>{const j={id:`msg-self-intro-${l.id}`,author:l,timestamp:Date.now(),text:"This is your personal space. You can send messages, files, and notes to yourself here.",reactions:[]},ee={id:`msg-ai-intro-${l.id}`,author:Fp,timestamp:Date.now(),text:"Hello! I'm your AI Assistant. How can I help you today?",reactions:[]},b=[{id:`self-chat-${l.id}`,name:"(You)",type:"self",users:[l.id],messages:[j],privacy:"private"},{id:`ai-chat-${l.id}`,name:"AI Assistant",type:"ai",users:[l.id,"ai-bot"],messages:[ee],privacy:"private"}];if(o(b),!s){const k=b.find(X=>X.type==="self")||b[0];u(k)}},[l.id,l]),V.useEffect(()=>{s&&x(j=>({...j,[s.id]:0}))},[s]);const U=(j,ee,b)=>{const X=`${j.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}-${Math.random().toString(36).substr(2,4)}`,ie={id:X,name:j,privacy:ee,type:"group",users:[l.id],messages:[],...ee==="private"&&b&&{password:b}};return o(pe=>[...pe,ie]),X},O=(j,ee)=>{const b=n.find(k=>k.id===j);return b?b.users.includes(l.id)?"already_joined":b.privacy==="public"?(o(k=>k.map(X=>X.id===j?{...X,users:[...X.users,l.id]}:X)),"joined"):b.password?ee?ee===b.password?(o(k=>k.map(X=>X.id===j?{...X,users:[...X.users,l.id]}:X)),"joined"):"invalid_password":"needs_password":(o(k=>k.map(X=>X.id===j?{...X,users:[...X.users,l.id]}:X)),"joined"):"not_found"},F=V.useCallback(async(j,ee,b)=>{if(!s)return;if(ee){if(!j.text.trim())return;o(X=>X.map(ie=>ie.id===s.id?{...ie,messages:ie.messages.map(pe=>pe.id===ee?{...pe,text:j.text.trim(),isEdited:!0}:pe)}:ie));return}if(!j.text.trim()&&!j.audio&&!j.file&&!j.location)return;p(!0);const k={id:`msg-${Date.now()}`,author:l,timestamp:Date.now(),text:j.text.trim(),reactions:[],...b&&{replyTo:b},...j.audio&&{audio:{url:URL.createObjectURL(j.audio.blob),duration:j.audio.duration}},...j.file&&{file:{url:URL.createObjectURL(j.file),name:j.file.name,type:j.file.type}},...j.location&&{location:j.location}};if(o(X=>X.map(ie=>ie.id===s.id?{...ie,messages:[...ie.messages,k]}:ie)),s.type==="ai"){const X=[...s.messages,k],ie=await eE(X),pe={id:`msg-${Date.now()+1}`,author:Fp,timestamp:Date.now(),text:ie,reactions:[]};o(N=>N.map(H=>H.id===s.id?{...H,messages:[...H.messages,pe]}:H))}p(!1)},[s,l]),Q=V.useCallback((j,ee="for_me")=>{s&&o(ee==="for_everyone"?b=>b.map(k=>({...k,messages:k.messages.map(X=>X.id===j?{...X,isDeleted:!0,deletedBy:l.id,deletedForEveryone:!0}:X)})):b=>b.map(k=>k.id===s.id?{...k,messages:k.messages.filter(X=>X.id!==j)}:k))},[s,l.id]),Y=V.useCallback(j=>{s&&o(ee=>ee.map(b=>b.id===s.id?{...b,messages:b.messages.map(k=>k.id===j?{...k,isPinned:!k.isPinned}:k)}:b))},[s]),Z=V.useCallback(j=>{if(!s)return;const ee={id:`poll-${Date.now()}`,question:j.question,options:j.options.map((k,X)=>({id:`opt-${Date.now()}-${X}`,text:k,votes:[]})),location:j.location},b={id:`msg-${Date.now()}`,author:l,timestamp:Date.now(),text:`Poll: ${j.question}`,poll:ee,reactions:[]};o(k=>k.map(X=>X.id===s.id?{...X,messages:[...X.messages,b]}:X))},[s,l]),te=V.useCallback((j,ee)=>{s&&o(b=>b.map(k=>{if(k.id!==s.id)return k;const X=k.messages.map(ie=>{if(ie.id!==j||!ie.poll)return ie;const pe=ie.poll.options.map(N=>{if(N.id===ee){const K=N.votes.includes(l.id)?N.votes.filter($=>$!==l.id):[...N.votes,l.id];return{...N,votes:K}}return N});return{...ie,poll:{...ie.poll,options:pe}}});return{...k,messages:X}}))},[s,l.id]),J=V.useCallback((j,ee)=>{s&&o(b=>b.map(k=>{if(k.id!==s.id)return k;const X=k.messages.map(ie=>{if(ie.id!==j)return ie;const pe=ie.reactions.find(H=>H.emoji===ee);let N;return pe?N=ie.reactions.map(H=>H.emoji===ee?H.users.includes(l.id)?{...H,users:H.users.filter(K=>K!==l.id)}:{...H,users:[...H.users,l.id]}:H).filter(H=>H.users.length>0):N=[...ie.reactions,{emoji:ee,users:[l.id]}],{...ie,reactions:N}});return{...k,messages:X}}))},[s,l.id]),P=V.useCallback((j,ee)=>{if(!j.trim()){C([]),q(!1);return}const b=j.toLowerCase(),k=[],X=ee==="current"&&s?[s]:n;for(const ie of X)for(const pe of ie.messages)pe.text.toLowerCase().includes(b)&&k.push({message:pe,roomId:ie.id,roomName:ie.name});C(k.sort((ie,pe)=>pe.message.timestamp-ie.message.timestamp)),q(!0)},[n,s]),le=V.useCallback(()=>{C([]),q(!1)},[]),ne=(j,ee)=>{o(b=>b.map(k=>k.id===j?ee(k):k)),(s==null?void 0:s.id)===j&&u(b=>b?ee(b):null)},de=V.useCallback(j=>{ne(j,ee=>({...ee,activeCall:{participants:[l.id]}}))},[l.id]),ue=V.useCallback(j=>{ne(j,ee=>!ee.activeCall||ee.activeCall.participants.includes(l.id)?ee:{...ee,activeCall:{...ee.activeCall,participants:[...ee.activeCall.participants,l.id]}})},[l.id]),ce=V.useCallback(j=>{ne(j,ee=>{if(!ee.activeCall)return ee;const b=ee.activeCall.participants.filter(k=>k!==l.id);return b.length===0?{...ee,activeCall:null}:{...ee,activeCall:{...ee.activeCall,participants:b}}})},[l.id]),be=V.useCallback(j=>{const ee=n.find(b=>b.id===j);if(!(!ee||ee.type==="self"||ee.type==="ai")&&(o(b=>b.filter(k=>k.id!==j)),(s==null?void 0:s.id)===j)){const b=n.find(k=>k.type==="self");b&&u(b)}},[n,s]);return{rooms:n,activeRoom:s,setActiveRoom:u,sendMessage:F,sendPoll:Z,handleVote:te,handleReaction:J,isSending:d,createRoom:U,joinRoom:O,activeTypingUsers:y,unreadCounts:h,deleteMessage:Q,togglePinMessage:Y,searchMessages:P,clearSearch:le,searchResults:S,isSearching:A,startVideoCall:de,joinVideoCall:ue,leaveVideoCall:ce,deleteRoom:be}},Aa=l=>g.jsxs("svg",{...l,width:"200",height:"250",viewBox:"0 0 150 200",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"75",cy:"50",r:"25",fill:"#00BCD4"}),g.jsx("circle",{cx:"65",cy:"45",r:"5",fill:"#fff"}),g.jsx("circle",{cx:"85",cy:"45",r:"5",fill:"#fff"}),g.jsx("line",{x1:"60",y1:"30",x2:"50",y2:"10",stroke:"#00BCD4","stroke-width":"3"}),g.jsx("line",{x1:"90",y1:"30",x2:"100",y2:"10",stroke:"#00BCD4","stroke-width":"3"}),g.jsx("rect",{x:"50",y:"75",width:"50",height:"70",rx:"25",ry:"25",fill:"#009688"})]}),nE=l=>g.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Sh=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),lE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),g.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),Ch=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),g.jsx("polyline",{points:"10 17 15 12 10 7"}),g.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),pu=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Eh=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),g.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),_h=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),g.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),hu=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),g.jsx("polyline",{points:"16 6 12 2 8 6"}),g.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),iE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),oE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16 17 21 12 16 7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),aE=l=>g.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),sE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),it=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),rE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ll=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"3 6 5 6 21 6"}),g.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),xa=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),uE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),g.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),cE=l=>g.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),fE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),g.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),g.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),Ah=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),g.jsx("polyline",{points:"13 2 13 9 20 9"})]}),au=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),g.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),Nh=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),g.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),g.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"})]}),dE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"1"}),g.jsx("circle",{cx:"19",cy:"12",r:"1"}),g.jsx("circle",{cx:"5",cy:"12",r:"1"})]}),mE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),g.jsx("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),g.jsx("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),pE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),hE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),g.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Mh=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),bh=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"11",cy:"11",r:"8"}),g.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),gE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"23 4 23 10 17 10"}),g.jsx("polyline",{points:"1 20 1 14 7 14"}),g.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),g.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]}),wh=l=>g.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}),gu=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),g.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),yE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),vE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),g.jsx("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"}),g.jsx("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"}),g.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),g.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),xE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81 .7 2 2 0 0 1 1.72 2.05v1.59a2 2 0 0 1-2.18 2.18a19.79 19.79 0 0 1-8.63-3.07a19.42 19.42 0 0 1-3.33-2.67a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h1.59a2 2 0 0 1 2.05 1.72a12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),g.jsx("line",{x1:"23",y1:"1",x2:"1",y2:"23"})]}),TE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3"}),g.jsx("path",{d:"M8 21h8"}),g.jsx("path",{d:"M12 17v4"}),g.jsx("path",{d:"m17 8 4-4"}),g.jsx("path",{d:"M17 4h4v4"})]}),SE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),CE=l=>g.jsx("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),EE=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"9 17 4 12 9 7"}),g.jsx("path",{d:"M20 18v-2a4 4 0 0 0-4-4H4"})]}),Xp=l=>g.jsxs("svg",{...l,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("polyline",{points:"20 6 9 17 4 12"}),g.jsx("polyline",{points:"20 6 9 17 4 12",transform:"translate(4, 4)"})]}),_E=({isOpen:l,onClose:n,onJoin:o})=>{const[s,u]=V.useState(""),[d,p]=V.useState(""),[y,v]=V.useState(""),[h,x]=V.useState("enter_id");if(!l)return null;const S=()=>{if(!s.trim()){v("Please enter an invite code.");return}if(v(""),h==="enter_id")switch(o(s.trim())){case"joined":C();break;case"needs_password":x("enter_password");break;case"not_found":v("Invalid invite code.");break;case"already_joined":v("You are already in this room.");break}else if(h==="enter_password")switch(o(s.trim(),d)){case"joined":C();break;case"invalid_password":v("Incorrect password. Please try again."),p("");break;default:v("An unexpected error occurred. Please try again."),x("enter_id");break}},C=()=>{u(""),p(""),v(""),x("enter_id"),n()};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:C,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-sm",onClick:A=>A.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Join a Room"}),g.jsx("button",{onClick:C,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"invite-code",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Invite Code"}),g.jsx("input",{id:"invite-code",type:"text",value:s,onChange:A=>u(A.target.value),placeholder:"e.g., project-alpha-abcd",disabled:h==="enter_password",className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-70 disabled:bg-gray-100 dark:disabled:bg-gray-700/50"})]}),h==="enter_password"&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"room-password",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Room Password"}),g.jsx("input",{id:"room-password",type:"password",value:d,onChange:A=>p(A.target.value),placeholder:"This room is private",className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",autoFocus:!0})]}),y&&g.jsx("p",{className:"text-sm text-red-500",children:y})]}),g.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t dark:border-gray-700 flex justify-end",children:g.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:[g.jsx(Ch,{className:"w-5 h-5"})," ",h==="enter_password"?"Enter Room":"Join Room"]})})]})})},AE=({isOpen:l,onClose:n,onCreate:o})=>{const[s,u]=V.useState(""),[d,p]=V.useState(null),[y,v]=V.useState("Copy Code"),[h,x]=V.useState("private"),[S,C]=V.useState("");if(V.useEffect(()=>{l&&(u(""),p(null),v("Copy Code"),x("private"),C(""))},[l]),!l)return null;const A=()=>{if(s.trim()){if(h==="private"&&S.length<4)return;const O=o(s.trim(),h,S);p(O)}},q=()=>{d&&(navigator.clipboard.writeText(d),v("Copied!"),setTimeout(()=>v("Copy Code"),2e3))},U=()=>{n()};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:U,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-sm",onClick:O=>O.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:d?"Room Created!":"Create a New Room"}),g.jsx("button",{onClick:U,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),d?g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Share this invite code with others:"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",readOnly:!0,value:d,className:"w-full mt-1 px-3 py-2 text-sm border rounded bg-gray-100 dark:bg-gray-900 dark:border-gray-600 dark:text-gray-300"}),g.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 mt-1 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 min-w-[120px] justify-center",children:[g.jsx(hu,{className:"w-4 h-4"})," ",y]})]})]}):g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"room-name",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Room Name"}),g.jsx("input",{id:"room-name",type:"text",value:s,onChange:O=>u(O.target.value),placeholder:"e.g., Project Alpha",className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),h==="private"&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"room-password",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Room Password"}),g.jsx("input",{id:"room-password",type:"password",value:S,onChange:O=>C(O.target.value),placeholder:"Min. 4 characters",className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Privacy"}),g.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.jsxs("button",{onClick:()=>x("private"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg border ${h==="private"?"bg-primary-500 text-white border-primary-500":"dark:border-gray-600"}`,children:[g.jsx(Eh,{className:"w-4 h-4"})," Private"]}),g.jsxs("button",{onClick:()=>x("public"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg border ${h==="public"?"bg-primary-500 text-white border-primary-500":"dark:border-gray-600"}`,children:[g.jsx(_h,{className:"w-4 h-4"})," Public"]})]})]})]}),g.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t dark:border-gray-700 flex justify-end",children:d?g.jsx("button",{onClick:U,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Done"}):g.jsx("button",{onClick:A,disabled:!s.trim()||h==="private"&&S.length<4,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:bg-primary-300 dark:disabled:bg-primary-800",children:"Create Room"})})]})})},NE=({onSearch:l,disabled:n})=>{const[o,s]=V.useState(""),[u,d]=V.useState("current"),p=y=>{y.preventDefault(),l(o,u)};return g.jsxs("form",{onSubmit:p,className:"px-2 mb-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search messages...",value:o,onChange:y=>s(y.target.value),disabled:n&&u==="current",className:"w-full pl-10 pr-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),g.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),g.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-600 dark:text-gray-400",children:[g.jsx("span",{className:"font-medium",children:"Search in:"}),g.jsxs("div",{className:"flex items-center border rounded-lg dark:border-gray-600 p-0.5",children:[g.jsx("button",{type:"button",onClick:()=>d("current"),disabled:n,className:`px-2 py-0.5 rounded-md text-xs ${u==="current"?"bg-primary-500 text-white":""} disabled:opacity-50`,children:"Current"}),g.jsx("button",{type:"button",onClick:()=>d("all"),className:`px-2 py-0.5 rounded-md text-xs ${u==="all"?"bg-primary-500 text-white":""}`,children:"All Chats"})]})]})]})},ME={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},bE={xs:"w-1.5 h-1.5 bottom-0 right-0",sm:"w-2 h-2 bottom-0 right-0",md:"w-2.5 h-2.5 bottom-0.5 right-0.5",lg:"w-3 h-3 bottom-1 right-1"},Ot=({user:l,size:n="sm"})=>{const o={xs:"p-0.5",sm:"p-1.5",md:"p-2",lg:"p-2.5"},s=l.id==="ai-bot"?Aa:pu;return g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("div",{className:`${ME[n]} rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden`,children:l.profilePicture?g.jsx("img",{src:l.profilePicture,alt:l.name,className:"w-full h-full object-cover"}):g.jsx(s,{className:`text-gray-500 dark:text-gray-400 ${o[n]}`})}),g.jsx("span",{className:`absolute block ${bE[n]} ${l.isOnline?"bg-green-500":"bg-gray-400"} border-2 border-white rounded-full dark:border-gray-800`})]})},wE=({room:l})=>l.type==="ai"?g.jsx(Aa,{className:"w-8 h-8 p-1.5 bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400 rounded-full"}):l.type==="self"?g.jsx(pu,{className:"w-8 h-8 p-1.5 bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-400 rounded-full"}):g.jsx(Sh,{className:"w-8 h-8 p-1.5 bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400 rounded-full"}),RE=({rooms:l,activeRoom:n,setActiveRoom:o,createRoom:s,joinRoom:u,deleteRoom:d,unreadCounts:p,onSearch:y,currentUser:v})=>{const[h,x]=V.useState(!1),[S,C]=V.useState(!1);return g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[g.jsx("h2",{className:"px-2 mb-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Chats"}),g.jsx(NE,{onSearch:y,disabled:!n}),g.jsxs("div",{className:"flex items-center gap-2 mb-2 px-2",children:[g.jsxs("button",{onClick:()=>C(!0),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-150 text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700",children:[g.jsx(lE,{className:"w-5 h-5"})," New"]}),g.jsxs("button",{onClick:()=>x(!0),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-150 text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700",children:[g.jsx(Ch,{className:"w-5 h-5"})," Join"]})]}),g.jsx("nav",{className:"space-y-1 overflow-y-auto flex-grow pr-2 pl-2",children:l.map(A=>{const q=p[A.id]||0,U=A.type==="group",O=A.type==="group";return g.jsxs("div",{className:"relative group",children:[g.jsx("button",{onClick:()=>o(A),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-150 text-left ${(n==null?void 0:n.id)===A.id?"bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-white":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:A.type==="self"?g.jsxs(g.Fragment,{children:[g.jsx(Ot,{user:v,size:"sm"}),g.jsx("div",{className:"ml-3 flex-1 min-w-0",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"truncate font-semibold",children:A.name}),q>0&&g.jsx("span",{className:"ml-2 text-xs font-semibold text-white bg-red-500 rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:q})]})})]}):g.jsxs(g.Fragment,{children:[g.jsx(wE,{room:A}),g.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"truncate font-semibold",children:A.name}),q>0&&g.jsx("span",{className:"ml-2 text-xs font-semibold text-white bg-red-500 rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:q})]}),U&&g.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[A.privacy==="private"?g.jsx(Eh,{className:"w-3 h-3"}):g.jsx(_h,{className:"w-3 h-3"}),g.jsx("code",{className:"truncate",children:A.id})]})]})]})}),O&&g.jsx("button",{onClick:F=>{F.stopPropagation(),window.confirm(`Are you sure you want to delete the room "${A.name}"? This action cannot be undone.`)&&d(A.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-100 dark:hover:bg-red-900/50 transition-opacity",title:"Delete room",children:g.jsx(ll,{className:"w-4 h-4 text-red-500"})})]},A.id)})}),g.jsx(_E,{isOpen:h,onClose:()=>x(!1),onJoin:u}),g.jsx(AE,{isOpen:S,onClose:()=>C(!1),onCreate:s})]})},DE=({poll:l,currentUser:n,onVote:o,isCurrentUserMessage:s})=>{const u=V.useMemo(()=>l.options.reduce((y,v)=>y+v.votes.length,0),[l.options]),d=V.useMemo(()=>l.options.find(y=>y.votes.includes(n.id)),[l.options,n.id]),p=s?"text-white":"text-gray-800 dark:text-gray-200";return g.jsxs("div",{className:`my-2 w-80 ${p}`,children:[g.jsx("p",{className:"font-bold mb-1",children:l.question}),l.location&&g.jsxs("div",{className:"flex items-center gap-1.5 text-xs mb-3 opacity-80",children:[g.jsx(xa,{className:"w-3.5 h-3.5"}),g.jsx("span",{children:l.location})]}),g.jsx("div",{className:"space-y-2",children:l.options.map(y=>{const v=u>0?y.votes.length/u*100:0,h=y.id===(d==null?void 0:d.id),x=s?"border-white/50":"border-gray-300 dark:border-gray-600",S=s?"hover:border-white/80":"hover:border-primary-500 dark:hover:border-primary-400",C=s?"ring-white/80":"ring-primary-500",A=s?"bg-white/25":"bg-primary-100 dark:bg-primary-900/50",q=s?"text-white":"text-gray-800 dark:text-gray-100",U=s?"text-white/90":"text-gray-600 dark:text-gray-300";return g.jsx("div",{className:"relative",children:g.jsxs("button",{onClick:()=>o(y.id),className:`w-full text-left p-2 border rounded-md transition-all duration-200
                                    ${h?`ring-2 ${C}`:x}
                                    ${S}`,children:[d&&g.jsx("div",{className:`absolute top-0 left-0 h-full ${A} rounded-md`,style:{width:`${v}%`}}),g.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[g.jsx("span",{className:`font-medium ${q}`,children:y.text}),d&&g.jsxs("span",{className:`text-sm font-semibold ${U}`,children:[y.votes.length," (",Math.round(v),"%)"]})]})]})},y.id)})}),g.jsxs("p",{className:`text-xs text-right mt-2 ${s?"text-white/80":"text-gray-500 dark:text-gray-400"}`,children:[u," vote",u!==1?"s":""]})]})},kE=["👍","❤️","😂","😮","😢","🙏"],IE=({onSelect:l,onClose:n})=>{const o=V.useRef(null);return V.useEffect(()=>{const s=u=>{o.current&&!o.current.contains(u.target)&&n()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[n]),g.jsx("div",{ref:o,className:"absolute z-20 bottom-full mb-2 bg-white dark:bg-gray-800 rounded-full shadow-lg p-1 flex items-center gap-1 border dark:border-gray-700",children:kE.map(s=>g.jsx("button",{onClick:()=>l(s),className:"p-1.5 text-xl rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:s},s))})},UE=({message:l,currentUser:n,onReact:o,onEdit:s,onDelete:u,onTogglePin:d,onReply:p})=>{const[y,v]=V.useState(!1),[h,x]=V.useState(!1),[S,C]=V.useState(!1),A=V.useRef(null),q=l.author.id===n.id;V.useEffect(()=>{const Y=Z=>{A.current&&!A.current.contains(Z.target)&&v(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const U=()=>{navigator.clipboard.writeText(l.text),v(!1)},O=()=>{C(!0),v(!1)},F=()=>{u(l.id,"for_me"),C(!1)},Q=()=>{u(l.id,"for_everyone"),C(!1)};return g.jsxs("div",{className:"relative flex items-center",ref:A,children:[g.jsxs("div",{className:"absolute right-full top-1/2 -translate-y-1/2 mr-2 group-hover:opacity-100 opacity-0 transition-opacity flex items-center gap-1 bg-gray-200 dark:bg-gray-600 p-1 rounded-full",children:[g.jsx("button",{onClick:()=>x(!0),className:"p-1 rounded-full hover:bg-gray-300 dark:hover:bg-gray-500",children:g.jsx(mE,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>v(!0),className:"p-1 rounded-full hover:bg-gray-300 dark:hover:bg-gray-500",children:g.jsx(dE,{className:"w-5 h-5"})})]}),h&&g.jsx("div",{className:"absolute bottom-full right-0 mb-2 z-10",children:g.jsx(IE,{onSelect:Y=>{o(Y),x(!1)},onClose:()=>x(!1)})}),y&&g.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border dark:border-gray-600 p-2 z-10",children:[g.jsxs("button",{onClick:U,className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(hE,{className:"w-4 h-4"})," Copy Text"]}),g.jsxs("button",{onClick:()=>{d(l.id),v(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(Mh,{className:"w-4 h-4"})," ",l.isPinned?"Unpin Message":"Pin Message"]}),g.jsxs("button",{onClick:()=>{p(l),v(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(EE,{className:"w-4 h-4"})," Reply"]}),q&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"my-1 h-px bg-gray-200 dark:bg-gray-600"}),Date.now()-l.timestamp<=9e5&&g.jsxs("button",{onClick:()=>{s(l),v(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(pE,{className:"w-4 h-4"})," Edit Message"]}),g.jsxs("button",{onClick:O,className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm text-red-600 dark:text-red-400",children:[g.jsx(ll,{className:"w-4 h-4"})," Delete Message"]})]})]}),S&&g.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border dark:border-gray-600 p-2 z-10",children:[g.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b dark:border-gray-600",children:[g.jsx("span",{className:"text-sm font-medium",children:"Delete Message"}),g.jsx("button",{onClick:()=>C(!1),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4"})})]}),g.jsxs("button",{onClick:F,className:"w-full text-left flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(ll,{className:"w-4 h-4"})," Delete for me"]}),g.jsxs("button",{onClick:Q,className:"w-full text-left flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm text-red-600 dark:text-red-400",children:[g.jsx(ll,{className:"w-4 h-4"})," Delete for everyone"]}),l.isDeleted&&g.jsxs("button",{onClick:()=>{u(l.id,"permanent"),C(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm text-red-600 dark:text-red-400",children:[g.jsx(ll,{className:"w-4 h-4"})," Delete permanently"]})]})]})},LE=({isOpen:l,onClose:n,imageUrl:o,imageName:s})=>{if(!l)return null;const u=()=>{const d=document.createElement("a");d.href=o,d.download=s||"image.jpg",document.body.appendChild(d),d.click(),document.body.removeChild(d)};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"relative max-w-4xl max-h-full",onClick:d=>d.stopPropagation(),children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70",children:g.jsx(it,{className:"w-6 h-6"})}),g.jsx("button",{onClick:u,className:"absolute top-4 left-4 z-10 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),g.jsx("img",{src:o,alt:"Full size",className:"max-w-full max-h-full object-contain"})]})})},Qp=l=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(l),qE=({file:l,onImageClick:n})=>l.type.startsWith("image/")?g.jsx("img",{src:l.url,alt:l.name,className:"max-w-xs max-h-64 rounded-lg mt-2 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>n(l.url,l.name)}):l.type.startsWith("video/")?g.jsx("video",{src:l.url,controls:!0,className:"max-w-xs rounded-lg mt-2"}):l.type.startsWith("audio/")?g.jsx("audio",{src:l.url,controls:!0,className:"w-full mt-2"}):g.jsxs("a",{href:l.url,download:l.name,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gray-200 dark:bg-gray-800 p-2 rounded-lg mt-2 hover:bg-gray-300 dark:hover:bg-gray-700",children:[g.jsx(Ah,{className:"w-6 h-6 flex-shrink-0"}),g.jsx("span",{className:"truncate text-sm font-medium",children:l.name})]}),HE=({audio:l,isCurrentUserMessage:n})=>g.jsxs("div",{className:"w-64",children:[g.jsx("audio",{controls:!0,src:l.url,className:`w-full ${n?"filter-audio-white":""}`}),g.jsx("style",{children:`
                .filter-audio-white {
                    filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(1000%) contrast(100%);
                }
            `})]}),zE=({location:l})=>{const n=`https://www.openstreetmap.org/?mlat=${l.latitude}&mlon=${l.longitude}#map=16/${l.latitude}/${l.longitude}`,o=`https://maps.wikimedia.org/osm-intl/16/${l.latitude}/${l.longitude}.png?lang=en`;return g.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block w-64 h-40 rounded-lg overflow-hidden relative text-white no-underline border border-black/20",children:[g.jsx("img",{src:o,alt:"Map view of a location",className:"w-full h-full object-cover"}),g.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-2",children:[g.jsx("p",{className:"font-semibold text-sm",children:"Location Shared"}),g.jsxs("p",{className:"text-xs",children:[l.latitude.toFixed(4),", ",l.longitude.toFixed(4)]})]})]})},VE=({message:l,currentUser:n,isConsecutive:o,onVote:s,onReaction:u,onDelete:d,onSetEditingMessage:p,onTogglePin:y,onReply:v,repliedToMessage:h,isHighlighted:x})=>{const S=l.author.id===n.id;if(l.isDeleted&&l.deletedForEveryone){const le=l.deletedBy===n.id;return g.jsxs("div",{className:`flex items-start gap-3 group transition-colors duration-1000 ${S?"flex-row-reverse":""} ${x?"bg-primary-100/50 dark:bg-primary-900/40 rounded-lg":""}`,children:[!S&&g.jsx("div",{className:`flex-shrink-0 self-end ${o?"opacity-0":""}`,children:g.jsx(Ot,{user:l.author,size:"md"})}),g.jsxs("div",{className:`flex flex-col max-w-full ${S?"items-end":"items-start"}`,children:[!o&&g.jsx("div",{className:"flex items-center gap-2 mb-1",children:g.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:l.author.name})}),g.jsxs("div",{className:"max-w-md lg:max-w-lg rounded-2xl bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-4 py-2.5 italic flex items-center",children:[g.jsx("button",{onClick:()=>d(l.id,"permanent"),className:"mr-2 p-1 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600",children:g.jsx(ll,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})}),g.jsx("span",{children:le?"You deleted this message":"This message was deleted"})]}),g.jsx("div",{className:"flex items-center gap-2 mt-1",children:g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Qp(l.timestamp)})})]})]})}const[C,A]=V.useState(!1),[q,U]=V.useState(""),[O,F]=V.useState(""),Q=le=>{s(l.id,le)},Y=le=>{u(l.id,le)},Z=(le,ne)=>{U(le),F(ne||""),A(!0)},te=`flex items-start gap-3 group transition-colors duration-1000 ${S?"flex-row-reverse":""} ${x?"bg-primary-100/50 dark:bg-primary-900/40 rounded-lg":""}`,J=`max-w-md lg:max-w-lg rounded-2xl ${S?"bg-primary-600 text-white rounded-br-lg":"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-bl-lg"} ${l.text||l.poll?"px-4 py-2.5":"p-1.5"}`,P=`flex items-center gap-1 mt-1 ${S?"flex-row-reverse":""}`;return g.jsxs("div",{id:`message-${l.id}`,className:te,children:[g.jsx("div",{className:`flex-shrink-0 self-end ${o?"opacity-0":""}`,children:g.jsx(Ot,{user:S?n:l.author,size:"md"})}),g.jsxs("div",{className:`flex flex-col max-w-full ${S?"items-end":"items-start"}`,children:[!o&&g.jsx("div",{className:"flex justify-end w-full mb-1",children:g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Qp(l.timestamp)})}),g.jsxs("div",{className:`relative flex items-center group ${S?"flex-row-reverse":""}`,children:[g.jsxs("div",{className:J,children:[l.replyTo&&h&&g.jsxs("div",{className:"mb-2 p-2 bg-gray-100 dark:bg-gray-600 rounded border-l-4 border-blue-500",children:[g.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Replying to ",h.author.name]}),g.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 truncate",children:h.text})]}),l.location&&g.jsx(zE,{location:l.location}),l.audio?g.jsx(HE,{audio:l.audio,isCurrentUserMessage:S}):l.file?g.jsx(qE,{file:l.file,onImageClick:Z}):null,l.text&&g.jsx("p",{className:"whitespace-pre-wrap break-words",children:l.text}),l.poll&&g.jsx(DE,{poll:l.poll,currentUser:n,onVote:Q,isCurrentUserMessage:S})]}),g.jsx(UE,{message:l,currentUser:n,onReact:Y,onDelete:d,onEdit:p,onTogglePin:y,onReply:v})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.reactions.length>0&&g.jsx("div",{className:P,children:l.reactions.map(le=>g.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-200 dark:bg-gray-600 rounded-full text-xs",children:[g.jsx("span",{children:le.emoji}),g.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:le.users.length})]},le.emoji))}),g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l.isEdited&&"(Edited) ",l.status==="read"?"Seen":"Sent"]}),S&&l.status&&g.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[l.status==="sent"&&g.jsx(wh,{className:"w-3 h-3 text-gray-400"}),l.status==="delivered"&&g.jsx(Xp,{className:"w-3 h-3 text-gray-400"}),l.status==="read"&&g.jsx(Xp,{className:"w-3 h-3 text-blue-500"})]})]})]}),g.jsx(LE,{isOpen:C,onClose:()=>A(!1),imageUrl:q,imageName:O})]})},GE=({isOpen:l,onClose:n,onCreatePoll:o})=>{const[s,u]=V.useState(""),[d,p]=V.useState(["",""]);if(V.useEffect(()=>{l&&(u(""),p(["",""]))},[l]),!l)return null;const y=(S,C)=>{const A=[...d];A[S]=C,p(A)},v=()=>{d.length<5&&p([...d,""])},h=S=>{if(d.length>2){const C=d.filter((A,q)=>q!==S);p(C)}},x=()=>{const S=d.map(C=>C.trim()).filter(Boolean);s.trim()&&S.length>=2&&(o({question:s.trim(),options:S}),n())};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:S=>S.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Create a Poll"}),g.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Question"}),g.jsx("input",{type:"text",value:s,onChange:S=>u(S.target.value),placeholder:"What should we do for lunch?",className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Options"}),g.jsx("div",{className:"space-y-2 mt-1",children:d.map((S,C)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:S,onChange:A=>y(C,A.target.value),placeholder:`Option ${C+1}`,className:"w-full px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.length>2&&g.jsx("button",{onClick:()=>h(C),className:"p-2 text-gray-500 hover:text-red-500 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600",children:g.jsx(ll,{className:"w-5 h-5"})})]},C))})]}),g.jsxs("button",{onClick:v,disabled:d.length>=5,className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400 hover:underline disabled:opacity-50",children:[g.jsx(rE,{className:"w-4 h-4"})," Add Option"]})]}),g.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t dark:border-gray-700 flex justify-end",children:g.jsx("button",{onClick:x,disabled:!s.trim()||d.filter(S=>S.trim()).length<2,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:bg-primary-300 dark:disabled:bg-primary-800",children:"Create Poll"})})]})})},BE=({isOpen:l,onClose:n,onCapture:o})=>{const[s,u]=V.useState(null),[d,p]=V.useState(null),y=V.useRef(null),v=V.useRef(null),h=V.useRef(null),x=V.useCallback(()=>{h.current&&(h.current.getTracks().forEach(U=>U.stop()),h.current=null)},[]),S=V.useCallback(async()=>{p(null),u(null),h.current&&x();try{const U=await navigator.mediaDevices.getUserMedia({video:!0});h.current=U,y.current&&(y.current.srcObject=U)}catch(U){console.error("Error accessing camera:",U);let O="Could not access camera. Please check your browser settings and grant permission.";U instanceof DOMException&&(U.name==="NotAllowedError"||U.name==="PermissionDeniedError"?O="Camera access was denied. To use this feature, please enable camera permissions for this site in your browser settings.":(U.name==="NotFoundError"||U.name==="DevicesNotFoundError")&&(O="No camera was found on your device. Please ensure one is connected and enabled.")),p(O)}},[x]);if(V.useEffect(()=>(l?S():(x(),u(null),p(null)),()=>{x()}),[l,S,x]),!l)return null;const C=()=>{if(y.current&&v.current){const U=y.current,O=v.current;O.width=U.videoWidth,O.height=U.videoHeight;const F=O.getContext("2d");if(F){F.drawImage(U,0,0,U.videoWidth,U.videoHeight);const Q=O.toDataURL("image/jpeg");u(Q),x()}}},A=()=>{S()},q=()=>{v.current&&v.current.toBlob(U=>{U&&o(U)},"image/jpeg")};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl",onClick:U=>U.stopPropagation(),children:[g.jsxs("div",{className:"relative aspect-video bg-black flex items-center justify-center rounded-t-lg",children:[d?g.jsxs("div",{className:"p-8 text-center text-white",children:[g.jsx(au,{className:"w-16 h-16 mx-auto text-red-500 mb-4"}),g.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Camera Access Error"}),g.jsx("p",{className:"text-gray-300 mt-2",children:d})]}):s?g.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain rounded-t-lg"}):g.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,className:"w-full h-full rounded-t-lg"}),g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-2 bg-black/50 rounded-full text-white hover:bg-black/80 z-20",children:g.jsx(it,{className:"w-6 h-6"})})]}),!d&&g.jsx("div",{className:"p-4 flex justify-center items-center",children:s?g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 text-lg font-medium text-white bg-gray-600 rounded-md hover:bg-gray-700",children:[g.jsx(gE,{className:"w-6 h-6"})," Retake"]}),g.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 text-lg font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:[g.jsx(wh,{className:"w-6 h-6"})," Use Photo"]})]}):g.jsx("button",{onClick:C,className:"p-4 bg-white rounded-full text-primary-600 hover:bg-gray-200",children:g.jsx(au,{className:"w-8 h-8"})})}),g.jsx("canvas",{ref:v,className:"hidden"})]})})},PE=({isOpen:l,onClose:n,onSendLocation:o})=>{const[s,u]=V.useState(null),[d,p]=V.useState("idle"),[y,v]=V.useState(null);if(V.useEffect(()=>{l&&(p("loading"),u(null),v(null),navigator.geolocation.getCurrentPosition(S=>{u({latitude:S.coords.latitude,longitude:S.coords.longitude}),p("success")},S=>{let C="Could not get your location. Please check your browser or device settings.";S.code===S.PERMISSION_DENIED&&(C="Location access was denied. Please enable location permissions for this site."),v(C),p("error"),console.error("Geolocation error:",S)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}))},[l]),!l)return null;const h=s?`https://maps.wikimedia.org/osm-intl/16/${s.latitude}/${s.longitude}.png?lang=en`:"",x=()=>{s&&o(s)};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-sm",onClick:S=>S.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Share Location"}),g.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsxs("div",{className:"p-6 text-center",children:[d==="loading"&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-48",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mb-4"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Getting your location..."})]}),d==="error"&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-red-500 dark:text-red-400",children:[g.jsx(xa,{className:"w-12 h-12 mb-4"}),g.jsx("p",{className:"font-semibold",children:"Location Error"}),g.jsx("p",{className:"text-sm mt-1",children:y})]}),d==="success"&&s&&g.jsxs("div",{children:[g.jsxs("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden relative mb-4",children:[g.jsx("img",{src:h,alt:"Map of current location",className:"w-full h-full object-cover"}),g.jsx(xa,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-full text-red-500 w-8 h-8 drop-shadow-lg"})]}),g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Lat: ",s.latitude.toFixed(5),", Lon: ",s.longitude.toFixed(5)]})]})]}),g.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t dark:border-gray-700 flex justify-end",children:g.jsx("button",{onClick:x,disabled:d!=="success",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:bg-primary-300 dark:disabled:bg-primary-800",children:"Send Current Location"})})]})})},OE=({onSendMessage:l,onCreatePoll:n,isSending:o,settings:s,editingMessage:u,onCancelEdit:d,replyingMessage:p,onCancelReply:y})=>{const[v,h]=V.useState(""),[x,S]=V.useState(!1),[C,A]=V.useState(!1),[q,U]=V.useState(!1),[O,F]=V.useState(!1),[Q,Y]=V.useState(!1),[Z,te]=V.useState(null),[J,P]=V.useState(0),[le,ne]=V.useState([]),[de,ue]=V.useState(null),ce=V.useRef(null),be=V.useRef([]),j=V.useRef(0),ee=V.useRef(null),b=V.useRef(null),k=V.useRef(null);V.useEffect(()=>{var W;u?(h(u.text),(W=k.current)==null||W.focus()):h("")},[u]),V.useEffect(()=>{const W=k.current;W&&(W.style.height="auto",W.style.height=`${Math.min(W.scrollHeight,128)}px`)},[v]),V.useEffect(()=>(Q?ee.current=window.setInterval(()=>{const W=(Date.now()-j.current)/1e3;P(W)},1e3):(ee.current&&(clearInterval(ee.current),ee.current=null),P(0)),()=>{ee.current&&clearInterval(ee.current)}),[Q]);const X=()=>{Z?(l({text:v.trim(),audio:Z}),te(null)):le.length>0?(le.forEach((W,me)=>{l({text:me===0?v.trim():"",file:W})}),ne([])):de?(l({text:v.trim(),file:de}),ue(null)):(v.trim()||u)&&l({text:v.trim()}),h(""),F(!1)},ie=W=>{s.enterToSend&&W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),X())},pe=W=>{const me=Array.from(W.target.files||[]);me.length>0&&ne(Le=>[...Le,...me]),b.current&&(b.current.value="")},N=W=>{const me=new File([W],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});ue(me),A(!1)},H=W=>{l({text:"",location:W}),U(!1)},K=async()=>{var W;if(Q)(W=ce.current)==null||W.stop();else try{const me=await navigator.mediaDevices.getUserMedia({audio:!0}),Le=new MediaRecorder(me);ce.current=Le,be.current=[],Le.ondataavailable=qe=>{be.current.push(qe.data)},Le.onstop=()=>{const qe=(Date.now()-j.current)/1e3,Jt=new Blob(be.current,{type:"audio/webm"});te({blob:Jt,duration:qe}),me.getTracks().forEach(al=>al.stop()),Y(!1)},j.current=Date.now(),Le.start(),Y(!0)}catch(me){console.error("Error accessing microphone:",me),alert("Could not access microphone. Please check permissions.")}},$=W=>{const me=Math.floor(W/60),Le=Math.floor(W%60);return`${me}:${Le.toString().padStart(2,"0")}`},he=()=>{te(null)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex-shrink-0 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[u&&g.jsxs("div",{className:"flex justify-between items-center mb-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:"Editing Message"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:u.text})]}),g.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})})]}),p&&g.jsxs("div",{className:"flex justify-between items-center mb-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:["Replying to ",p.author.name]}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:p.text})]}),g.jsx("button",{onClick:y,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})})]}),Q&&g.jsxs("div",{className:"flex justify-between items-center mb-2 px-3 py-1.5 bg-red-100 dark:bg-red-900/50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"}),g.jsx("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:"Recording..."})]}),g.jsx("p",{className:"text-sm font-mono text-red-600 dark:text-red-400",children:$(J)})]}),Z&&g.jsxs("div",{className:"flex justify-between items-center mb-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:"Voice Message Ready"}),g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Duration: ",$(Z.duration)]})]}),g.jsx("button",{onClick:he,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})})]}),le.length>0&&g.jsx("div",{className:"mb-2 space-y-2",children:le.map((W,me)=>g.jsxs("div",{className:"flex justify-between items-center px-3 py-1.5 bg-gray-100 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:"File Attached"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-[200px]",children:W.name})]}),g.jsx("button",{onClick:()=>ne(Le=>Le.filter((qe,Jt)=>Jt!==me)),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})})]},me))}),de&&g.jsxs("div",{className:"flex justify-between items-center mb-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:"Photo Captured"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:de.name})]}),g.jsx("button",{onClick:()=>ue(null),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600",children:g.jsx(it,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})})]}),g.jsxs("div",{className:"flex items-end gap-2",children:[g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>F(W=>!W),className:"p-2 text-gray-500 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400",children:g.jsx(cE,{className:"w-6 h-6"})}),O&&g.jsxs("div",{className:"absolute bottom-full mb-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border dark:border-gray-600 p-2 z-10",children:[g.jsxs("button",{onClick:()=>{var W;(W=b.current)==null||W.click(),F(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(Ah,{className:"w-4 h-4"})," Attach File"]}),g.jsxs("button",{onClick:()=>{A(!0),F(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(au,{className:"w-4 h-4"})," Use Camera"]}),g.jsxs("button",{onClick:()=>{S(!0),F(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(fE,{className:"w-4 h-4"})," Create Poll"]}),g.jsxs("button",{onClick:()=>{U(!0),F(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-sm",children:[g.jsx(xa,{className:"w-4 h-4"})," Share Location"]})]}),g.jsx("input",{type:"file",ref:b,onChange:pe,className:"hidden"})]}),g.jsx("textarea",{ref:k,value:v,onChange:W=>h(W.target.value),onKeyDown:ie,placeholder:"Type a message...",rows:1,className:"flex-1 resize-none bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-2.5 border-transparent focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:o||Q}),g.jsx("button",{onClick:K,disabled:!!Z,className:`p-2 rounded-full transition-colors ${Q?"bg-red-500 text-white animate-pulse":"text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400"} disabled:opacity-50`,children:g.jsx(Nh,{className:"w-6 h-6"})}),g.jsx("button",{onClick:X,disabled:o||!v.trim()&&!u&&!Z&&le.length===0&&!de,className:"p-2.5 text-white bg-primary-600 rounded-full hover:bg-primary-700 disabled:bg-primary-300 dark:disabled:bg-primary-800 transition-colors",children:g.jsx(uE,{className:"w-6 h-6"})})]})]}),g.jsx(GE,{isOpen:x,onClose:()=>S(!1),onCreatePoll:n}),g.jsx(BE,{isOpen:C,onClose:()=>A(!1),onCapture:N}),g.jsx(PE,{isOpen:q,onClose:()=>U(!1),onSendLocation:H})]})},JE=({users:l})=>{if(l.length===0)return g.jsx("div",{className:"h-6 px-4"});const n=l.map(s=>s.name);let o;return n.length===1?o=`${n[0]} is typing`:n.length===2?o=`${n[0]} and ${n[1]} are typing`:o="Several people are typing",g.jsxs("div",{className:"h-6 px-4 text-sm text-gray-500 dark:text-gray-400 italic flex items-center transition-opacity duration-300",children:[g.jsx("p",{className:"truncate",children:o}),g.jsxs("div",{className:"flex items-center space-x-1 ml-1.5",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-pulse [animation-delay:-0.3s]"}),g.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-pulse [animation-delay:-0.15s]"}),g.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-pulse"})]})]})},YE=({messages:l,onUnpin:n})=>{if(l.length===0)return null;const o=l[0];return g.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/40 border-b border-primary-200 dark:border-primary-800 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center justify-between text-sm max-w-full mx-auto px-2",children:[g.jsxs("div",{className:"flex items-center min-w-0",children:[g.jsx(Mh,{className:"w-4 h-4 text-primary-600 dark:text-primary-400 flex-shrink-0"}),g.jsxs("div",{className:"ml-2 min-w-0",children:[g.jsx("span",{className:"font-semibold text-primary-800 dark:text-primary-200",children:o.author.name}),g.jsxs("span",{className:"text-gray-600 dark:text-gray-300 ml-1 truncate",children:[": ",o.text]})]})]}),g.jsx("button",{onClick:()=>n(o.id),className:"p-1 rounded-full hover:bg-primary-100 dark:hover:bg-primary-800/60 flex-shrink-0 ml-2",children:g.jsx(it,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})})]})})},FE=({room:l,onJoin:n,currentUser:o})=>{if(!l.activeCall)return null;const s=l.activeCall.participants.map(p=>Ta[p]||(p===o.id?o:null)).filter(p=>p!==null),u=s.slice(0,3),d=s.length-u.length;return g.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/40 border-b border-green-200 dark:border-green-800 flex-shrink-0 animate-pulse-fast",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm max-w-full mx-auto px-2",children:[g.jsxs("div",{className:"flex items-center min-w-0",children:[g.jsx(gu,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"}),g.jsx("div",{className:"ml-3 flex items-center -space-x-2",children:u.map(p=>g.jsx(Ot,{user:p,size:"xs"},p.id))}),g.jsxs("p",{className:"ml-3 text-sm font-medium text-green-800 dark:text-green-200 truncate",children:[s.length," ",s.length===1?"person":"people"," in the call",d>0&&` (+${d} more)`]})]}),g.jsx("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-semibold text-white bg-green-600 rounded-md hover:bg-green-700",children:"Join Call"})]}),g.jsx("style",{children:".animate-pulse-fast { animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }"})]})},XE=({room:l})=>l.type==="ai"?g.jsx(Aa,{className:"w-6 h-6 text-green-500"}):l.type==="self"?g.jsx(pu,{className:"w-6 h-6 text-purple-500"}):g.jsx(Sh,{className:"w-6 h-6 text-blue-500"}),QE=({room:l,currentUser:n,sendMessage:o,sendPoll:s,handleVote:u,handleReaction:d,deleteMessage:p,togglePinMessage:y,isSending:v,typingUsers:h,settings:x,onOpenSettings:S,jumpToMessageId:C,onClearJump:A,onStartVideoCall:q,onJoinVideoCall:U})=>{var de;const O=V.useRef(null),[F,Q]=V.useState(null),[Y,Z]=V.useState(null),[te,J]=V.useState(null);V.useEffect(()=>{var ue;C||(ue=O.current)==null||ue.scrollIntoView({behavior:"smooth"})},[l.messages,C]),V.useEffect(()=>{if(C){const ue=document.getElementById(`message-${C}`);if(ue){ue.scrollIntoView({behavior:"smooth",block:"center"}),Z(C);const ce=setTimeout(()=>{Z(null)},2500);return A(),()=>clearTimeout(ce)}}},[C,A]);const P=l.messages.filter(ue=>ue.isPinned),le=ue=>{o(ue,F==null?void 0:F.id,te==null?void 0:te.id),F&&Q(null),te&&J(null)},ne=((de=l.activeCall)==null?void 0:de.participants.includes(n.id))??!1;return g.jsxs("div",{className:"flex-1 flex flex-col h-screen",children:[g.jsxs("header",{className:"flex items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 z-10 flex-shrink-0",children:[l.type==="self"?g.jsxs(g.Fragment,{children:[g.jsx(Ot,{user:n,size:"md"}),g.jsx("h2",{className:"text-lg font-semibold ml-3 text-gray-800 dark:text-gray-100",children:l.name})]}):g.jsxs(g.Fragment,{children:[g.jsx(XE,{room:l}),g.jsx("h2",{className:"text-lg font-semibold ml-3 text-gray-800 dark:text-gray-100",children:l.name})]}),g.jsx("div",{className:"ml-auto",children:l.type==="group"&&!l.activeCall&&g.jsx("button",{onClick:q,className:"p-2 text-gray-500 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400",children:g.jsx(gu,{className:"w-6 h-6"})})})]}),l.activeCall&&!ne&&g.jsx(FE,{room:l,onJoin:U,currentUser:n}),P.length>0&&g.jsx(YE,{messages:P,onUnpin:y}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100 dark:bg-gray-900",children:[g.jsxs("div",{className:"space-y-4",children:[l.messages.length===0&&g.jsx("div",{className:"flex justify-center items-center h-full",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No messages yet. Start the conversation!"})}),l.messages.map((ue,ce)=>{const be=l.messages[ce-1],j=be&&be.author.id===ue.author.id&&ue.timestamp-be.timestamp<6e4;return g.jsx(VE,{message:ue,currentUser:n,isConsecutive:j,onVote:u,onReaction:d,onDelete:p,onSetEditingMessage:Q,onTogglePin:y,onReply:J,repliedToMessage:l.messages.find(ee=>ee.id===ue.replyTo),isHighlighted:ue.id===Y},ue.id)})]}),g.jsx("div",{ref:O})]}),g.jsx(JE,{users:h}),g.jsx(OE,{onSendMessage:le,onCreatePoll:s,isSending:v,settings:x,editingMessage:F,onCancelEdit:()=>Q(null),onOpenSettings:S,replyingMessage:te,onCancelReply:()=>J(null)})]})},KE=({isOpen:l,onClose:n,currentUser:o,updateUser:s,logout:u,settings:d,toggleDarkMode:p,toggleEnterToSend:y})=>{const[v,h]=V.useState(o.name),[x,S]=V.useState(""),[C,A]=V.useState("Copy Link"),[q,U]=V.useState(o.profilePicture||null),[O,F]=V.useState(null);V.useEffect(()=>{h(o.name),S(""),U(o.profilePicture||null)},[o,l]);const Q=P=>{var ne;const le=(ne=P.target.files)==null?void 0:ne[0];if(le){if(!le.type.startsWith("image/")){alert("Please select a valid image file.");return}if(le.size>5*1024*1024){alert("File size must be less than 5MB.");return}F(le);const de=new FileReader;de.onload=ue=>{var ce;U((ce=ue.target)==null?void 0:ce.result)},de.readAsDataURL(le)}},Y=()=>{if(v.trim()){const P={name:v};O&&(P.profilePicture=q),s(P),S("Saved!"),setTimeout(()=>S(""),2e3),n()}else S("Name cannot be empty"),setTimeout(()=>S(""),2e3)},Z=V.useCallback(()=>{const P=`${window.location.origin}?ref=${o.id}`;navigator.clipboard.writeText(P).then(()=>{A("Copied!"),setTimeout(()=>A("Copy Link"),2e3)})},[o.id]);if(!l)return null;const te=d.theme==="dark",J=x==="Saved!";return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:P=>P.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Profile & Settings"}),g.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3 dark:text-gray-200",children:"Profile"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=document.getElementById("profile-picture-upload"))==null?void 0:P.click()},children:q?g.jsx("img",{src:q,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-2xl",children:o.name.charAt(0).toUpperCase()})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{htmlFor:"username-settings",className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Username"}),g.jsx("input",{id:"username-settings",type:"text",value:v,onChange:P=>h(P.target.value),className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),g.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",id:"profile-picture-upload"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3 dark:text-gray-200",children:"Settings"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Theme"}),g.jsx("button",{onClick:p,className:"p-2 text-gray-500 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400",children:te?g.jsx(sE,{className:"w-5 h-5"}):g.jsx(aE,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Enter to Send"}),g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d.enterToSend,onChange:y,className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-2 dark:text-gray-200",children:"Invite Friends"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Share this link to invite others to the app!"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}?ref=${o.id}`,className:"w-full mt-1 px-3 py-2 text-sm border rounded bg-gray-100 dark:bg-gray-900 dark:border-gray-600 dark:text-gray-300"}),g.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-2 mt-1 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 min-w-[110px] justify-center",children:[g.jsx(hu,{className:"w-4 h-4"})," ",C]})]})]})]}),g.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t dark:border-gray-700 flex justify-between items-center",children:[g.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 rounded-md hover:bg-red-100 dark:hover:bg-red-900/50",children:[g.jsx(oE,{className:"w-5 h-5"})," Logout"]}),g.jsx("button",{onClick:Y,className:`px-4 py-2 text-sm font-medium text-white rounded-md min-w-[120px] transition-colors ${J?"bg-green-600 hover:bg-green-700":"bg-primary-600 hover:bg-primary-700"}`,children:x||"Save Changes"})]})]})})},ZE=({currentUser:l,onOpenSettings:n,onOpenLogin:o})=>g.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[g.jsx(Ot,{user:l,size:"md"}),g.jsx("span",{className:"ml-3 text-sm font-semibold text-gray-800 dark:text-gray-200 truncate",children:l.name})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:o||n,className:"text-sm text-gray-600 dark:text-gray-400 hover:underline",children:"Login"}),g.jsx("button",{onClick:n,className:"p-2 text-gray-500 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 dark:text-gray-400",children:g.jsx(iE,{className:"w-5 h-5"})})]})]})}),jE=({users:l,title:n,roomId:o,currentUser:s})=>{const u=V.useCallback(()=>{navigator.clipboard.writeText(o),alert(`Invite code "${o}" copied to clipboard!`)},[o]);return g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[g.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 mb-2",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:n}),g.jsxs("button",{onClick:u,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-primary-600 dark:text-primary-400 rounded-md hover:bg-primary-50 dark:hover:bg-primary-900/50",children:[g.jsx(hu,{className:"w-3 h-3"})," Invite"]})]}),g.jsx("nav",{className:"space-y-1 overflow-y-auto flex-grow p-2",children:l.map(d=>g.jsxs("div",{className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300",children:[g.jsx(Ot,{user:d,size:"sm"}),g.jsxs("span",{className:"ml-3 truncate",children:[d.name," ",d.id===s.id?"(You)":""]})]},d.id))})]})},$E=(l,n)=>{if(!n.trim())return l;const o=new RegExp(`(${n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),s=l.split(o);return g.jsx(g.Fragment,{children:s.map((u,d)=>u.toLowerCase()===n.toLowerCase()?g.jsx("mark",{className:"bg-primary-200 dark:bg-primary-700 rounded px-0.5 text-black dark:text-white",children:u},d):u)})},WE=l=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(l),e_=({isOpen:l,onClose:n,results:o,query:s,onJumpToMessage:u})=>l?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-start pt-16 p-4",onClick:n,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl h-[70vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center flex-shrink-0",children:[g.jsxs("h2",{className:"text-lg font-semibold dark:text-white",children:['Search Results for "',s,'"']}),g.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsx("div",{className:"p-2 overflow-y-auto flex-grow",children:o.length>0?g.jsx("ul",{className:"space-y-1",children:o.map(({message:d,roomId:p,roomName:y})=>g.jsx("li",{children:g.jsxs("button",{onClick:()=>u(p,d.id),className:"w-full flex items-start gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 text-left",children:[g.jsx(Ot,{user:d.author,size:"md"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate",children:d.author.name}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:WE(d.timestamp)})]}),g.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400",children:[g.jsx(nE,{className:"w-3 h-3"}),g.jsx("span",{className:"truncate",children:y})]})]}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 whitespace-pre-wrap break-words",children:$E(d.text,s)})]})]})},d.id))}):g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[g.jsx(bh,{className:"w-16 h-16 mb-4"}),g.jsx("p",{className:"text-lg font-semibold",children:"No results found"}),g.jsx("p",{children:"Try searching for something else."})]})})]})}):null,t_=l=>l<=1?"grid-cols-1 grid-rows-1":l===2?"grid-cols-1 grid-rows-2":l===3||l===4?"grid-cols-2 grid-rows-2":l===5||l===6?"grid-cols-3 grid-rows-2":"grid-cols-3 grid-rows-3",n_=({room:l,currentUser:n,onLeaveCall:o})=>{var te;const s=V.useRef(null),u=V.useRef(null),d=V.useRef(null),p=V.useRef(null),[y,v]=V.useState(!1),[h,x]=V.useState(!1),[S,C]=V.useState(!1),A=V.useCallback(()=>{p.current&&(p.current.getTracks().forEach(J=>J.stop()),p.current=null),C(!1),u.current&&(u.current.srcObject=null)},[]);V.useEffect(()=>((async()=>{try{const P=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});d.current=P,s.current&&(s.current.srcObject=P)}catch(P){console.error("Error accessing media devices.",P),alert("Could not access camera and microphone. Please check permissions."),o()}})(),()=>{d.current&&d.current.getTracks().forEach(P=>P.stop()),A()}),[o,A]);const q=()=>{d.current&&(d.current.getAudioTracks().forEach(J=>{J.enabled=!J.enabled}),v(J=>!J))},U=()=>{d.current&&(d.current.getVideoTracks().forEach(J=>{J.enabled=!J.enabled}),x(J=>!J))},O=async()=>{if(S)A();else try{const J=await navigator.mediaDevices.getDisplayMedia({video:!0});p.current=J,u.current&&(u.current.srcObject=J),J.getVideoTracks()[0].onended=()=>{A()},C(!0)}catch(J){console.error("Error sharing screen:",J),J instanceof DOMException&&J.name==="NotAllowedError"?alert("Screen sharing permission was denied. To share your screen, you must grant permission when prompted."):alert("Could not start screen sharing. Please ensure your browser supports this feature and try again.")}},F=()=>{A(),o()},Q=((te=l.activeCall)==null?void 0:te.participants.map(J=>Ta[J]||(J===n.id?n:null)).filter(J=>J!==null))||[],Y=t_(S?1:Q.length),Z=({participant:J,isLocal:P,isThumb:le})=>g.jsxs("div",{className:`relative bg-gray-800 rounded-lg overflow-hidden ${le?"w-full aspect-video":"w-full h-full"}`,children:[P?g.jsxs(g.Fragment,{children:[g.jsx("video",{ref:s,autoPlay:!0,muted:!0,className:`w-full h-full object-cover ${h?"hidden":""}`}),h&&g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:g.jsx(Ot,{user:J,size:le?"md":"lg"})})]}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:g.jsx(Ot,{user:J,size:le?"md":"lg"})}),g.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-sm px-2 py-1 rounded",children:[J.name," ",P?"(You)":""]})]});return g.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex flex-col p-4",children:[g.jsxs("div",{className:`flex-1 flex gap-4 overflow-hidden ${S?"flex-col md:flex-row":""}`,children:[g.jsx("div",{className:"flex-1 bg-black rounded-lg overflow-hidden flex items-center justify-center",children:S?g.jsx("video",{ref:u,autoPlay:!0,className:"w-full h-full object-contain"}):g.jsx("div",{className:`w-full h-full grid ${Y} gap-4`,children:Q.map(J=>g.jsx(Z,{participant:J,isLocal:J.id===n.id,isThumb:!1},J.id))})}),S&&g.jsx("div",{className:"w-full md:w-60 flex-shrink-0 flex md:flex-col gap-2 overflow-y-auto p-1",children:Q.map(J=>g.jsx(Z,{participant:J,isLocal:J.id===n.id,isThumb:!0},J.id))})]}),g.jsx("div",{className:"flex-shrink-0 flex justify-center items-center pt-4",children:g.jsxs("div",{className:"flex items-center gap-4 bg-gray-800 p-3 rounded-full",children:[g.jsx("button",{onClick:q,className:`p-3 rounded-full ${y?"bg-red-600":"bg-gray-600"} text-white`,children:y?g.jsx(vE,{className:"w-6 h-6"}):g.jsx(Nh,{className:"w-6 h-6"})}),g.jsx("button",{onClick:U,className:`p-3 rounded-full ${h?"bg-red-600":"bg-gray-600"} text-white`,children:h?g.jsx(yE,{className:"w-6 h-6"}):g.jsx(gu,{className:"w-6 h-6"})}),g.jsx("button",{onClick:O,className:`p-3 rounded-full ${S?"bg-green-600":"bg-gray-600"} text-white`,children:g.jsx(TE,{className:"w-6 h-6"})}),g.jsx("button",{onClick:F,className:"p-3 rounded-full bg-red-600 text-white",children:g.jsx(xE,{className:"w-6 h-6"})})]})})]})},l_=({user:l,updateUser:n,logout:o,onOpenLogin:s,...u})=>{var K;const{rooms:d,activeRoom:p,setActiveRoom:y,sendMessage:v,sendPoll:h,handleVote:x,handleReaction:S,isSending:C,createRoom:A,joinRoom:q,activeTypingUsers:U,unreadCounts:O,deleteMessage:F,togglePinMessage:Q,searchMessages:Y,clearSearch:Z,searchResults:te,isSearching:J,startVideoCall:P,joinVideoCall:le,leaveVideoCall:ne,deleteRoom:de}=tE(l),[ue,ce]=V.useState(!1),[be,j]=V.useState(""),[ee,b]=V.useState(null),k=p?d.find($=>$.id===p.id):null,X=k?k.users.map($=>Ta[$]||($===l.id?l:void 0)).filter($=>!!$):[],ie=($,he)=>{j($),Y($,he)},pe=($,he)=>{const W=d.find(me=>me.id===$);W&&((p==null?void 0:p.id)!==$&&y(W),b(he),Z(),j(""))},N=()=>{b(null)},H=((K=k==null?void 0:k.activeCall)==null?void 0:K.participants.includes(l.id))??!1;return g.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[g.jsxs("aside",{className:"w-80 flex-shrink-0 flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4 px-2 text-gray-800 dark:text-gray-100",children:"ChatSphere"}),g.jsx(RE,{rooms:d,activeRoom:p,setActiveRoom:y,createRoom:A,joinRoom:q,deleteRoom:de,unreadCounts:O,onSearch:ie,currentUser:l}),g.jsx("div",{className:"mt-auto",children:g.jsx(ZE,{currentUser:l,onOpenSettings:()=>ce(!0),onOpenLogin:s})})]}),g.jsx("main",{className:"flex-1 flex flex-col min-w-0",children:k?g.jsx(QE,{room:k,currentUser:l,sendMessage:v,sendPoll:h,handleVote:x,handleReaction:S,deleteMessage:F,togglePinMessage:Q,isSending:C,typingUsers:U,settings:u.settings,onOpenSettings:()=>ce(!0),jumpToMessageId:ee,onClearJump:N,onStartVideoCall:()=>P(k.id),onJoinVideoCall:()=>le(k.id)},k.id):g.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400",children:g.jsx("p",{className:"text-lg",children:"Select a chat to start messaging"})})}),k&&k.type==="group"&&g.jsx("aside",{className:"w-72 flex-shrink-0 flex flex-col bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700",children:g.jsx(jE,{users:X,title:"Members",roomId:k.id,currentUser:l})}),g.jsx(KE,{isOpen:ue,onClose:()=>ce(!1),currentUser:l,updateUser:n,logout:o,...u}),g.jsx(e_,{isOpen:J,onClose:Z,results:te,query:be,onJumpToMessage:pe}),k&&H&&g.jsx(n_,{room:k,currentUser:l,onLeaveCall:()=>ne(k.id)})]})},i_=({isOpen:l,onClose:n,onLogin:o})=>{const[s,u]=V.useState(""),[d,p]=V.useState(""),[y,v]=V.useState("");if(!l)return null;const h=C=>{if(C.preventDefault(),s.trim().length<3){v("Username must be at least 3 characters long.");return}if(d.length<6){v("Password must be at least 6 characters long.");return}v(""),o(s,d)?n():v("Invalid credentials.")},x=()=>{console.log("Google login clicked")},S=()=>{console.log("Facebook login clicked")};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:n,children:g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Login"}),g.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:g.jsx(it,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("form",{onSubmit:h,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Username"}),g.jsx("input",{type:"text",value:s,onChange:C=>u(C.target.value),className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter username",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Password"}),g.jsx("input",{type:"password",value:d,onChange:C=>p(C.target.value),className:"w-full mt-1 px-3 py-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter password",required:!0})]}),y&&g.jsx("p",{className:"text-sm text-red-500",children:y}),g.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:"Login"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:[g.jsx(SE,{className:"w-4 h-4"}),"Continue with Google"]}),g.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:[g.jsx(CE,{className:"w-4 h-4"}),"Continue with Facebook"]})]})]})]})})},o_=({onLogin:l})=>{const[n,o]=V.useState(""),[s,u]=V.useState(""),[d,p]=V.useState(!1),y=S=>{if(S.preventDefault(),n.trim().length<3){u("Username must be at least 3 characters long.");return}u(""),l(n)},v=()=>{p(!0)},h=()=>{p(!1)},x=(S,C)=>(console.log("Password login:",S,C),l(S),!0);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg dark:bg-gray-800",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"p-3 mb-4 bg-primary-100 rounded-full dark:bg-primary-900/50",children:g.jsx(Aa,{className:"w-10 h-10 text-primary-600 dark:text-primary-400"})}),g.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:"Welcome to ChatSphere"}),g.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Enter a username to join the chat"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[g.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:g.jsxs("div",{children:[g.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"relative block w-full px-3 py-3 text-lg placeholder-gray-500 bg-gray-50 border border-gray-300 rounded-md appearance-none focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Your Username",value:n,onChange:S=>o(S.target.value)})]})}),s&&g.jsx("p",{className:"text-sm text-red-500",children:s}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"Login"}),g.jsx("button",{type:"submit",className:"px-4 py-3 text-lg font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-300",children:"Join Chat"})]})]})]})}),g.jsx(i_,{isOpen:d,onClose:h,onLogin:x})]})},Yl="fake_jwt_token",a_=()=>{const[l,n]=V.useState(null),[o,s]=V.useState(!0);V.useEffect(()=>{try{const y=localStorage.getItem(Yl);if(y){const v=JSON.parse(atob(y.split(".")[1]));v&&v.id&&n({id:v.id,name:v.name,profilePicture:v.profilePicture,isOnline:!0})}}catch(y){console.error("Failed to parse auth token",y),localStorage.removeItem(Yl)}finally{s(!1)}},[]);const u=V.useCallback(y=>{const v=y.trim();if(v){const x={id:`user-${Date.now()}`,name:v,isOnline:!0},S=`header.${btoa(JSON.stringify(x))}.signature`;return localStorage.setItem(Yl,S),n(x),!0}return!1},[]),d=V.useCallback(()=>{localStorage.removeItem(Yl),n(null)},[]),p=V.useCallback(y=>{n(v=>{if(!v)return null;const h={...v,...y};try{const x=localStorage.getItem(Yl);if(x){const C={...JSON.parse(atob(x.split(".")[1])),name:h.name,profilePicture:h.profilePicture},A=`header.${btoa(JSON.stringify(C))}.signature`;localStorage.setItem(Yl,A)}}catch(x){console.error("Failed to update token",x)}return h})},[]);return{user:l,login:u,logout:d,loading:o,updateUser:p}},s_=()=>{try{const n=localStorage.getItem("chat_settings");if(n)return JSON.parse(n)}catch(n){console.error("Failed to parse settings from localStorage",n)}return{theme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",enterToSend:!0}},r_=()=>{const[l,n]=V.useState(s_);V.useEffect(()=>{l.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("chat_settings",JSON.stringify(l))},[l]);const o=V.useCallback(()=>{n(u=>({...u,theme:u.theme==="light"?"dark":"light"}))},[]),s=V.useCallback(()=>{n(u=>({...u,enterToSend:!u.enterToSend}))},[]);return{settings:l,toggleDarkMode:o,toggleEnterToSend:s}},u_=()=>{const{user:l,loading:n,login:o,updateUser:s,logout:u}=a_(),{settings:d,toggleDarkMode:p,setFontSize:y,toggleEnterToSend:v}=r_(),[h,x]=V.useState(!1),S=()=>{x(!0)},C=q=>{const U=o(q);return U&&x(!1),U};if(n)return g.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:g.jsx("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});const A={settings:d,toggleDarkMode:p,setFontSize:y,toggleEnterToSend:v};return g.jsx("div",{className:"h-screen font-sans text-gray-800 dark:text-gray-200",children:l&&!h?g.jsx(l_,{user:l,updateUser:s,logout:u,onOpenLogin:S,...A}):g.jsx(o_,{onLogin:C})})},Rh=document.getElementById("root");if(!Rh)throw new Error("Could not find root element to mount to");const c_=fy.createRoot(Rh);c_.render(g.jsx(ly.StrictMode,{children:g.jsx(u_,{})}));
